<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with transmission line models for three-phase unbalanced AC systems&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Lines<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced.html#Buildings.Electrical.AC.ThreePhasesUnbalanced"
>Buildings.Electrical.AC.ThreePhasesUnbalanced</a>.Lines</h2>
<p>
<b>Package with transmission line models for three-phase unbalanced AC systems</b><br>
</p>
<h3>Information</h3>

<p>
This package contains models for transmission lines and electrical networks
of AC three-phase unbalanced systems.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Teb9807effe276ac4.LineS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line"
>Line</a>
</td>
<td>Model of an electrical line without neutral cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T126c05529dab185eine_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N"
>Line_N</a>
</td>
<td>Model of an electrical line with neutral cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T545ac10f2ccaccb8tworkS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network"
>Network</a>
</td>
<td>Three phases unbalanced AC network without neutral cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tb7b7e7722b3eeb1dork_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network_N"
>Network_N</a>
</td>
<td>Three phases unbalanced AC network with neutral cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tb6cb5b984ffe5c9dtanceS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance"
>TwoPortInductance</a>
</td>
<td>Model of an inductance with two electrical ports</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Ta61f3143f9727e81nce_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance_N"
>TwoPortInductance_N</a>
</td>
<td>Model of an inductance with two electrical ports and neutral line cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL"
>TwoPortMatrixRL</a>
</td>
<td>Model of an RL line parameterized with impedance matrices</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC"
>TwoPortMatrixRLC</a>
</td>
<td>PI model of a line parameterized with impedance and admittance matrices</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC_N"
>TwoPortMatrixRLC_N</a>
</td>
<td>PI model of a line parameterized with impedance and admittance matrices and neutral line</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N"
>TwoPortMatrixRL_N</a>
</td>
<td>Model of an RL line parameterized with impedance matrices and neutral line</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Tdaa4d4e4a53e8c29ortRLS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL"
>TwoPortRL</a>
</td>
<td>Model of a resistive-inductive element with two electrical ports</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Te258f0efa7118577rtRLCS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC"
>TwoPortRLC</a>
</td>
<td>Model of an RLC element with two electrical ports</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T3c2f36524615d54cRLC_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC_N"
>TwoPortRLC_N</a>
</td>
<td>Model of an RLC element with two electrical ports and neutral line cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.Td38358efea30ad3atRL_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL_N"
>TwoPortRL_N</a>
</td>
<td>Model of a resistive-inductive element with two electrical ports and neutral line cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T86973f136ffd3722tanceS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance"
>TwoPortResistance</a>
</td>
<td>Model of a resistance with two electrical ports</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T50d36196f4dc8201nce_NS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance_N" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance_N"
>TwoPortResistance_N</a>
</td>
<td>Model of a resistance with two electrical ports and neutral cable</td>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T06e49b78f2f61ee9mplesS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines_Examples.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Examples"
>Examples</a>
</td>
<td>Package with example models</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Line<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Teb9807effe276ac4.LineI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.Line</h2>
<p>
<b>Model of an electrical line without neutral cable</b>
<br>
<br><img src="Buildings.Electrical.AC.Teb9807effe276ac4.LineD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line">
</p>
<h3>Information</h3>

<p>
This model represents an AC three-phase unbalanced cable without
neutral connection. The model is based on
<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC"
>
Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC</a>
and provides functionalities to parametrize the values of <i>R</i>, <i>L</i> and <i>C</i>
using either commercial cables or default values.
</p>

<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable), <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine"
>Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine</a> (Partial cable line dispersion model).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>l</td><td>&nbsp;</td><td>Length of the line [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Power</a></td><td>P_nominal</td><td>&nbsp;</td><td>Nominal power of the line [W]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Model</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Assumptions</td></tr>
<tr><td>Boolean</td><td>use_C</td><td>false</td><td>Set to true to add a capacitance in the center of the line</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>modelMode</td><td>Buildings.Electrical.Types.L...</td><td>Select between steady state and dynamic model</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Thermal</td></tr>
<tr><td>Boolean</td><td>use_T</td><td>false</td><td>If true, enables the input for the temperature of the cable</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCable</td><td>T_ref</td><td>Fixed temperature of the cable [K]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Tech. specification</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Auto/Manual mode</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.CableMode"
>CableMode</a></td><td>mode</td><td>Buildings.Electrical.Types.C...</td><td>Select if choosing the cable automatically or between a list of commercial options</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Manual mode</td></tr>
<tr><td><a href="Buildings_Electrical_Transmission_LowVoltageCables.html#Buildings.Electrical.Transmission.LowVoltageCables.Generic"
>Generic</a></td><td>commercialCable</td><td>Buildings.Electrical.Transmi...</td><td>Commercial cables options</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>T</td><td>Temperature of the cable</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Line <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of an electrical line without neutral cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine"
>Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine</a>(
  V_nominal(start = 480),
  commercialCable =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.Transmission.Functions.selectCable_low</span>(P_nominal, V_nominal));
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase1.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase2.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase3.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Line;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Line_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.T126c05529dab185eine_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.Line_N</h2>
<p>
<b>Model of an electrical line with neutral cable</b>
<br>
<br><img src="Buildings.Electrical.AC.T126c05529dab185eine_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N">
</p>
<h3>Information</h3>

<p>
This model represents an AC three-phase unbalanced cable with
neutral connection. The model is based on
<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC"
>
Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC</a>
and provides functionalities to parametrize the values of <i>R</i>, <i>L</i> and <i>C</i>
using either commercial cables or default values.
</p>

<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable), <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine"
>Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine</a> (Partial cable line dispersion model).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>l</td><td>&nbsp;</td><td>Length of the line [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Power</a></td><td>P_nominal</td><td>&nbsp;</td><td>Nominal power of the line [W]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Model</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Assumptions</td></tr>
<tr><td>Boolean</td><td>use_C</td><td>false</td><td>Set to true to add a capacitance in the center of the line</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>modelMode</td><td>Buildings.Electrical.Types.L...</td><td>Select between steady state and dynamic model</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Thermal</td></tr>
<tr><td>Boolean</td><td>use_T</td><td>false</td><td>If true, enables the input for the temperature of the cable</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCable</td><td>T_ref</td><td>Fixed temperature of the cable [K]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Tech. specification</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Auto/Manual mode</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.CableMode"
>CableMode</a></td><td>mode</td><td>Buildings.Electrical.Types.C...</td><td>Select if choosing the cable automatically or between a list of commercial options</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Manual mode</td></tr>
<tr><td><a href="Buildings_Electrical_Transmission_LowVoltageCables.html#Buildings.Electrical.Transmission.LowVoltageCables.Generic"
>Generic</a></td><td>commercialCable</td><td>Buildings.Electrical.Transmi...</td><td>Commercial cables options</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>T</td><td>Temperature of the cable</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Line_N <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of an electrical line with neutral cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine"
>Buildings.Electrical.Transmission.BaseClasses.PartialBaseLine</a>(
  V_nominal(start = 480),
  commercialCable =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.Transmission.Functions.selectCable_low</span>(P_nominal, V_nominal));
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> neutral(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=modelMode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance of the neutral cable&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase1.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase2.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, phase3.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cableTemp.port, neutral.heatPort);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Neutral cable connection</span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[4], neutral.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_p.phase[4], neutral.terminal_p);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Line_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Network<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.T545ac10f2ccaccb8tworkI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.Network</h2>
<p>
<b>Three phases unbalanced AC network without neutral cable</b>
<br>
<br><img src="Buildings.Electrical.AC.T545ac10f2ccaccb8tworkD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network">
</p>
<h3>Information</h3>

<p>
This model represents a generalized electrical AC three-phase unbalanced network
without neutral cable.
</p>
<p>
See <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>
Buildings.Electrical.Transmission.BaseClasses.PartialNetwork</a>
for information about the network model.
</p>
<p>
See <a href="Buildings_Electrical_Transmission_Grids.html#Buildings.Electrical.Transmission.Grids.PartialGrid"
>
Buildings.Electrical.Transmission.Grids.PartialGrid</a>
for more information about the topology of the network, such as
the number of nodes, how they are connected, and the length of each connection.
</p>

<p>Extends from <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>Transmission.BaseClasses.PartialNetwork</a> (Partial model that represent an electric network).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage of the lines in the network [V]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Network <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Three phases unbalanced AC network without neutral cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>Transmission.BaseClasses.PartialNetwork</a>(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p</a>
                                                                          terminal,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_Transmission_Grids.html#Buildings.Electrical.Transmission.Grids.TestGrid2Nodes"
>Transmission.Grids.TestGrid2Nodes</a> grid,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line</a> lines(commercialCable=grid.cables));
    <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> VAbs[3,grid.nNodes] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;RMS voltage of the grid nodes&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:grid.nLinks<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(lines[i].terminal_p, terminal[grid.fromTo[i,1]]);
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(lines[i].terminal_n, terminal[grid.fromTo[i,2]]);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:grid.nNodes<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    VAbs[1,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[1].v);
    VAbs[2,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[2].v);
    VAbs[3,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[3].v);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Network;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Network_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tb7b7e7722b3eeb1dork_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.Network_N</h2>
<p>
<b>Three phases unbalanced AC network with neutral cable</b>
<br>
<br><img src="Buildings.Electrical.AC.Tb7b7e7722b3eeb1dork_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Network_N">
</p>
<h3>Information</h3>

<p>
This model represents a generalized electrical AC three-phase unbalanced network
with neutral cable.
</p>
<p>
See <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>
Buildings.Electrical.Transmission.BaseClasses.PartialNetwork</a>
for information about the network model.
</p>
<p>
See <a href="Buildings_Electrical_Transmission_Grids.html#Buildings.Electrical.Transmission.Grids.PartialGrid"
>
Buildings.Electrical.Transmission.Grids.PartialGrid</a>
for more information about the topology of the network, such as
the number of nodes, how they are connected, and the length of each connection.
</p>

<p>Extends from <a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>Transmission.BaseClasses.PartialNetwork</a> (Partial model that represent an electric network).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage of the lines in the network [V]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Network_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Three phases unbalanced AC network with neutral cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_Transmission_BaseClasses.html#Buildings.Electrical.Transmission.BaseClasses.PartialNetwork"
>Transmission.BaseClasses.PartialNetwork</a>(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p</a>
                                                                           terminal,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_Transmission_Grids.html#Buildings.Electrical.Transmission.Grids.TestGrid2Nodes"
>Transmission.Grids.TestGrid2Nodes</a> grid,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.Line_N</a> lines(
        commercialCable=grid.cables));
    <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> VAbs[3,grid.nNodes] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;RMS voltage of the grid nodes&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:grid.nLinks<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(lines[i].terminal_p, terminal[grid.fromTo[i,1]]);
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(lines[i].terminal_n, terminal[grid.fromTo[i,2]]);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:grid.nNodes<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    VAbs[1,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[1].v - terminal[i].phase[4].v);
    VAbs[2,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[2].v - terminal[i].phase[4].v);
    VAbs[3,i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.systemVoltage</span>(terminal[i].phase[3].v - terminal[i].phase[4].v);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Network_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortInductance<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tb6cb5b984ffe5c9dtanceI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortInductance</h2>
<p>
<b>Model of an inductance with two electrical ports</b>
<br>
<br><img src="Buildings.Electrical.AC.Tb6cb5b984ffe5c9dtanceD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance">
</p>
<h3>Information</h3>

<p>
Inductive model that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortL.png"/>
</p>

<p>
The model represents the lumped inductances as shown in the figure above.
Assuming that the inductance <i>L</i> is the overall inductance of the cable,
each line has an inductance equal to <i>L/3</i>.
</p>


<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortInductance <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of an inductance with two electrical ports&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortInductance;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortInductance_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Ta61f3143f9727e81nce_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortInductance_N</h2>
<p>
<b>Model of an inductance with two electrical ports and neutral line cable</b>
<br>
<br><img src="Buildings.Electrical.AC.Ta61f3143f9727e81nce_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortInductance_N">
</p>
<h3>Information</h3>

<p>
Inductive model that connects two AC three-phase
unbalanced interfaces with neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortL_N.png"/>
</p>

<p>
The model represents the lumped inductances as shown in the figure above.
Assuming that the inductance <i>L</i> is the overall inductance of the cable,
each line has an inductance equal to <i>L/3</i>.
</p>
<p>
The inductance of the neutral cable is defined separately using the parameter
<code>Ln</code>.
</p>

<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>Ln</td><td>&nbsp;</td><td>Inductance of neutral cable [H]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortInductance_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of an inductance with two electrical ports and neutral line cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> Ln <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance of neutral cable&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 3&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortInductance"
>OnePhase.Lines.TwoPortInductance</a> phase4(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase4.terminal_p, terminal_p.phase[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase4.terminal_n, terminal_n.phase[4]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortInductance_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortMatrixRL<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortMatrixRL</h2>
<p>
<b>Model of an RL line parameterized with impedance matrices</b>
<br>
<br><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL">
</p>
<h3>Information</h3>

<p>
Resistive-inductive model that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
The voltage between the ports is
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLMatrix.png"/>
</p>

<p>
where <i>V<sub>i</sub><sup>{p,n}</sup></i> is the voltage phasor at the connector <code>p</code> or
<code>n</code> of the <i>i</i>-th phase, while <i>I<sub>i</sub><sup>p</sup></i>
the current phasor entering from the connector <code>p</code> of the <i>i</i>-th phase.
</p>

<p>
The model is parameterized with an impedance matrix <i>Z</i>.
The matrix is symmetric thus just the upper triangular
part of it has to be defined.
</p>


<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z11[2]</td><td>&nbsp;</td><td>Element [1,1] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z12[2]</td><td>&nbsp;</td><td>Element [1,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z13[2]</td><td>&nbsp;</td><td>Element [1,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z22[2]</td><td>&nbsp;</td><td>Element [2,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z23[2]</td><td>&nbsp;</td><td>Element [2,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z33[2]</td><td>&nbsp;</td><td>Element [3,3] of impedance matrix [Ohm]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortMatrixRL <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of an RL line parameterized with impedance matrices&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z21 = Z12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z31 = Z13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z32 = Z23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">function</span> productAC1p = <a href="Buildings_Electrical_PhaseSystems_OnePhase.html#Buildings.Electrical.PhaseSystems.OnePhase.product"
>Buildings.Electrical.PhaseSystems.OnePhase.product</a> <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Product between complex quantities&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i1[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[1].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i2[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[2].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 2&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i3[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[3].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 3&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi=  2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector P&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Link the connectors to propagate the overdetermined variable</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">  Connections.branch</span>(terminal_p.phase[i].theta, terminal_n.phase[i].theta);
      terminal_p.phase[i].theta = terminal_n.phase[i].theta;

    <span style="color: #006400; font-weight: normal; font-style: normal;">  // No current losses, they are preserved in each line</span>
      terminal_p.phase[i].i = - terminal_n.phase[i].i;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Voltage drop caused by the impedance matrix</span>
  v1_n - v1_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z11, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z12, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z13, i3);
  v2_n - v2_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z21, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z22, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z23, i3);
  v3_n - v3_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z31, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z32, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z33, i3);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortMatrixRL;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortMatrixRLC<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortMatrixRLC</h2>
<p>
<b>PI model of a line parameterized with impedance and admittance matrices</b>
<br>
<br><img src="Buildings.Electrical.AC.Tce0f5515c665c9f5rixRLD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC">
</p>
<h3>Information</h3>

<p>
RLC line model (&pi;-model) that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLCMatrix.png"/>
</p>

<p>
The model is parameterized with an impedance matrix <i>Z</i> and
an admittance matrix <i>B</i>.
The impedance matrix is symmetric, and therefore only the upper triangular
part of the matrix needs to be defined.
</p>

<p>
This model is a more detailed version of the model <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL"
>
Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL</a> that includes
the capacitive effects of the lines.
</p>


<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z11[2]</td><td>&nbsp;</td><td>Element [1,1] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z12[2]</td><td>&nbsp;</td><td>Element [1,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z13[2]</td><td>&nbsp;</td><td>Element [1,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z22[2]</td><td>&nbsp;</td><td>Element [2,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z23[2]</td><td>&nbsp;</td><td>Element [2,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z33[2]</td><td>&nbsp;</td><td>Element [3,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B11</td><td>&nbsp;</td><td>Element [1,1] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B12</td><td>&nbsp;</td><td>Element [1,2] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B13</td><td>&nbsp;</td><td>Element [1,3] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B22</td><td>&nbsp;</td><td>Element [2,2] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B23</td><td>&nbsp;</td><td>Element [2,3] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B33</td><td>&nbsp;</td><td>Element [3,3] of admittance matrix [S]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortMatrixRLC <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;PI model of a line parameterized with impedance and admittance matrices&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z21 = Z12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z31 = Z13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z32 = Z23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B11 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B22 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B33 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B21 = B12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B31 = B13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B32 = B23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,2] of admittance matrix&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">function</span> productAC1p = <a href="Buildings_Electrical_PhaseSystems_OnePhase.html#Buildings.Electrical.PhaseSystems.OnePhase.product"
>Buildings.Electrical.PhaseSystems.OnePhase.product</a> <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Product between complex quantities&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Isr[3,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(3,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Currents that pass through the lines&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Ish_p[3,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(3,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shunt current on side p&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Ish_n[3,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(3,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shunt current on side n&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector P&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Link the connectors to propagate the overdetermined variable</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">  Connections.branch</span>(terminal_p.phase[i].theta, terminal_n.phase[i].theta);
      terminal_p.phase[i].theta = terminal_n.phase[i].theta;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Kirkoff current law for the terminal n (left side)</span>
  Isr[1,:] = terminal_n.phase[1].i - Ish_n[1,:];
  Isr[2,:] = terminal_n.phase[2].i - Ish_n[2,:];
  Isr[3,:] = terminal_n.phase[3].i - Ish_n[3,:];

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Kirkoff current law for the terminal p (right side)</span>
  Isr[1,:] + terminal_p.phase[1].i = Ish_p[1,:];
  Isr[2,:] + terminal_p.phase[2].i = Ish_p[2,:];
  Isr[3,:] + terminal_p.phase[3].i = Ish_p[3,:];

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Voltage drop caused by the impedance matrix</span>
  terminal_n.phase[1].v - terminal_p.phase[1].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z11, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z12, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z13, terminal_n.phase[3].i);
  terminal_n.phase[2].v - terminal_p.phase[2].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z21, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z22, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z23, terminal_n.phase[3].i);
  terminal_n.phase[3].v - terminal_p.phase[3].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z31, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z32, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z33, terminal_n.phase[3].i);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Current loss at the terminal n</span>
  Ish_n[1,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B11/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B12/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B13/2}, v3_n);
  Ish_n[2,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B21/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B22/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B23/2}, v3_n);
  Ish_n[3,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B31/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B32/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B33/2}, v3_n);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Current loss at the terminal n</span>
  Ish_p[1,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B11/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B12/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B13/2}, v3_p);
  Ish_p[2,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B21/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B22/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B23/2}, v3_p);
  Ish_p[3,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B31/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B32/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B33/2}, v3_p);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortMatrixRLC;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortMatrixRLC_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortMatrixRLC_N</h2>
<p>
<b>PI model of a line parameterized with impedance and admittance matrices and neutral line</b>
<br>
<br><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRLC_N">
</p>
<h3>Information</h3>

<p>
RLC line model (&pi;-model) that connects two AC three-phase
unbalanced interfaces and neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLCMatrix_N.png"/>
</p>

<p>
The model is parameterized with an impedance matrix <i>Z</i> and
an admittance matrix <i>B</i>.
The impedance matrix is symmetric, and therefore only the upper triangular
part of the matrix needs to be defined.
</p>

<p>
This model is a more detailed version of the model <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N"
>
Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N</a> that includes
the capacitive effects of the lines.
</p>

<h4>Note</h4>
<p>
The fourth line is the neutral one.
</p>


<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z11[2]</td><td>&nbsp;</td><td>Element [1,1] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z12[2]</td><td>&nbsp;</td><td>Element [1,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z13[2]</td><td>&nbsp;</td><td>Element [1,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z14[2]</td><td>&nbsp;</td><td>Element [1,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z22[2]</td><td>&nbsp;</td><td>Element [2,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z23[2]</td><td>&nbsp;</td><td>Element [2,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z24[2]</td><td>&nbsp;</td><td>Element [2,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z33[2]</td><td>&nbsp;</td><td>Element [3,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z34[2]</td><td>&nbsp;</td><td>Element [3,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z44[2]</td><td>&nbsp;</td><td>Element [4,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B11</td><td>&nbsp;</td><td>Element [1,1] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B12</td><td>&nbsp;</td><td>Element [1,2] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B13</td><td>&nbsp;</td><td>Element [1,3] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B14</td><td>&nbsp;</td><td>Element [1,4] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B22</td><td>&nbsp;</td><td>Element [2,2] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B23</td><td>&nbsp;</td><td>Element [2,3] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B24</td><td>&nbsp;</td><td>Element [2,4] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B33</td><td>&nbsp;</td><td>Element [3,3] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B34</td><td>&nbsp;</td><td>Element [3,4] of admittance matrix [S]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Admittance</a></td><td>B44</td><td>&nbsp;</td><td>Element [4,4] of admittance matrix [S]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortMatrixRLC_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;PI model of a line parameterized with impedance and admittance matrices and neutral line&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z14[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z24[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z34[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z44[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z21 = Z12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z31 = Z13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z32 = Z23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z41 = Z14 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z42 = Z24 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z43 = Z34 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,3] of impedance matrix&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B11 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B14 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,4] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B22 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B24 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,4] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B33 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B34 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,4] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B44 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,4] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B21 = B12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B31 = B13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B32 = B23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B41 = B14 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,1] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B42 = B24 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,2] of admittance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Admittance"
>Modelica.SIunits.Admittance</a> B43 = B34 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,3] of admittance matrix&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">function</span> productAC1p = <a href="Buildings_Electrical_PhaseSystems_OnePhase.html#Buildings.Electrical.PhaseSystems.OnePhase.product"
>Buildings.Electrical.PhaseSystems.OnePhase.product</a> <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Product between complex quantities&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Isr[4,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(4,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Currents that pass through the lines&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Ish_p[4,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(4,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shunt current on side p&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> Ish_n[4,2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(4,Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shunt current on side n&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v4_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[4].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 4 (neutral) at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v4_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[4].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 4 (neutral) at connector P&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Link the connectors to propagate the overdetermined variable</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">  Connections.branch</span>(terminal_p.phase[i].theta, terminal_n.phase[i].theta);
      terminal_p.phase[i].theta = terminal_n.phase[i].theta;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Kirkoff current law for the terminal n (left side)</span>
  Isr[1,:] = terminal_n.phase[1].i - Ish_n[1,:];
  Isr[2,:] = terminal_n.phase[2].i - Ish_n[2,:];
  Isr[3,:] = terminal_n.phase[3].i - Ish_n[3,:];
  Isr[4,:] = terminal_n.phase[4].i - Ish_n[4,:];

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Kirkoff current law for the terminal p (right side)</span>
  Isr[1,:] + terminal_p.phase[1].i = Ish_p[1,:];
  Isr[2,:] + terminal_p.phase[2].i = Ish_p[2,:];
  Isr[3,:] + terminal_p.phase[3].i = Ish_p[3,:];
  Isr[4,:] + terminal_p.phase[4].i = Ish_p[4,:];

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Voltage drop caused by the impedance matrix</span>
  terminal_n.phase[1].v - terminal_p.phase[1].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z11, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z12, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z13, terminal_n.phase[3].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z14, terminal_n.phase[4].i);
  terminal_n.phase[2].v - terminal_p.phase[2].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z21, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z22, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z23, terminal_n.phase[3].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z24, terminal_n.phase[4].i);
  terminal_n.phase[3].v - terminal_p.phase[3].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z31, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z32, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z33, terminal_n.phase[3].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z34, terminal_n.phase[4].i);
  terminal_n.phase[4].v - terminal_p.phase[4].v =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z41, terminal_n.phase[1].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z42, terminal_n.phase[2].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z43, terminal_n.phase[3].i)
                                                +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z44, terminal_n.phase[4].i);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Current loss at the terminal n</span>
  Ish_n[1,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B11/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B12/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B13/2}, v3_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B14/2}, v4_n);
  Ish_n[2,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B21/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B22/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B23/2}, v3_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B24/2}, v4_n);
  Ish_n[3,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B31/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B32/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B33/2}, v3_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B34/2}, v4_n);
  Ish_n[4,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B41/2}, v1_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B42/2}, v2_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B43/2}, v3_n)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B44/2}, v4_n);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Current loss at the terminal n</span>
  Ish_p[1,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B11/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B12/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B13/2}, v3_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B14/2}, v4_p);
  Ish_p[2,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B21/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B22/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B23/2}, v3_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B24/2}, v4_p);
  Ish_p[3,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B31/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B32/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B33/2}, v3_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B34/2}, v4_p);
  Ish_p[4,:] =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B41/2}, v1_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B42/2}, v2_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B43/2}, v3_p)
             +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>({0, B44/2}, v4_p);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortMatrixRLC_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortMatrixRL_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortMatrixRL_N</h2>
<p>
<b>Model of an RL line parameterized with impedance matrices and neutral line</b>
<br>
<br><img src="Buildings.Electrical.AC.Tacbb90fda4fbe49dRLC_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL_N">
</p>
<h3>Information</h3>

<p>
Resistive-inductive model that connects two AC three-phase
unbalanced interfaces with neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
The voltage between the ports is
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLMatrix_N.png"/>
</p>

<p>
where <i>V<sub>i</sub><sup>{p,n}</sup></i> is the voltage phasor at the connector <code>p</code> or
<code>n</code> of the <i>i</i>-th phase, while <i>I<sub>i</sub><sup>p</sup></i>
the current phasor entering from the connector <code>p</code> of the <i>i</i>-th phase.
</p>

<p>
The model is parameterized with an impedance matrix <i>Z</i>.
The matrix is symmetric thus just the upper triangular
part of it has to be defined.
</p>

<h4>Note</h4>
<p>
The fourth line is the neutral one.
</p>


<p>Extends from <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z11[2]</td><td>&nbsp;</td><td>Element [1,1] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z12[2]</td><td>&nbsp;</td><td>Element [1,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z13[2]</td><td>&nbsp;</td><td>Element [1,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z14[2]</td><td>&nbsp;</td><td>Element [1,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z22[2]</td><td>&nbsp;</td><td>Element [2,2] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z23[2]</td><td>&nbsp;</td><td>Element [2,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z24[2]</td><td>&nbsp;</td><td>Element [2,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z33[2]</td><td>&nbsp;</td><td>Element [3,3] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z34[2]</td><td>&nbsp;</td><td>Element [3,4] of impedance matrix [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Impedance</a></td><td>Z44[2]</td><td>&nbsp;</td><td>Element [4,4] of impedance matrix [Ohm]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortMatrixRL_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of an RL line parameterized with impedance matrices and neutral line&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z14[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z24[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z34[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z44[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,4] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z21 = Z12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z31 = Z13 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z32 = Z23 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z41 = Z14 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z42 = Z24 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a>[2] Z43 = Z34 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [4,3] of impedance matrix&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">function</span> productAC1p = <a href="Buildings_Electrical_PhaseSystems_OnePhase.html#Buildings.Electrical.PhaseSystems.OnePhase.product"
>Buildings.Electrical.PhaseSystems.OnePhase.product</a> <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Product between complex quantities&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i1[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[1].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i2[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[2].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 2&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i3[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[3].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 3&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i4[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> zeros</span>(Buildings.Electrical.PhaseSystems.OnePhase.n),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.prefer) = terminal_n.phase[4].i <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current in line 4 (neutral)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v4_n[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_n.phase[4].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 4 (neutral) at connector N&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v1_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[1].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 1 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v2_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= -2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[2].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 2 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v3_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3), phi= 2*Modelica.Constants.pi/3),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[3].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 3 at connector P&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> v4_p[2](
    start =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Electrical.PhaseSystems.OnePhase.phaseVoltages</span>(0),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>stateSelect = StateSelect.never) = terminal_p.phase[4].v <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage in line 4 (neutral) at connector P&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Link the connectors to propagate the overdetermined variable</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">  Connections.branch</span>(terminal_p.phase[i].theta, terminal_n.phase[i].theta);
      terminal_p.phase[i].theta = terminal_n.phase[i].theta;

    <span style="color: #006400; font-weight: normal; font-style: normal;">  // No current losses, they are preserved in each line</span>
      terminal_p.phase[i].i = - terminal_n.phase[i].i;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Voltage drop caused by the impedance matrix</span>
  v1_n - v1_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z11, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z12, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z13, i3)+<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z14, i4);
  v2_n - v2_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z21, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z22, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z23, i3)+<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z24, i4);
  v3_n - v3_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z31, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z32, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z33, i3)+<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z34, i4);
  v4_n - v4_p =<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z41, i1) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z42, i2) +<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z43, i3)+<span style="color: red; font-weight: normal; font-style: normal;"> productAC1p</span>(Z44, i4);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortMatrixRL_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortRL<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tdaa4d4e4a53e8c29ortRLI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortRL</h2>
<p>
<b>Model of a resistive-inductive element with two electrical ports</b>
<br>
<br><img src="Buildings.Electrical.AC.Tdaa4d4e4a53e8c29ortRLD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL">
</p>
<h3>Information</h3>

<p>
Resistive-inductive model that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRL.png"/>
</p>

<p>
The model represents the lumped impedances as shown in the figure above.
Assuming that the overall cable has a resistance <i>R</i> and an inductance
<i>L</i>, each line has an inductance equal to <i>L/3</i> and a resistance
equal to <i>R/3</i>.
</p>


<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i1_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 1 (positive if entering from terminal p) [A]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i2_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 2 (positive if entering from terminal p) [A]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i3_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 3 (positive if entering from terminal p) [A]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Modelling assumption</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>mode</td><td>Buildings.Electrical.Types.L...</td><td>Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortRL <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of a resistive-inductive element with two electrical ports&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i1_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 1 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i2_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 2 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i3_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 3 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Buildings.Electrical.Types.Load</a> mode(
    min=Buildings.Electrical.Types.Load.FixedZ_steady_state,
    max=Buildings.Electrical.Types.Load.FixedZ_dynamic) = Buildings.Electrical.Types.Load.FixedZ_steady_state <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i1_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i2_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortRL;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortRLC<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Te258f0efa7118577rtRLCI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortRLC</h2>
<p>
<b>Model of an RLC element with two electrical ports</b>
<br>
<br><img src="Buildings.Electrical.AC.Te258f0efa7118577rtRLCD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC">
</p>
<h3>Information</h3>

<p>
RLC line model (T-model) that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLC.png"/>
</p>

<p>
The model represents the lumped impedances as shown in the figure above.
Assuming that the overall cable has a resistance <i>R</i>, an inductance
<i>L</i>, and a capacitance <i>C</i>, each line has an inductance equal
to <i>L/3</i>, a resistance equal to <i>R/3</i> and a capacity equal to
<i>C/3</i>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</a></td><td>C</td><td>&nbsp;</td><td>Capacity [F]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc1_start[2]</td><td>V_nominal/sqrt(3)*{1,0}</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc2_start[2]</td><td>V_nominal/sqrt(3)*{-1/2,-sqr...</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc3_start[2]</td><td>V_nominal/sqrt(3)*{-1/2,+sqr...</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Modelling assumption</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>mode</td><td>Buildings.Electrical.Types.L...</td><td>Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortRLC <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of an RLC element with two electrical ports&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</a> C <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Capacity&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc1_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{1,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc2_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{-1/2,-<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)/2} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc3_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{-1/2,+<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)/2} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Buildings.Electrical.Types.Load</a> mode(
    min=Buildings.Electrical.Types.Load.FixedZ_steady_state,
    max=Buildings.Electrical.Types.Load.FixedZ_dynamic)=
    Buildings.Electrical.Types.Load.FixedZ_steady_state <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc1_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc2_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortRLC;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortRLC_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.T3c2f36524615d54cRLC_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortRLC_N</h2>
<p>
<b>Model of an RLC element with two electrical ports and neutral line cable</b>
<br>
<br><img src="Buildings.Electrical.AC.T3c2f36524615d54cRLC_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRLC_N">
</p>
<h3>Information</h3>

<p>
RLC line model (T-model) that connects two AC three-phase
unbalanced interfaces with neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRLC_N.png"/>
</p>

<p>
The model represents the lumped impedances as shown in the figure above.
Assuming that the overall cable has a resistance <i>R</i>, an inductance
<i>L</i>, and a capacitance <i>C</i>, each line has an inductance equal
to <i>L/3</i>, a resistance equal to <i>R/3</i> and a capacity equal to
<i>C/3</i>.
</p>
<p>
The resistance, capacitance and inductance of the neutral cable are defined separately using the parameters
<code>Rn</code> <code>Cn</code>, and <code>Ln</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>Rn</td><td>&nbsp;</td><td>Resistance of neutral cable at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</a></td><td>C</td><td>&nbsp;</td><td>Capacity [F]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</a></td><td>Cn</td><td>&nbsp;</td><td>Capacityof neutral cable [F]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>Ln</td><td>&nbsp;</td><td>Inductance of neutral cable [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc1_start[2]</td><td>V_nominal/sqrt(3)*{1,0}</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc2_start[2]</td><td>V_nominal/sqrt(3)*{-1/2,-sqr...</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>Vc3_start[2]</td><td>V_nominal/sqrt(3)*{-1/2,+sqr...</td><td>Initial voltage phasor of the capacitance located in the middle of phase 1 [V]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Modelling assumption</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>mode</td><td>Buildings.Electrical.Types.L...</td><td>Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal conditions</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V_nominal</td><td>&nbsp;</td><td>Nominal voltage (V_nominal &gt;= 0) [V]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortRLC_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of an RLC element with two electrical ports and neutral line cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> Rn <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance of neutral cable at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</a> C <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Capacity&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</a> Cn <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Capacityof neutral cable&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> Ln <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance of neutral cable&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc1_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{1,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc2_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{-1/2,-<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)/2} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> Vc3_start[2] = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)*{-1/2,+<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3)/2} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial voltage phasor of the capacitance located in the middle of phase 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Buildings.Electrical.Types.Load</a> mode(
    min=Buildings.Electrical.Types.Load.FixedZ_steady_state,
    max=Buildings.Electrical.Types.Load.FixedZ_dynamic)=
    Buildings.Electrical.Types.Load.FixedZ_steady_state <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V_nominal(min=0, start=480) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal voltage (V_nominal &gt;= 0)&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc1_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc2_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=C/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal = V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    Vc_start=Vc3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 3&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRLC"
>OnePhase.Lines.TwoPortRLC</a> neutral(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>V_nominal=V_nominal/<span style="color: red; font-weight: normal; font-style: normal;">sqrt</span>(3),
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=Rn,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C=Cn,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=Ln,
    Vc_start=-Vc1_start - Vc2_start - Vc3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Neutral line RLC model&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower + neutral.LossPower;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_p, terminal_p.phase[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_n, terminal_n.phase[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.heatPort, heatPort);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortRLC_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortRL_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Td38358efea30ad3atRL_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortRL_N</h2>
<p>
<b>Model of a resistive-inductive element with two electrical ports and neutral line cable</b>
<br>
<br><img src="Buildings.Electrical.AC.Td38358efea30ad3atRL_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortRL_N">
</p>
<h3>Information</h3>

<p>
Resistive-inductive model that connects two AC three-phase
unbalanced interfaces with neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortRL_N.png"/>
</p>

<p>
The model represents the lumped impedances as shown in the figure above.
Assuming that the overall cable has a resistance <i>R</i> and an inductance
<i>L</i>, each line has an inductance equal to <i>L/3</i> and a resistance
equal to <i>R/3</i>.
</p>
<p>
The resistance and the inductance of the neutral cable are defined separately using the parameters
<code>Rn</code> and <code>Ln</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>Rn</td><td>&nbsp;</td><td>Resistance of neutral cable at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>L</td><td>&nbsp;</td><td>Inductance [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Inductance</a></td><td>Ln</td><td>&nbsp;</td><td>Inductance of neutral cable [H]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i1_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 1 (positive if entering from terminal p) [A]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i2_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 2 (positive if entering from terminal p) [A]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</a></td><td>i3_start[2]</td><td>{0,0}</td><td>Initial current phasor of phase 3 (positive if entering from terminal p) [A]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Modelling assumption</td></tr>
<tr><td><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Load</a></td><td>mode</td><td>Buildings.Electrical.Types.L...</td><td>Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortRL_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of a resistive-inductive element with two electrical ports and neutral line cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> Rn <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance of neutral cable at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> L <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Inductance"
>Modelica.SIunits.Inductance</a> Ln <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Inductance of neutral cable&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i1_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 1 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i2_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 2 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</a> i3_start[2] = {0,0} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial current phasor of phase 3 (positive if entering from terminal p)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Electrical_Types.html#Buildings.Electrical.Types.Load"
>Buildings.Electrical.Types.Load</a> mode(
    min=Buildings.Electrical.Types.Load.FixedZ_steady_state,
    max=Buildings.Electrical.Types.Load.FixedZ_dynamic) = Buildings.Electrical.Types.Load.FixedZ_steady_state <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of model (e.g., steady state, dynamic, prescribed power consumption, etc.)&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i1_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i2_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=L/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    i_start=i3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Impedance line 3&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortRL"
>OnePhase.Lines.TwoPortRL</a> neutral(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>mode=mode,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=Rn,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>L=Ln,
    i_start=-i1_start - i2_start - i3_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;neutral cable RL model&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower + neutral.LossPower;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_p, terminal_p.phase[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_n, terminal_n.phase[4]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortRL_N;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortResistance<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.T86973f136ffd3722tanceI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortResistance</h2>
<p>
<b>Model of a resistance with two electrical ports</b>
<br>
<br><img src="Buildings.Electrical.AC.T86973f136ffd3722tanceD.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance">
</p>
<h3>Information</h3>

<p>
Resistive model that connects two AC three-phase
unbalanced interfaces. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortR.png"/>
</p>

<p>
The model represents the lumped resistance as shown in the figure above.
Assuming that the resistance <i>R</i> is the overall resistance of the cable,
each line has a resistance equal to <i>R/3</i>.
</p>


<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a> (Partial model interface for a two port component without neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_p"
>Terminal_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal_n"
>Terminal_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortResistance <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of a resistance with two electrical ports&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 3&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower;
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortResistance;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TwoPortResistance_N<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.T50d36196f4dc8201nce_NI.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance_N" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance_N"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines</a>.TwoPortResistance_N</h2>
<p>
<b>Model of a resistance with two electrical ports and neutral cable</b>
<br>
<br><img src="Buildings.Electrical.AC.T50d36196f4dc8201nce_ND.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortResistance_N">
</p>
<h3>Information</h3>

<p>
Resistive model that connects two AC three-phase
unbalanced interfaces with neutral line. This model can be used to represent a
cable in a three-phase unbalanced AC system.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Lines/twoPortR_N.png"/>
</p>

<p>
The model represents the lumped resistance as shown in the figure above.
Assuming that the resistance <i>R</i> is the overall resistance of the cable,
each line has a resistance equal to <i>R/3</i>.
</p>
<p>
The resistance of the neutral cable is defined separately using the parameter
<code>Rn</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network), <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a> (Partial model interface for a two port component with neutral cable).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>useHeatPort</td><td>false</td><td>=true, if HeatPort is enabled</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>293.15</td><td>Fixed device temperature if useHeatPort = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_ref</td><td>298.15</td><td>Reference temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>M</td><td>507.65</td><td>Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref)) [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>R</td><td>&nbsp;</td><td>Resistance at temperature T_ref [Ohm]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</a></td><td>Rn</td><td>&nbsp;</td><td>Resistance of neutral cable at temperature T_ref [Ohm]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>heatPort</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_p"
>Terminal4_p</a></td><td>terminal_p</td><td>Electric terminal side p</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.Terminal4_n"
>Terminal4_n</a></td><td>terminal_n</td><td>Electric terminal side n</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TwoPortResistance_N <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of a resistance with two electrical ports and neutral cable&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Interfaces.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Interfaces.TwoPort_N</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_ref = 298.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Reference temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> M = 507.65 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature constant (R_actual = R*(M + T_heatPort)/(M + T_ref))&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance at temperature T_ref&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</a> Rn <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance of neutral cable at temperature T_ref&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a>  phase1(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 1&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a> phase2(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 2&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a> phase3(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=R/3,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance line 3&quot;</span>;
  <a href="Buildings_Electrical_AC_OnePhase_Lines.html#Buildings.Electrical.AC.OnePhase.Lines.TwoPortResistance"
>OnePhase.Lines.TwoPortResistance</a> neutral(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_ref=T_ref,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>M=M,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>useHeatPort=useHeatPort,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>R=Rn) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Resistance neutral cable&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Joule Losses</span>
  LossPower = phase1.LossPower + phase2.LossPower + phase3.LossPower + neutral.LossPower;
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[1], phase1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[2], phase2.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(terminal_n.phase[3], phase3.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.terminal_p, terminal_p.phase[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.terminal_p, terminal_p.phase[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.terminal_p, terminal_p.phase[3]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase1.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase3.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(phase2.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.heatPort, heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_p, terminal_p.phase[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(neutral.terminal_n, terminal_n.phase[4]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TwoPortResistance_N;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:22:59 2015.
</address>
</body>
</html>
