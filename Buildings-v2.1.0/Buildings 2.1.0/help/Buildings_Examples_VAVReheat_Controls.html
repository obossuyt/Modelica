<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Examples.VAVReheat.Controls</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with controller models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Controls<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Examples.VAVReheat.Controls"></a><a href="Buildings_Examples_VAVReheat.html#Buildings.Examples.VAVReheat"
>Buildings.Examples.VAVReheat</a>.Controls</h2>
<p>
<b>Package with controller models</b><br>
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh4976ebbdf690e10aolBusS.png" alt="Buildings.Examples.VAVReheat.Controls.ControlBus" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a>
</td>
<td>Empty control bus that is adapted to the signals connected to it</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh6dcb0e64d734f24cpointS.png" alt="Buildings.Examples.VAVReheat.Controls.CoolingCoilTemperatureSetpoint" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.CoolingCoilTemperatureSetpoint"
>CoolingCoilTemperatureSetpoint</a>
</td>
<td>Set point scheduler for cooling coil</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh9e32ed45e79c272epointS.png" alt="Buildings.Examples.VAVReheat.Controls.DuctStaticPressureSetpoint" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.DuctStaticPressureSetpoint"
>DuctStaticPressureSetpoint</a>
</td>
<td>Computes the duct static pressure setpoint</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVRehe98a6de74cb24f05mizerS.png" alt="Buildings.Examples.VAVReheat.Controls.Economizer" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.Economizer"
>Economizer</a>
</td>
<td>Controller for economizer</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh6fc7b0f416506145ntrolS.png" alt="Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl"
>EconomizerTemperatureControl</a>
</td>
<td>Controller for economizer mixed air temperature</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReha7bd4853b49d11c0anVFDS.png" alt="Buildings.Examples.VAVReheat.Controls.FanVFD" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.FanVFD"
>FanVFD</a>
</td>
<td>Controller for fan revolution</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVRehc44d17d9f59197dbpointS.png" alt="Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint"
>MixedAirTemperatureSetpoint</a>
</td>
<td>Mixed air temperature setpoint for economizer</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh09fbd1cccefe6a42ectorS.png" alt="Buildings.Examples.VAVReheat.Controls.ModeSelector" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ModeSelector"
>ModeSelector</a>
</td>
<td>Finite State Machine for the operational modes</td>
</tr>
<tr>
<td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>OperationModes</a>
</td>
<td>Enumeration for modes of operation</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVRehee5f3ec34a81459earterS.png" alt="Buildings.Examples.VAVReheat.Controls.PreCoolingStarter" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.PreCoolingStarter"
>PreCoolingStarter</a>
</td>
<td>Outputs true when precooling should start</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh8f9ae18170931838pointS.png" alt="Buildings.Examples.VAVReheat.Controls.RoomTemperatureSetpoint" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.RoomTemperatureSetpoint"
>RoomTemperatureSetpoint</a>
</td>
<td>Set point scheduler for room temperature</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh241e4f8a8faff8e7omVAVS.png" alt="Buildings.Examples.VAVReheat.Controls.RoomVAV" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.RoomVAV"
>RoomVAV</a>
</td>
<td>Controller for room VAV box</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVRehcab25927277e50efStateS.png" alt="Buildings.Examples.VAVReheat.Controls.State" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a>
</td>
<td>Block that outputs the mode if the state is active, or zero otherwise</td>
</tr>
<tr>
<td><img src="Buildings.Examples.VAVReh07ea79c729ecae9fmplesS.png" alt="Buildings.Examples.VAVReheat.Controls.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_VAVReheat_Controls_Examples.html#Buildings.Examples.VAVReheat.Controls.Examples"
>Examples</a>
</td>
<td>Example models to test the components</td>
</tr>
</table>
<h3>Types and constants</h3>
<a name="Buildings.Examples.VAVReheat.Controls.OperationModes"></a><pre>  <span style="color: blue; font-weight: normal; font-style: normal;">type</span> OperationModes = <span style="color: blue; font-weight: normal; font-style: normal;">enumeration</span>(
    occupied <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Occupied&quot;</span>,
    unoccupiedOff <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied off&quot;</span>,
    unoccupiedNightSetBack <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied, night set back&quot;</span>,
    unoccupiedWarmUp <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied, warm-up&quot;</span>,
    unoccupiedPreCool <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied, pre-cool&quot;</span>,
    safety <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Safety (smoke, fire, etc.)&quot;</span>) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Enumeration for modes of operation&quot;</span>;</pre>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ControlBus<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh4976ebbdf690e10aolBusI.png" alt="Buildings.Examples.VAVReheat.Controls.ControlBus" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.ControlBus"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.ControlBus</h2>
<p>
<b>Empty control bus that is adapted to the signals connected to it</b>
<br>
<br><img src="Buildings.Examples.VAVReh4976ebbdf690e10aolBusD.png" alt="Buildings.Examples.VAVReheat.Controls.ControlBus">
</p>
<h3>Information</h3>

<p>
This connector defines the <code>expandable connector</code> ControlBus that
is used to connect control signals.
Note, this connector is empty. When using it, the actual content is
constructed by the signals connected to this bus.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.SignalBus"
>Modelica.Icons.SignalBus</a> (Icon for signal bus).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">expandable connector</span> ControlBus <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Empty control bus that is adapted to the signals connected to it&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.SignalBus"
>Modelica.Icons.SignalBus</a>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ControlBus;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CoolingCoilTemperatureSetpoint<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh6dcb0e64d734f24cpointI.png" alt="Buildings.Examples.VAVReheat.Controls.CoolingCoilTemperatureSetpoint" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.CoolingCoilTemperatureSetpoint"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.CoolingCoilTemperatureSetpoint</h2>
<p>
<b>Set point scheduler for cooling coil</b>
<br>
<br><img src="Buildings.Examples.VAVReh6dcb0e64d734f24cpointD.png" alt="Buildings.Examples.VAVReheat.Controls.CoolingCoilTemperatureSetpoint">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCooOn</td><td>273.15 + 12</td><td>Cooling setpoint during on [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCooOff</td><td>273.15 + 30</td><td>Cooling setpoint during off [K]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSetHea</td><td>Set point for heating coil</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TSet</td><td>Temperature set point</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> CoolingCoilTemperatureSetpoint <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Set point scheduler for cooling coil&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">import </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>Buildings.Examples.VAVReheat.Controls.OperationModes</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TCooOn=273.15+12 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Cooling setpoint during on&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TCooOff=273.15+30 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Cooling setpoint during off&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> TSupSetCoo(
   y=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>(mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.occupied)<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>
         mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.unoccupiedPreCool)<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>
         mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.safety))<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>
          TCooOn<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>TCooOff) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Supply air temperature setpoint for cooling&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSetHea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set point for heating coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> dTMin(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Minimum offset for cooling coil setpoint&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Max"
>Modelica.Blocks.Math.Max</a> max1;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.IntegerPassThrough"
>Modelica.Blocks.Routing.IntegerPassThrough</a> mode;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TSet <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature set point&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dTMin.y, add.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(add.y, max1.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSupSetCoo.y, max1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.controlMode, mode.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max1.y, TSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSetHea, add.u2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>CoolingCoilTemperatureSetpoint;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DuctStaticPressureSetpoint<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh9e32ed45e79c272epointI.png" alt="Buildings.Examples.VAVReheat.Controls.DuctStaticPressureSetpoint" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.DuctStaticPressureSetpoint"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.DuctStaticPressureSetpoint</h2>
<p>
<b>Computes the duct static pressure setpoint</b>
<br>
<br><img src="Buildings.Examples.VAVReh9e32ed45e79c272epointD.png" alt="Buildings.Examples.VAVReheat.Controls.DuctStaticPressureSetpoint">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.MISO"
>Modelica.Blocks.Interfaces.MISO</a> (Multiple Input Single Output continuous control block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nin</td><td>1</td><td>Number of inputs</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pMin</td><td>100</td><td>Minimum duct static pressure setpoint [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pMax</td><td>410</td><td>Maximum duct static pressure setpoint [Pa]</td></tr>
<tr><td>Real</td><td>k</td><td>0.1</td><td>Gain of controller</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>Ti</td><td>60</td><td>Time constant of Integrator block [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>Td</td><td>60</td><td>Time constant of Derivative block [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.SimpleController"
>SimpleController</a></td><td>controllerType</td><td>Modelica.Blocks.Types.Simple...</td><td>Type of controller</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u[nin]</td><td>Connector of Real input signals</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>y</td><td>Connector of Real output signal</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TOut</td><td>Outside air temperature</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> DuctStaticPressureSetpoint <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Computes the duct static pressure setpoint&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.MISO"
>Modelica.Blocks.Interfaces.MISO</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pMin(displayUnit=&quot;Pa&quot;) = 100 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Minimum duct static pressure setpoint&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pMax(displayUnit=&quot;Pa&quot;) = 410 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Maximum duct static pressure setpoint&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real k=0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Gain of controller&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> Ti=60 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Time constant of Integrator block&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> Td=60 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Time constant of Derivative block&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.SimpleController"
>Modelica.Blocks.Types.SimpleController</a> controllerType=Modelica.Blocks.Types.SimpleController.PID <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of controller&quot;</span>;
                           <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> limPID(
    controllerType=controllerType,
    k=k,
    Ti=Ti,
    Td=Td,
    initType=Modelica.Blocks.Types.InitPID.InitialState,
    reverseAction=true);
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="Buildings_Utilities_Math.html#Buildings.Utilities.Math.Max"
>Buildings.Utilities.Math.Max</a> max(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>nin=nin);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> ySet(k=0.9) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Setpoint for maximum damper position&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> dp(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>k2=-1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pressure difference&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> pMaxSig(k=pMax);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> pMinSig(k=pMin);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> pSet <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pressure setpoint&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> product;
<span style="color: blue; font-weight: normal; font-style: normal;">public </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Hysteresis"
>Modelica.Blocks.Logical.Hysteresis</a> hysteresis(uLow=283.15, uHigh=284.15) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Hysteresis to put fan on minimum revolution&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TOut <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Outside air temperature&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> zero(k=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Zero output signal&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">public </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Switch"
>Modelica.Blocks.Logical.Switch</a> switch1;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max.u, u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ySet.y, limPID.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max.y, limPID.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(limPID.y, product.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pMaxSig.y, dp.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pMinSig.y, dp.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dp.y, product.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pMinSig.y, pSet.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pSet.y, y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(hysteresis.u, TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(product.y, switch1.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zero.y, switch1.u3);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(switch1.y, pSet.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(hysteresis.y, switch1.u2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>DuctStaticPressureSetpoint;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Economizer<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVRehe98a6de74cb24f05mizerI.png" alt="Buildings.Examples.VAVReheat.Controls.Economizer" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.Economizer"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.Economizer</h2>
<p>
<b>Controller for economizer</b>
<br>
<br><img src="Buildings.Examples.VAVRehe98a6de74cb24f05mizerD.png" alt="Buildings.Examples.VAVReheat.Controls.Economizer">
</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT</td><td>1</td><td>Temperture offset to activate economizer [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate"
>VolumeFlowRate</a></td><td>VOut_flow_min</td><td>&nbsp;</td><td>Minimum outside air volume flow rate [m3/s]</td></tr>
<tr><td>Real</td><td>k</td><td>1</td><td>Gain of controller</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>Ti</td><td>&nbsp;</td><td>Time constant of Integrator block [s]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSupHeaSet</td><td>Supply temperature setpoint for heating</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSupCooSet</td><td>Supply temperature setpoint for cooling</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TMix</td><td>Measured mixed air temperature</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>VOut_flow</td><td>Measured outside air flow rate</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TRet</td><td>Return air temperature</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>yOA</td><td>Control signal for outside air damper</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> Economizer <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for economizer&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">import </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>Buildings.Examples.VAVReheat.Controls.OperationModes</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dT(min=0.1)= 1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperture offset to activate economizer&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.VolumeFlowRate"
>Modelica.SIunits.VolumeFlowRate</a> VOut_flow_min(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Minimum outside air volume flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSupHeaSet <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Supply temperature setpoint for heating&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSupCooSet <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Supply temperature setpoint for cooling&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TMix <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Measured mixed air temperature&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> VOut_flow <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Measured outside air flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TRet <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Return air temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain(k=1/VOut_flow_min) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Normalize mass flow rate&quot;</span>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> conV_flow(
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    k=k,
    Ti=Ti,
    yMax=0.995,
    yMin=0.005,
    Td=60) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for outside air flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> uni(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unity signal&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real k=1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Gain of controller&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> Ti <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Time constant of Integrator block&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> yOA <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for outside air damper&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Extractor"
>Modelica.Blocks.Routing.Extractor</a> extractor(
    nin=6,
    index(start=1, fixed=true)) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Extractor for control signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> closed(k=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Signal to close OA damper&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Max"
>Modelica.Blocks.Math.Max</a> max <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Takes bigger signal (OA damper opens for temp. control or for minimum outside air)&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint"
>MixedAirTemperatureSetpoint</a> TSetMix <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixed air temperature setpoint&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl"
>EconomizerTemperatureControl</a> yOATMix(Ti=Ti, k=k) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for outdoor damper to track mixed air temperature setpoint&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl"
>EconomizerTemperatureControl</a> yOATFre(Ti=Ti, k=k) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for outdoor damper to track freeze temperature setpoint&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Min"
>Modelica.Blocks.Math.Min</a> min <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Takes bigger signal (OA damper opens for temp. control or for minimum outside air)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TFre(k=273.15 + 3) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Setpoint for freeze protection&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(VOut_flow, gain.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.y, conV_flow.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(uni.y, conV_flow.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.controlMode, extractor.index);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max.y, extractor.u[OperationModes.occupied]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(closed.y, extractor.u[OperationModes.unoccupiedOff]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(closed.y, extractor.u[OperationModes.unoccupiedNightSetBack]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max.y, extractor.u[OperationModes.unoccupiedWarmUp]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(max.y, extractor.u[OperationModes.unoccupiedPreCool]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(closed.y, extractor.u[OperationModes.safety]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSupHeaSet, TSetMix.TSupHeaSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSupCooSet, TSetMix.TSupCooSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus, TSetMix.controlBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATMix.TRet, TRet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TOut, yOATMix.TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATMix.TMix, TMix);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATMix.TMixSet, TSetMix.TSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATMix.yOA, max.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(min.u2, conV_flow.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(min.y, max.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(min.u1, yOATFre.yOA);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATFre.TRet, TRet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TOut, yOATFre.TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yOATFre.TMix, TMix);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TFre.y, yOATFre.TMixSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(extractor.y, yOA);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Economizer;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE EconomizerTemperatureControl<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh6fc7b0f416506145ntrolI.png" alt="Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.EconomizerTemperatureControl</h2>
<p>
<b>Controller for economizer mixed air temperature</b>
<br>
<br><img src="Buildings.Examples.VAVReh6fc7b0f416506145ntrolD.png" alt="Buildings.Examples.VAVReheat.Controls.EconomizerTemperatureControl">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>k</td><td>1</td><td>Gain of controller</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>Ti</td><td>&nbsp;</td><td>Time constant of Integrator block [s]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>yOA</td><td>Control signal for outside air damper</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TRet</td><td>Return air temperature</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TOut</td><td>Outside air temperature</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TMix</td><td>Mixed air temperature</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TMixSet</td><td>Setpoint for mixed air temperature</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> EconomizerTemperatureControl <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Controller for economizer mixed air temperature&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">import </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>Buildings.Examples.VAVReheat.Controls.OperationModes</a>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> con(
    k=k,
    Ti=Ti,
    yMax=0.995,
    yMin=0.005,
    Td=60,
    controllerType=Modelica.Blocks.Types.SimpleController.PI) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Controller for mixed air temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real k=1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Gain of controller&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> Ti <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Time constant of Integrator block&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Greater"
>Modelica.Blocks.Logical.Greater</a> signGain <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sign of control gain&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Switch"
>Modelica.Blocks.Logical.Switch</a> swi1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Switch"
>Modelica.Blocks.Logical.Switch</a> swi2;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> yOA <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for outside air damper&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TRet <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Return air temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TOut <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Outside air temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TMix <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixed air temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TMixSet <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Setpoint for mixed air temperature&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(signGain.y, swi1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi1.y, con.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi2.y, con.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(signGain.y, swi2.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(con.y, yOA);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(signGain.u1, TRet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(signGain.u2, TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi1.u1, TMix);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi2.u3, TMix);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi1.u3, TMixSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(swi2.u1, TMixSet);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>EconomizerTemperatureControl;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE FanVFD<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReha7bd4853b49d11c0anVFDI.png" alt="Buildings.Examples.VAVReheat.Controls.FanVFD" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.FanVFD"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.FanVFD</h2>
<p>
<b>Controller for fan revolution</b>
<br>
<br><img src="Buildings.Examples.VAVReha7bd4853b49d11c0anVFDD.png" alt="Buildings.Examples.VAVReheat.Controls.FanVFD">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</a> (Single Input Single Output continuous control block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>xSet_nominal</td><td>&nbsp;</td><td>Nominal setpoint (used for normalization)</td></tr>
<tr><td>Real</td><td>r_N_min</td><td>0.01</td><td>Minimum normalized fan speed</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.Init"
>Init</a></td><td>initType</td><td>Modelica.Blocks.Types.Init.N...</td><td>Type of initialization (1: no init, 2: steady state, 3/4: initial output)</td></tr>
<tr><td>Real</td><td>y_start</td><td>0</td><td>Initial or guess value of output (= state)</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Setpoint tracking</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.SimpleController"
>SimpleController</a></td><td>controllerType</td><td>.Modelica.Blocks.Types.Simpl...</td><td>Type of controller</td></tr>
<tr><td>Real</td><td>k</td><td>0.5</td><td>Gain of controller</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>Ti</td><td>15</td><td>Time constant of Integrator block [s]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Connector of Real input signal</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>y</td><td>Connector of Real output signal</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u_m</td><td>Connector of measurement input signal</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> FanVFD <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for fan revolution&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SISO"
>Modelica.Blocks.Interfaces.SISO</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">import </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>Buildings.Examples.VAVReheat.Controls.OperationModes</a>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> con(
    yMax=1,
    Td=60,
    yMin=r_N_min,
    k=k,
    Ti=Ti,
    controllerType=controllerType) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gaiMea(k=1/xSet_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Gain to normalize measurement signal&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real xSet_nominal <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nominal setpoint (used for normalization)&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Extractor"
>Modelica.Blocks.Routing.Extractor</a> extractor(
    nin=6,
    index(start=1, fixed=true)) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Extractor for control signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> off(k=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Off signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> on(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;On signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gaiSet(k=1/xSet_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Gain to normalize setpoint signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Connector of measurement input signal&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real r_N_min=0.01 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Minimum normalized fan speed&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.Init"
>Modelica.Blocks.Types.Init</a> initType=Modelica.Blocks.Types.Init.NoInit <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of initialization (1: no init, 2: steady state, 3/4: initial output)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real y_start=0 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Initial or guess value of output (= state)&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Types.html#Modelica.Blocks.Types.SimpleController"
>Modelica.Blocks.Types.SimpleController</a>
    controllerType=.Modelica.Blocks.Types.SimpleController.PI <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Type of controller&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real k=0.5 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Gain of controller&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> Ti=15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Time constant of Integrator block&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gaiMea.y, con.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(con.y, extractor.u[OperationModes.occupied]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(con.y, extractor.u[OperationModes.unoccupiedWarmUp]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(con.y, extractor.u[OperationModes.unoccupiedPreCool]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, extractor.u[OperationModes.unoccupiedOff]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, extractor.u[OperationModes.safety]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(on.y, extractor.u[OperationModes.unoccupiedNightSetBack]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.controlMode, extractor.index);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gaiSet.y, con.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(u_m, gaiMea.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gaiSet.u, u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(extractor.y, y);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>FanVFD;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE MixedAirTemperatureSetpoint<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVRehc44d17d9f59197dbpointI.png" alt="Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.MixedAirTemperatureSetpoint</h2>
<p>
<b>Mixed air temperature setpoint for economizer</b>
<br>
<br><img src="Buildings.Examples.VAVRehc44d17d9f59197dbpointD.png" alt="Buildings.Examples.VAVReheat.Controls.MixedAirTemperatureSetpoint">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSupHeaSet</td><td>Supply temperature setpoint for heating</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSupCooSet</td><td>Supply temperature setpoint for cooling</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TSet</td><td>Mixed air temperature setpoint</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> MixedAirTemperatureSetpoint <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Mixed air temperature setpoint for economizer&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Extractor"
>Modelica.Blocks.Routing.Extractor</a> TSetMix(
    nin=6,
    index(start=1, fixed=true)) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixed air setpoint temperature extractor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> off(k=273.15 + 13) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Setpoint temperature to close damper&quot;</span>;
  <a href="Buildings_Utilities_Math.html#Buildings.Utilities.Math.Average"
>Buildings.Utilities.Math.Average</a> ave(nin=2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSupHeaSet <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Supply temperature setpoint for heating&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSupCooSet <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Supply temperature setpoint for cooling&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TPreCoo(k=273.15 + 13) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Setpoint during pre-cooling&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TSet <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixed air temperature setpoint&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Multiplex2"
>Modelica.Blocks.Routing.Multiplex2</a> multiplex2_1;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSetMix.u[1], ave.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ave.y, TSetMix.u[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, TSetMix.u[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, TSetMix.u[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, TSetMix.u[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TPreCoo.y, TSetMix.u[5]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(off.y, TSetMix.u[6]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.controlMode, TSetMix.index);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSetMix.y, TSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(multiplex2_1.y, ave.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSupCooSet, multiplex2_1.u2[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSupHeaSet, multiplex2_1.u1[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>MixedAirTemperatureSetpoint;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ModeSelector<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh09fbd1cccefe6a42ectorI.png" alt="Buildings.Examples.VAVReheat.Controls.ModeSelector" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.ModeSelector"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.ModeSelector</h2>
<p>
<b>Finite State Machine for the operational modes</b>
<br>
<br><img src="Buildings.Examples.VAVReh09fbd1cccefe6a42ectorD.png" alt="Buildings.Examples.VAVReheat.Controls.ModeSelector">
</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>delTRooOnOff</td><td>1</td><td>Deadband in room temperature between occupied on and occupied off [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TRooSetHeaOcc</td><td>293.15</td><td>Set point for room air temperature during heating mode [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TRooSetCooOcc</td><td>299.15</td><td>Set point for room air temperature during cooling mode [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TSetHeaCoiOut</td><td>303.15</td><td>Set point for air outlet temperature at central heating coil [K]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>cb</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ModeSelector <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Finite State Machine for the operational modes&quot;</span>

  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.InitialStep"
>Modelica.StateGraph.InitialStep</a> initialStep;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Modelica.StateGraph.Transition</a> start <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Starts the system&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a> unOccOff(
    mode=Buildings.Examples.VAVReheat.Controls.OperationModes.unoccupiedOff,
    nIn=3,
    nOut=4) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied off mode, no coil protection&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a> unOccNigSetBac(
    nOut=2,
    mode=Buildings.Examples.VAVReheat.Controls.OperationModes.unoccupiedNightSetBack,
    nIn=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Unoccupied night set back&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Modelica.StateGraph.Transition</a> t2(
    enableTimer=true,
    waitTime=60,
    condition=TRooMinErrHea.y &gt; delTRooOnOff/2);
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> delTRooOnOff(min=0.1)=1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Deadband in room temperature between occupied on and occupied off&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TRooSetHeaOcc=293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set point for room air temperature during heating mode&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TRooSetCooOcc=299.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set point for room air temperature during cooling mode&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TSetHeaCoiOut=303.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set point for air outlet temperature at central heating coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Modelica.StateGraph.Transition</a> t1(condition=delTRooOnOff/2 &lt; -TRooMinErrHea.y,
    enableTimer=true,
    waitTime=30*60);
  <span style="color: blue; font-weight: normal; font-style: normal;">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.StateGraphRoot"
>Modelica.StateGraph.StateGraphRoot</a> stateGraphRoot;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> cb;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.RealPassThrough"
>Modelica.Blocks.Routing.RealPassThrough</a> TRooSetHea <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current heating setpoint temperature&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a> morWarUp(mode=Buildings.Examples.VAVReheat.Controls.OperationModes.unoccupiedWarmUp,
                                                                            nIn=2,
    nOut=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Morning warm up&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>Modelica.StateGraph.TransitionWithSignal</a> t6(enableTimer=true, waitTime=60);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessEqualThreshold"
>Modelica.Blocks.Logical.LessEqualThreshold</a> occThrSho(threshold=1800) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Signal to allow transition into morning warmup&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>Modelica.StateGraph.TransitionWithSignal</a> t5;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a> occ(       mode=Buildings.Examples.VAVReheat.Controls.OperationModes.occupied,
                                                                      nIn=3) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Occupied mode&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.RealPassThrough"
>Modelica.Blocks.Routing.RealPassThrough</a> TRooMin;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</a> TRooMinErrHea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Room control error for heating&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Modelica.StateGraph.Transition</a> t3(condition=TRooMin.y + delTRooOnOff/2 &gt;
        TRooSetHeaOcc<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>occupied.y);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.BooleanPassThrough"
>Modelica.Blocks.Routing.BooleanPassThrough</a> occupied <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;outputs true if building is occupied&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>Modelica.StateGraph.TransitionWithSignal</a> t4(enableTimer=false);
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.State"
>State</a> morPreCoo(                                                        nIn=2,
    mode=Buildings.Examples.VAVReheat.Controls.OperationModes.unoccupiedPreCool,
    nOut=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pre-cooling mode&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.Transition"
>Modelica.StateGraph.Transition</a> t7(condition=TRooMin.y - delTRooOnOff/2 &lt;
        TRooSetCooOcc<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>occupied.y);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.RealPassThrough"
>Modelica.Blocks.Routing.RealPassThrough</a> TRooAve <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Average room temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanExpression"
>Modelica.Blocks.Sources.BooleanExpression</a> booleanExpression(y=TRooAve.y &lt;
        TRooSetCooOcc);
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.PreCoolingStarter"
>PreCoolingStarter</a> preCooSta(TRooSetCooOcc=TRooSetCooOcc) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model to start pre-cooling&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>Modelica.StateGraph.TransitionWithSignal</a> t9;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.And"
>Modelica.Blocks.Logical.And</a> and2;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not2;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.TransitionWithSignal"
>Modelica.StateGraph.TransitionWithSignal</a> t8 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;changes to occupied in case precooling is deactivated&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_MathInteger.html#Modelica.Blocks.MathInteger.Sum"
>Modelica.Blocks.MathInteger.Sum</a> sum(nu=5);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(start.outPort, unOccOff.inPort[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(initialStep.outPort[1], start.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccOff.outPort[1], t2.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t2.outPort, unOccNigSetBac.inPort[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccNigSetBac.outPort[1], t1.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t1.outPort, unOccOff.inPort[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb.dTNexOcc, occThrSho.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t6.outPort, morWarUp.inPort[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t5.outPort, morWarUp.inPort[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccNigSetBac.outPort[2], t5.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb.TRooMin, TRooMin.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRooSetHea.y, TRooMinErrHea.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRooMin.y, TRooMinErrHea.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccOff.outPort[2], t6.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(morWarUp.outPort[1], t3.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb.occupied, occupied.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occ.outPort[1], t4.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t4.outPort, unOccOff.inPort[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occThrSho.y, and1.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(and1.y, t6.condition);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(and1.y, t5.condition);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb.TRooAve, TRooAve.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(booleanExpression.y, and1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preCooSta.y, t9.condition);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t9.outPort, morPreCoo.inPort[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccOff.outPort[3], t9.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb, preCooSta.controlBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(morPreCoo.outPort[1], t7.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t7.outPort, occ.inPort[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t3.outPort, occ.inPort[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occThrSho.y, not1.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(not1.y, and2.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(and2.y, t4.condition);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occupied.y, not2.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(not2.y, and2.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(cb.TRooSetHea, TRooSetHea.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(t8.outPort, occ.inPort[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccOff.outPort[4], t8.inPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occupied.y, t8.condition);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(morPreCoo.y, sum.u[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(morWarUp.y, sum.u[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(occ.y, sum.u[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccOff.y, sum.u[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(unOccNigSetBac.y, sum.u[5]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sum.y, cb.controlMode);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ModeSelector;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PreCoolingStarter<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVRehee5f3ec34a81459earterI.png" alt="Buildings.Examples.VAVReheat.Controls.PreCoolingStarter" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.PreCoolingStarter"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.PreCoolingStarter</h2>
<p>
<b>Outputs true when precooling should start</b>
<br>
<br><img src="Buildings.Examples.VAVRehee5f3ec34a81459earterD.png" alt="Buildings.Examples.VAVReheat.Controls.PreCoolingStarter">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanSignalSource"
>Modelica.Blocks.Interfaces.BooleanSignalSource</a> (Base class for Boolean signal sources).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TOutLim</td><td>286.15</td><td>Limit for activating precooling [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TRooSetCooOcc</td><td>&nbsp;</td><td>Set point for room air temperature during cooling mode [K]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>y</td><td>Connector of Boolean output signal</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> PreCoolingStarter <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Outputs true when precooling should start&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanSignalSource"
>Modelica.Blocks.Interfaces.BooleanSignalSource</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TOutLim = 286.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Limit for activating precooling&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TRooSetCooOcc <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set point for room air temperature during cooling mode&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.GreaterThreshold"
>Modelica.Blocks.Logical.GreaterThreshold</a> greater(threshold=TRooSetCooOcc);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessThreshold"
>Modelica.Blocks.Logical.LessThreshold</a> greater2(threshold=1800);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.LessThreshold"
>Modelica.Blocks.Logical.LessThreshold</a> greater1(threshold=TOutLim);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_MathBoolean.html#Modelica.Blocks.MathBoolean.And"
>Modelica.Blocks.MathBoolean.And</a> and3(nu=3);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.dTNexOcc, greater2.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TRooAve, greater.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TOut, greater1.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(and3.y, y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(greater.y, and3.u[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(greater1.y, and3.u[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(greater2.y, and3.u[3]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PreCoolingStarter;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RoomTemperatureSetpoint<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh8f9ae18170931838pointI.png" alt="Buildings.Examples.VAVReheat.Controls.RoomTemperatureSetpoint" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.RoomTemperatureSetpoint"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.RoomTemperatureSetpoint</h2>
<p>
<b>Set point scheduler for room temperature</b>
<br>
<br><img src="Buildings.Examples.VAVReh8f9ae18170931838pointD.png" alt="Buildings.Examples.VAVReheat.Controls.RoomTemperatureSetpoint">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>THeaOn</td><td>293.15</td><td>Heating setpoint during on [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>THeaOff</td><td>285.15</td><td>Heating setpoint during off [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCooOn</td><td>297.15</td><td>Cooling setpoint during on [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TCooOff</td><td>303.15</td><td>Cooling setpoint during off [K]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> RoomTemperatureSetpoint <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Set point scheduler for room temperature&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">import </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>Buildings.Examples.VAVReheat.Controls.OperationModes</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> THeaOn=293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heating setpoint during on&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> THeaOff=285.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heating setpoint during off&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TCooOn=297.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Cooling setpoint during on&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TCooOff=303.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Cooling setpoint during off&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.IntegerPassThrough"
>Modelica.Blocks.Routing.IntegerPassThrough</a> mode;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> setPoiHea(
     y=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>(mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.occupied)<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.unoccupiedWarmUp)<span style="color: blue; font-weight: normal; font-style: normal;">
         or </span>mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.safety))<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>THeaOn<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>THeaOff);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> setPoiCoo(
    y=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>(mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.occupied)<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>
          mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.unoccupiedPreCool)<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>
          mode.y ==<span style="color: red; font-weight: normal; font-style: normal;"> Integer</span>(OperationModes.safety))<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>TCooOn<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>TCooOff) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Cooling setpoint&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.controlMode,mode. u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(setPoiHea.y, controlBus.TRooSetHea);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(setPoiCoo.y, controlBus.TRooSetCoo);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RoomTemperatureSetpoint;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RoomVAV<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVReh241e4f8a8faff8e7omVAVI.png" alt="Buildings.Examples.VAVReheat.Controls.RoomVAV" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.RoomVAV"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.RoomVAV</h2>
<p>
<b>Controller for room VAV box</b>
<br>
<br><img src="Buildings.Examples.VAVReh241e4f8a8faff8e7omVAVD.png" alt="Buildings.Examples.VAVReheat.Controls.RoomVAV">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>kPDamHea</td><td>0.5</td><td>Proportional gain for VAV damper in heating mode</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a></td><td>controlBus</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TRoo</td><td>Measured room temperature [K]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>yHea</td><td>Signal for heating coil valve</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>yDam</td><td>Signal for VAV damper</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSup</td><td>Measured supply air temperature after heating coil</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> RoomVAV <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for room VAV box&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real kPDamHea = 0.5 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Proportional gain for VAV damper in heating mode&quot;</span>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> conHea(
    yMax=1,
    xi_start=0.1,
    initType=Modelica.Blocks.Types.InitPID.InitialState,
    Td=60,
    yMin=0,
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    k=0.1,
    Ti=120) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for heating&quot;</span>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> conCoo(
    yMax=1,
    reverseAction=true,
    Td=60,
    controllerType=Modelica.Blocks.Types.SimpleController.PI,
    k=0.1,
    Ti=120) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller for cooling (acts on damper)&quot;</span>;
  <a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.ControlBus"
>ControlBus</a> controlBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TRoo(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;ThermodynamicTemperature&quot;,
                                          <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit = &quot;K&quot;, displayUnit = &quot;degC&quot;, min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Measured room temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> yHea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Signal for heating coil valve&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> yDam <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Signal for VAV damper&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSup(displayUnit=&quot;degC&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Measured supply air temperature after heating coil&quot;</span>;
  <a href="Buildings_Utilities_Math.html#Buildings.Utilities.Math.SmoothMax"
>Buildings.Utilities.Math.SmoothMax</a> smoothMax2(deltaX=0.1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> one(k=1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add3"
>Modelica.Blocks.Math.Add3</a> yDamHea(k2=kPDamHea, k3=-kPDamHea) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outputs (unlimited) damper signal for heating.&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> zero(k=0.1);
  <a href="Buildings_Utilities_Math.html#Buildings.Utilities.Math.SmoothMin"
>Buildings.Utilities.Math.SmoothMin</a> smoothMin(deltaX=0.1);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TRooSetHea, conHea.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(controlBus.TRooSetCoo, conCoo.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conHea.u_m, TRoo);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoo.u_m, TRoo);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRoo, yDamHea.u3);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yDamHea.u2, TSup);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(one.y, yDamHea.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoo.y, add.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yDamHea.y, smoothMax2.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(smoothMax2.y, add.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zero.y, smoothMax2.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(smoothMin.u1, add.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(one.y, smoothMin.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conHea.y, yHea);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(smoothMin.y, yDam);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RoomVAV;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE State<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.VAVRehcab25927277e50efStateI.png" alt="Buildings.Examples.VAVReheat.Controls.State" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.VAVReheat.Controls.State"></a><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls"
>Buildings.Examples.VAVReheat.Controls</a>.State</h2>
<p>
<b>Block that outputs the mode if the state is active, or zero otherwise</b>
<br>
<br><img src="Buildings.Examples.VAVRehcab25927277e50efStateD.png" alt="Buildings.Examples.VAVReheat.Controls.State">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.StepWithSignal"
>Modelica.StateGraph.StepWithSignal</a> (Ordinary step (= step that is not active when simulation starts). Connector &#39;active&#39; is true when the step is active).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>nIn</td><td>1</td><td>Number of input connections</td></tr>
<tr><td>Integer</td><td>nOut</td><td>1</td><td>Number of output connections</td></tr>
<tr><td><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>OperationModes</a></td><td>mode</td><td>&nbsp;</td><td>Enter enumeration of mode</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_in"
>Step_in</a></td><td>inPort[nIn]</td><td>Vector of step input connectors</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph_Interfaces.html#Modelica.StateGraph.Interfaces.Step_out"
>Step_out</a></td><td>outPort[nOut]</td><td>Vector of step output connectors</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BooleanOutput"
>BooleanOutput</a></td><td>active</td><td>&nbsp;</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</a></td><td>y</td><td>Mode signal (=0 if not active)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> State <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Block that outputs the mode if the state is active, or zero otherwise&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_StateGraph.html#Modelica.StateGraph.StepWithSignal"
>Modelica.StateGraph.StepWithSignal</a>;
 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Examples_VAVReheat_Controls.html#Buildings.Examples.VAVReheat.Controls.OperationModes"
>OperationModes</a> mode <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Enter enumeration of mode&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>Modelica.Blocks.Interfaces.IntegerOutput</a> y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mode signal (=0 if not active)&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y = <span style="color: blue; font-weight: normal; font-style: normal;">if </span>localActive<span style="color: blue; font-weight: normal; font-style: normal;"> then </span><span style="color: red; font-weight: normal; font-style: normal;">Integer</span>(mode)<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>0;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>State;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:36:02 2015.
</address>
</body>
</html>
