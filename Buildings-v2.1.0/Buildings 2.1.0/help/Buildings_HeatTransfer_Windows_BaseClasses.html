<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.HeatTransfer.Windows.BaseClasses</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with base classes for Buildings.HeatTransfer.Windows&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.BaseClasses</h2>
<p>
<b>Package with base classes for Buildings.HeatTransfer.Windows</b><br>
</p>
<h3>Information</h3>

<p>
This package contains base classes that are used to construct the models in
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</a> (Icon for packages containing base classes).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wib3529e957ffd9a22ationS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation"
>AbsorbedRadiation</a>
</td>
<td>Absorbed radiation by window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wicc148e58c19b2724GlassS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"
>CenterOfGlass</a>
</td>
<td>Model for center of glass of a window construction</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wia2645b093e456d79cientS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"
>ExteriorConvectionCoefficient</a>
</td>
<td>Model for the heat transfer coefficient at the outside of the window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi5ef1d72fc7a5ee57ctionS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GasConvection" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GasConvection"
>GasConvection</a>
</td>
<td>Model for heat convection through gas in a window assembly</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wia6657059b5986812LayerS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer"
>GlassLayer</a>
</td>
<td>Model for a glass layer of a window assembly</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wied1c9b7a8299c8d6ctionS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection"
>InteriorConvection</a>
</td>
<td>Model for a interior (room-side) convective heat transfer with variable surface area</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi9101e37f3e45a679cientS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient"
>InteriorConvectionCoefficient</a>
</td>
<td>Model for the heat transfer coefficient at the inside of the window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi21b30f6eb83053a2rhangS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.Overhang" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>Overhang</a>
</td>
<td>For a window with an overhang, outputs the fraction of the area that is sun exposed</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wiea1882b884f884c9ationS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>PartialRadiation</a>
</td>
<td>Partial model for variables and data used in radiation calculation</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi482ac2bf230204b0erBusS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>PartialShade_weatherBus</a>
</td>
<td>Partial model to implement overhang and side fins with weather bus connector</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wifccc9208b989ed30itionS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>PartialWindowBoundaryCondition</a>
</td>
<td>Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi29da9fcfc6b972d6ctionS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"
>ShadeConvection</a>
</td>
<td>Model for convective heat balance of a layer that may or may not have a shade</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0027dbf7b84a234cerBusS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>ShadeInterface_weatherBus</a>
</td>
<td>Base class for models of window shade and overhangs</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi785e6b84187e2e26ationS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation"
>ShadeRadiation</a>
</td>
<td>Model for infrared radiative heat balance of a layer that may or may not have a shade</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi5d45a82eafc09590ignalS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"
>ShadingSignal</a>
</td>
<td>Converts the shading signal to be strictly bigger than 0 and smaller than 1</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wiedf561c37b577351eFinsS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.SideFins" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>SideFins</a>
</td>
<td>For a window with side fins, outputs the fraction of the area that is sun exposed</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi10948b5c7db343c9uctorS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ThermalConductor" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ThermalConductor"
>ThermalConductor</a>
</td>
<td>Lumped thermal element with variable area, transporting heat without storing it</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wid0ddea1e04aca6a7ationS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation"
>TransmittedRadiation</a>
</td>
<td>Transmitted radiation through window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c894215aeb7cea8ationS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.WindowRadiation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.WindowRadiation"
>WindowRadiation</a>
</td>
<td>Calculation radiation for window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c8a1bece6ae9daeavityS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.convectionHorizontalCavity" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.convectionHorizontalCavity"
>convectionHorizontalCavity</a>
</td>
<td>Free convection in horizontal cavity</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c8a1bece6ae9daeavityS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity"
>convectionVerticalCavity</a>
</td>
<td>Free convection in vertical cavity</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c8a1bece6ae9daeavityS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityEnhanced" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityEnhanced"
>nusseltHorizontalCavityEnhanced</a>
</td>
<td>Nusselt number for horizontal cavity, bottom surface warmer than top surface</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c8a1bece6ae9daeavityS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityReduced" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityReduced"
>nusseltHorizontalCavityReduced</a>
</td>
<td>Nusselt number for horizontal cavity, bottom surface colder than top surface</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi0c8a1bece6ae9daeavityS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation"
>smoothInterpolation</a>
</td>
<td>Get interpolated data without triggering events</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wie53bec243087f999eDataS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"
>RadiationBaseData</a>
</td>
<td>Basic parameters for window radiation calculation</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi5f9a5ce7433483eenDataS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.RadiationData" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationData"
>RadiationData</a>
</td>
<td>Radiation data of a window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi9c5e52fd31cc6685mplesS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses_Examples.html#Buildings.HeatTransfer.Windows.BaseClasses.Examples"
>Examples</a>
</td>
<td>Collection of models that illustrate model use and test models</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE AbsorbedRadiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wib3529e957ffd9a22ationI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.AbsorbedRadiation</h2>
<p>
<b>Absorbed radiation by window</b>
<br>
<br><img src="Buildings.HeatTransfer.Wib3529e957ffd9a22ationD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation">
</p>
<h3>Information</h3>

<p>
The model calculates absorbed solar radiation on the window.
The calculations follow the description in Wetter (2004), Appendix A.4.3.
</p>
<p>
The absorbed radiation by exterior shades includes:
</p>
<ol>
<li>
the directly absorbed exterior radiation: <code>AWin*uSha*(HDir+HDif)*(1-tau-rho)</code>
</li>
<li>
the indirectly absorbed exterior radiantion from reflection (angular part): <code>AWin*uSha*HDir*tau*rho(IncAng)*(1-tau-rho)</code>
</li>
<li>
the indirectly absorbed of exterior irradiantion from reflection (diffusive part): <code>AWin*uSha*HDif*tau*rho(HEM)*(1-tau-rho)</code>
</li>
<li>
the absorbed interior radiation is neglected.
</li>
</ol>
<p>
The output is <code>absRad[2, 1]</code>
</p>

<p>
The absorbed radiation by interior shades includes:
</p>
<ol>
<li>
the absorbed exterior radiation (angular part): <code>AWin*uSha*HDir*alpha(IncAng)</code>
</li>
<li>
the absorbed exterior radiation (diffusive part): <code>AWin*uSha*HDif*alpha(HEM)</code>
</li>
<li>
the absorbed interior radiation (diffusive part): <code>AWin*uSha*HRoo*(1-tau-rho)</code>
</li>
</ol>
<p>
The output is <code>absRad[2, N+2]</code>
</p>

<p>
The absorbed radiation by glass includes:
</p>
<ol>
<li>
the absorbed radiation by unshaded part (diffusive part): <code>AWin*(1-uSha)*(HDif*alphaEx(HEM)+HRoo*alphaIn(HEM))</code>
</li>
<li>
the absorbed radiation by unshaded part (angular part from exterior source): <code>AWin*(1-uSha)*HDir*alphaEx(IncAng)</code>
</li>
<li>
the absorbed radiaiton by shaded part (diffusive part): <code>AWin*uSha*(HDif*alphaExSha(HEM)+HRoo*alphaInSha(HEM))</code>
</li>
<li>
the absorbed radiation by shaded part (angular part from exterior source): <code>AWin*uSha*HDir*alphaExSha(IncAng)</code>
</li>
</ol>
<p>
The output is <code>absRad[1, 2:N+1] = Part1 + Part2; absRad[2, 2:N+1] = Part3 + Part4</code>
</p>

<h4>References</h4>
<ul>
<li>
Michael Wetter.<br/>
<a href="http://simulationresearch.lbl.gov/wetter/download/mwdiss.pdf">
Simulation-based Building Energy Optimization</a>.<br/>
Dissertation. University of California at Berkeley. 2004.
</li>
</ul>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a> (Partial model for variables and data used in radiation calculation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has an exterior shade</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has an interior shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>AWin</td><td>&nbsp;</td><td>Area of window [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Control signal for shading (0: unshaded; 1: fully shaded)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDif</td><td>Diffussive solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Incident angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDir</td><td>Direct solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HRoo</td><td>Diffussive radiation from room  [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsExtSha_flow</td><td>Absorbed interior and exterior radiation by exterior shading device [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsIntSha_flow</td><td>Absorbed interior and exterior radiation by interior shading device [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsGlaUns_flow[N]</td><td>Absorbed interior and exterior radiation by unshaded part of glass [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsGlaSha_flow[N]</td><td>Absorbed interior and exterior radiation by shaded part of glass [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> AbsorbedRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Absorbed radiation by window&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> HRoo(quantity=&quot;RadiantEnergyFluenceRate&quot;,
      unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Diffussive radiation from room &quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsExtSha_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by exterior shading device&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsIntSha_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by interior shading device&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsGlaUns_flow[N](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=
        &quot;Power&quot;, <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by unshaded part of glass&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsGlaSha_flow[N](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=
        &quot;Power&quot;, <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by shaded part of glass&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Modelica.SIunits.Power</a> absRad[2, N + 2] <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Absorbed interior and exterior radiation.
      (absRad[2,1]: exterior shading device,
      absRad[1,2 to N+1]: glass (unshaded part),
      absRad[2,2 to N+1]: glass (shaded part),
      absRad[2,N+2]: interior shading device)&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer k=1;
  Real x;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer NDIR=radDat.NDIR;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer HEM=radDat.HEM;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer NoShade=1;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Shade=2;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Interior=1;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Exterior=2;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsEx[2, radDat.N, radDat.HEM + 2](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false);
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeRefExtPan1[radDat.HEM + 2](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reflectivity of pane 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsIn[2, radDat.N](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false);
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsDevExtIrrIntSha[radDat.HEM + 2](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorptivity of interior shading device for exterior radiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsDevExtIrrExtSha=1 - radDat.traRefShaDev[1, 1] -
      radDat.traRefShaDev[2, 1] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorptivity of exterior shading device for exterior radiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsDevIntIrrIntSha=radDat.devAbsIntIrrIntSha <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorptivity of interior shading device for interior radiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeAbsDevIntIrrExtSha=1 - radDat.winTraRefIntIrrExtSha[1]
       - radDat.winTraRefIntIrrExtSha[2] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorptivity of exterior shading device for interior radiation&quot;</span>;
  Real tmpNoSha;
  Real tmpSha;
  Real incAng2;

<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Assign coefficients.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Data dimension changes from Original ([1 : HEM]) to New ([2 : HEM+1])</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// with 2 dummy variable for interpolation.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:N<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    coeAbsIn[NoShade, i] =  radDat.absIntIrrNoSha[i];
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Properties for glass with shading</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveInteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      coeAbsIn[Shade, i] =  radDat.absIntIrrIntSha[i];
    <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      coeAbsIn[Shade, i] =  radDat.absIntIrrExtSha[i];
    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// No Shade</span>
      coeAbsIn[Shade, i] =  0.0;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

    <span style="color: blue; font-weight: normal; font-style: normal;">for </span>j<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:HEM<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// Properties for glass without shading</span>
      coeAbsEx[NoShade, i, j + 1] =  radDat.absExtIrrNoSha[i, j];
      <span style="color: #006400; font-weight: normal; font-style: normal;">// Properties for glass with shading</span>
      <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveInteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
        coeAbsEx[Shade, i, j + 1] =  radDat.absExtIrrIntSha[i, j];
      <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
        coeAbsEx[Shade, i, j + 1] =  radDat.absExtIrrExtSha[i, j];
      <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
        <span style="color: #006400; font-weight: normal; font-style: normal;">// No Shade</span>
        coeAbsEx[Shade, i, j + 1] =  0.0;
      <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
    <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Dummy variables at 1 and HEM+2</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>NoShade:Shade<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
      coeAbsEx[k, i, 1] =  coeAbsEx[k, i, 2];
      coeAbsEx[k, i, HEM + 2] =  coeAbsEx[k, i, HEM + 1];
    <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass Pane 1: Reflectivity</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>j<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:HEM<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    coeRefExtPan1[j + 1] =  radDat.traRef[2, 1, N, j];
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Interior shades</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>j<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:HEM<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    coeAbsDevExtIrrIntSha[j + 1] =  radDat.devAbsExtIrrIntShaDev[j];
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Dummy variables at 1 and HEM+2</span>
  coeRefExtPan1[1] =  coeRefExtPan1[2];
  coeRefExtPan1[HEM + 2] =  coeRefExtPan1[HEM + 1];
  coeAbsDevExtIrrIntSha[1] =  coeAbsDevExtIrrIntSha[2];
  coeAbsDevExtIrrIntSha[HEM + 2] =  coeAbsDevExtIrrIntSha[HEM + 1];

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  absRad[NoShade, 1] := 0.0;
  absRad[NoShade, N + 2] := 0.0;
  absRad[Shade, 1] := 0.0;
  absRad[Shade, N + 2] := 0.0;

  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass: absorbed diffusive radiation from exterior and interior sources</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:N<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    absRad[NoShade, i + 1] := AWin*(1 - uSha_internal)*(HDif*coeAbsEx[NoShade,
      i, HEM + 1] + HRoo*coeAbsIn[NoShade, i]);
    absRad[Shade, i + 1] := AWin*uSha_internal*(HDif*coeAbsEx[Shade, i, HEM + 1]
       + HRoo*coeAbsIn[Shade, i]);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Shading device: absorbed radiation from exterior source</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Exterior Shading Device:</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// direct radiation: 1. direct absorption;</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// diffusive radiation: 1. direct absorption 2. absorption from back reflection</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    absRad[Shade, 1] := AWin*uSha_internal*coeAbsDevExtIrrExtSha*(HDif + HDir
       + HDif*radDat.traRefShaDev[1, 1]*radDat.traRef[2, 1, N, HEM]);
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Interior Shading Device: diffusive radiation from both interior and exterior</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>haveInteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    absRad[Shade, N + 2] := AWin*uSha_internal*(HDif*radDat.devAbsExtIrrIntShaDev[
      HEM] + HRoo*coeAbsDevIntIrrIntSha);
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass, Device: add absorbed direct radiation from exterior sources</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Use min() instead of if() to avoid event</span>
  incAng2 :=<span style="color: red; font-weight: normal; font-style: normal;"> min</span>(incAng, 0.5*Modelica.Constants.pi);

  x := 2*(NDIR - 1)*<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(incAng2)/Modelica.Constants.pi <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;x=(index-1)*incAng/(0.5pi), 0&lt;=x&lt;=NDIR&quot;</span>;
  x := x + 2;

  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:N<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass without shading: Add absorbed direct radiation</span>
    tmpNoSha :=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>({
      coeAbsEx[NoShade, i, k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
    absRad[NoShade, i + 1] := absRad[NoShade, i + 1] + AWin*HDir*(1 -
      uSha_internal)*tmpNoSha;

    <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass with shading: add absorbed direct radiation</span>
    tmpSha :=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>({
      coeAbsEx[Shade, i, k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
    absRad[Shade, i + 1] := absRad[Shade, i + 1] + AWin*HDir*uSha_internal*
      tmpSha;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Interior shading device: add absorbed direct radiation</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveInteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    tmpSha :=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>({
      coeAbsDevExtIrrIntSha[k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
    absRad[Shade, N + 2] := absRad[Shade, N + 2] + AWin*HDir*uSha_internal*
      tmpSha;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Exterior shading device: add absorbed reflection of direct radiation from exterior source</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    tmpNoSha :=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>({
      coeRefExtPan1[k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
    absRad[Shade, 1] := absRad[Shade, 1] + AWin*HDir*uSha_internal*
      coeAbsDevExtIrrExtSha*tmpNoSha;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Assign quantities to output connectors</span>
  QAbsExtSha_flow := absRad[2, 1];
  QAbsIntSha_flow := absRad[2, N + 2];
  QAbsGlaUns_flow[:] := absRad[1, 2:N + 1];
  QAbsGlaSha_flow[:] := absRad[2, 2:N + 1];
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>AbsorbedRadiation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CenterOfGlass<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wicc148e58c19b2724GlassI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.CenterOfGlass</h2>
<p>
<b>Model for center of glass of a window construction</b>
<br>
<br><img src="Buildings.HeatTransfer.Wicc148e58c19b2724GlassD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass">
</p>
<h3>Information</h3>

This is a model for the heat transfer through the center of the glass.
The properties of the glazing system is defined by the parameter
<code>glaSys</code>.
The model contains these main component models:
<ul>
<li>
the models <code>extSha</code> and <code>intSha</code>
for the heat balance of the shade, modeled using
<a href="modelica://Buildings.HeatTransfer.Windows.BaseClasses.Shade">
Buildings.HeatTransfer.Windows.BaseClasses.Shade</a>.
</li>
<li>
an array of models <code>glass</code> for the heat conduction and the
infrared radiative heat balance of the glass layers.
There can be an arbitrary number of glass layers, which are all modeled using
instances of
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer"
>
Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer</a>.
</li>
<li>
an array of models <code>gas</code> for the gas layers. There is one model of a
gas layer between each window panes. The gas layers are modeled using instances of
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GasConvection"
>
Buildings.HeatTransfer.Windows.BaseClasses.GasConvection</a>.
</li>
</ul>
Note that this model does <em>not</em> compute heat conduction through the frame and
it does <em>not</em> model the convective heat transfer at the exterior and interior
surface. These models are implemented in
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>
Buildings.HeatTransfer.Windows.Window</a>,
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>
Buildings.HeatTransfer.Windows.ExteriorHeatTransfer</a>, and
<a href="modelica://Buildings.HeatTransfer.Windows.InteriorHeatTransfer">
Buildings.HeatTransfer.Windows.InteriorHeatTransfer</a>

<p>Extends from <a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces</a> (Model for the radiosity balance of a device with two surfaces).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Surface area [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt (only 90 degrees=vertical is implemented) [rad]</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Generic</a></td><td>glaSys</td><td>&nbsp;</td><td>Glazing system</td></tr>
<tr><td>Boolean</td><td>linearize</td><td>false</td><td>Set to true to linearize emissive power</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_a</td><td>Incoming radiosity at surface a [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_b</td><td>Incoming radiosity at surface b [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_a</td><td>Outgoing radiosity at surface a [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_b</td><td>Outgoing radiosity at surface b [W]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input connector, used to scale the surface area to take into account an operable shading device</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>glass_a</td><td>Heat port connected to the outside facing surface of the glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glass_b</td><td>Heat port connected to the room-facing surface of the glass</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QAbs_flow[nGlaLay]</td><td>Solar radiation absorbed by glass [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> CenterOfGlass <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for center of glass of a window construction&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface tilt (only 90 degrees=vertical is implemented)&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Buildings.HeatTransfer.Data.GlazingSystems.Generic</a> glaSys <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Glazing system&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearize=false <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true to linearize emissive power&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer"
>Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer</a>[nGlaLay] glass(
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=A,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>x=glaSys.glass.x,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=glaSys.glass.k,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>absIR_a=glaSys.glass.absIR_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>absIR_b=glaSys.glass.absIR_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauIR=glaSys.glass.tauIR,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>linearize=linearize,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>homotopyInitialization=homotopyInitialization) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Window glass layer&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.GasConvection"
>Buildings.HeatTransfer.Windows.BaseClasses.GasConvection</a> gas[nGlaLay-1](
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=A,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>gas=glaSys.gas,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>linearize=linearize,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>homotopyInitialization=homotopyInitialization) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Window gas layer&quot;</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Note that the interior shade is flipped horizontally. Hence, surfaces a and b are exchanged,</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// i.e., surface a faces the room, while surface b faces the window</span>

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> glass_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port connected to the outside facing surface of the glass&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glass_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port connected to the room-facing surface of the glass&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QAbs_flow[nGlaLay](
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>unit=&quot;W&quot;,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity = &quot;Power&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Solar radiation absorbed by glass&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer nGlaLay =<span style="color: red; font-weight: normal; font-style: normal;"> size</span>(glaSys.glass, 1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Number of glass layers&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:nGlaLay-1<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass[i].port_b, gas[i].port_a);
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gas[i].port_b, glass[i+1].port_a);

    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass[i].JOut_b, glass[i+1].JIn_a);
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass[i].JIn_b, glass[i+1].JOut_a);

    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(u, gas[i].u);

  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:nGlaLay<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(u, glass[i].u);
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass_b, glass[nGlaLay].port_b);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass_a, glass[1].port_a);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JIn_a, glass[1].JIn_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass[1].JOut_a, JOut_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass[nGlaLay].JOut_b, JOut_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JIn_b, glass[nGlaLay].JIn_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glass.QAbs_flow, QAbs_flow);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>CenterOfGlass;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ExteriorConvectionCoefficient<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wia2645b093e456d79cientI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ExteriorConvectionCoefficient</h2>
<p>
<b>Model for the heat transfer coefficient at the outside of the window</b>
<br>
<br><img src="Buildings.HeatTransfer.Wia2645b093e456d79cientD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient">
</p>
<h3>Information</h3>

Model for the convective heat transfer coefficient at the outside of a window.
The computation is according to TARCOG 2006, which specifies the convection
coefficient as
<p align="center" style="font-style:italic;">
  h = 4+4 v
</p>
where <i>v</i> is the wind speed in <i>m/s</i> and
<i>h</i> is the convective heat transfer coefficient in <i>W/(m2*K)</i>.
<br/>
<h4>References</h4>

TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>GCon</td><td>Convective thermal conductance [W/K]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>v</td><td>Wind speed [m/s]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ExteriorConvectionCoefficient <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for the heat transfer coefficient at the outside of the window&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> GCon(unit=&quot;W/K&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective thermal conductance&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> v(unit=&quot;m/s&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Wind speed&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  GCon = A*(4+4*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(v, -v, 0.1));
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ExteriorConvectionCoefficient;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE GasConvection<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi5ef1d72fc7a5ee57ctionI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GasConvection" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.GasConvection"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.GasConvection</h2>
<p>
<b>Model for heat convection through gas in a window assembly</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi5ef1d72fc7a5ee57ctionD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GasConvection">
</p>
<h3>Information</h3>

Model for convective heat tranfer in a single layer of window gas.
Currently, the model only implements equations for vertical windows
and for horizontal windows.
The computation is according to TARCOG 2006,
except that this implementation computes the convection coefficient
as a function that is differentiable in the temperatures.
<p>
To use this model, set the parameter <code>til</code>
to a value defined in
<a href="Buildings_Types_Tilt.html#Buildings.Types.Tilt"
>
Buildings.Types.Tilt</a>.
</p>
<br/>

<p>
If the parameter <code>linearize</code> is set to <code>true</code>,
then all equations are linearized.
</p>
<h4>References</h4>

TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.Element1D"
>Modelica.Thermal.HeatTransfer.Interfaces.Element1D</a> (Partial heat transfer element with two HeatPort connectors that does not store energy), <a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a> (Base icon).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Generic</a></td><td>gas</td><td>&nbsp;</td><td>Thermophysical properties of gas fill</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>h</td><td>sqrt(A)</td><td>Height of window [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt (only 0, 90 and 180 degrees are implemented) [rad]</td></tr>
<tr><td>Boolean</td><td>linearize</td><td>false</td><td>Set to true to linearize emissive power</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T0</td><td>293.15</td><td>Temperature used to compute thermophysical properties [K]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input connector, used to scale the surface area to take into account an operable shading device</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> GasConvection <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for heat convection through gas in a window assembly&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.Element1D"
>Modelica.Thermal.HeatTransfer.Interfaces.Element1D</a>(
     port_a(T(start=293.15)),
     port_b(T(start=293.15)));
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Buildings.HeatTransfer.Data.Gases.Generic</a> gas <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermophysical properties of gas fill&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> h(min=0) =<span style="color: red; font-weight: normal; font-style: normal;"> sqrt</span>(A) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Height of window&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface tilt (only 0, 90 and 180 degrees are implemented)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearize=false <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true to linearize emissive power&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T0 = 293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used to compute thermophysical properties&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</a> hCon(min=0, start=3) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer coefficient&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlux"
>Modelica.SIunits.HeatFlux</a> q_flow <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convective heat flux&quot;</span>;
  Real Nu(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  Real Ra(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties at port_a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties at port_b&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties&quot;</span>;

  Real deltaNu(min=0.01) = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Nusselt number, used for smoothing&quot;</span>;
  Real deltaRa(min=0.01) = 100 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Rayleigh number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real cosTil=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.cos</span>(til) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Cosine of window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real sinTil=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.sin</span>(til) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sine of window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean isVertical =<span style="color: red; font-weight: normal; font-style: normal;"> abs</span>(cosTil) &lt; 10E-10 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Flag, true if the window is in a wall&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean isHorizontal =<span style="color: red; font-weight: normal; font-style: normal;"> abs</span>(sinTil) &lt; 10E-10 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Flag, true if the window is horizontal&quot;</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Quantities that are only used in linearized model</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</a> hCon0(fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer coefficient&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real Nu0(fixed=false, min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real Ra0(fixed=false, min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// This assertion is required to ensure that the default value of</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// in Buildings.HeatTransfer.Data.Gases.Generic is overwritten.</span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(gas.x &gt; 0, &quot;The gas thickness must be non-negative. Obtained gas.x = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(gas.x) + &quot;.
  Check the parameter for the gas thickness of the window model.&quot;);

  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(isVertical<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>isHorizontal, &quot;Only vertical and horizontal windows are implemented.&quot;);

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Computations that are used in the linearized model only</span>
  Ra0 =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Convection.Functions.HeatFlux.rayleigh</span>(
    x=gas.x,
    rho=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.density</span>(gas=gas, T=T0),
    c_p=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.specificHeatCapacity</span>(gas=gas, T=T0),
    mu=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.dynamicViscosity</span>(gas=gas, T=T0),
    k=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.thermalConductivity</span>(gas=gas, T=T0),
    T_a=T0-5,
    T_b=T0+5,
    Ra_min=100);
  (Nu0, hCon0) =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity</span>(
            gas=gas, Ra=Ra0, T_m=T0, dT=10, h=h, deltaNu=deltaNu, deltaRa=deltaRa);

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  T_a = port_a.T;
  T_b = port_b.T;
  T_m = (port_a.T+port_b.T)/2;
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>linearize<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    Ra=Ra0;
    Nu=Nu0;
    hCon=hCon0;
    q_flow = hCon0 * dT;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    Ra =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Convection.Functions.HeatFlux.rayleigh</span>(
      x=gas.x,
      rho=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.density</span>(gas, T_m),
      c_p=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.specificHeatCapacity</span>(gas, T_m),
      mu=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.dynamicViscosity</span>(gas, T_m),
      k=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.thermalConductivity</span>(gas, T_m),
      T_a=T_a,
      T_b=T_b,
      Ra_min=100);
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>isVertical<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
       (Nu, hCon, q_flow) =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity</span>(
              gas=gas, Ra=Ra, T_m=T_m, dT=dT, h=h, deltaNu=deltaNu, deltaRa=deltaRa);
    <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>isHorizontal<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
       (Nu, hCon, q_flow) =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Windows.BaseClasses.convectionHorizontalCavity</span>(
              gas=gas, Ra=Ra, T_m=T_m, dT=dT, til=til, sinTil=sinTil, cosTil=cosTil,
              h=h, deltaNu=deltaNu, deltaRa=deltaRa);

    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
       Nu = 0;
       hCon=0;
       q_flow=0;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;<span style="color: #006400; font-weight: normal; font-style: normal;"> // isVertical or isHorizontal</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;<span style="color: #006400; font-weight: normal; font-style: normal;"> // linearize</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    Q_flow = u*A*<span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=q_flow,
                          simplified=hCon0*dT);
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    Q_flow = u*A*q_flow;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>GasConvection;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE GlassLayer<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wia6657059b5986812LayerI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.GlassLayer</h2>
<p>
<b>Model for a glass layer of a window assembly</b>
<br>
<br><img src="Buildings.HeatTransfer.Wia6657059b5986812LayerD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.GlassLayer">
</p>
<h3>Information</h3>

Model of a single layer of window glass. The input port <code>QAbs_flow</code>
needs to be connected to the solar radiation that is absorbed
by the glass pane.
The model computes the heat conduction between the two glass surfaces.
The heat flow <code>QAbs_flow</code> is added at the center of the glass.
The model also computes the infrared radiative heat balance using an instance
of the model
<a href="Buildings.HeatTransfer.Radiosity.WindowPane">
Buildings.HeatTransfer.Radiosity.WindowPane</a>.
<br/>

<p>Extends from <a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces</a> (Model for the radiosity balance of a device with two surfaces), <a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.ParametersTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.ParametersTwoSurfaces</a> (Parameters that are used to model two surfaces with the same area).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Surface area [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIR_a</td><td>&nbsp;</td><td>Infrared absorptivity of surface a [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIR_b</td><td>&nbsp;</td><td>Infrared absorptivity of surface b [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoIR_a</td><td>1 - absIR_a - tauIR</td><td>Infrared reflectivity of surface a [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoIR_b</td><td>1 - absIR_b - tauIR</td><td>Infrared reflectivity of surface b [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauIR</td><td>&nbsp;</td><td>Infrared transmissivity of glass pane [1]</td></tr>
<tr><td>Boolean</td><td>linearize</td><td>false</td><td>Set to true to linearize emissive power</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T0</td><td>293.15</td><td>Temperature used to linearize radiative heat transfer [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>x</td><td>&nbsp;</td><td>Material thickness [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>ThermalConductivity</a></td><td>k</td><td>&nbsp;</td><td>Thermal conductivity [W/(m.K)]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_a</td><td>Incoming radiosity at surface a [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_b</td><td>Incoming radiosity at surface b [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_a</td><td>Outgoing radiosity at surface a [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_b</td><td>Outgoing radiosity at surface b [W]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input connector, used to scale the surface area to take into account an operable shading device</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>port_a</td><td>Heat port at surface a</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>port_b</td><td>Heat port at surface b</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QAbs_flow</td><td>Solar radiation absorbed by glass [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> GlassLayer <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for a glass layer of a window assembly&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.RadiosityTwoSurfaces</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Radiosity_BaseClasses.html#Buildings.HeatTransfer.Radiosity.BaseClasses.ParametersTwoSurfaces"
>Buildings.HeatTransfer.Radiosity.BaseClasses.ParametersTwoSurfaces</a>(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoIR_a=1-absIR_a-tauIR,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoIR_b=1-absIR_b-tauIR);
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Material thickness&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>Modelica.SIunits.ThermalConductivity</a> k <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Thermal conductivity&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIR_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of surface a (usually room-facing surface)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIR_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of surface b (usually outside-facing surface)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauIR <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared transmittance of glass&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> port_a(T(start=293.15)) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at surface a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> port_b(T(start=293.15)) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at surface b&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QAbs_flow(unit=&quot;W&quot;, quantity=&quot;Power&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar radiation absorbed by glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearize=false <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true to linearize emissive power&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
 Real T4_a(min=1E8, unit=&quot;K4&quot;, start=293.15^4, nominal=1E10) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;4th power of temperature at surface a&quot;</span>;
 Real T4_b(min=1E8, unit=&quot;K4&quot;, start=293.15^4, nominal=1E10) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;4th power of temperature at surface b&quot;</span>;
 <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> E_a(min=0, nominal=1E2) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Emissive power of surface a&quot;</span>;
 <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> E_b(min=0, nominal=1E2) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Emissive power of surface b&quot;</span>;
 <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalResistance"
>Modelica.SIunits.ThermalResistance</a> R = x/2/k/A <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermal resistance from surface of glass to center of glass&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Heat balance of surface node</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// These equations are from Window 6 Technical report, (2.1-14) to (2.1-17)</span>
  0 = port_a.Q_flow + port_b.Q_flow + QAbs_flow + JIn_a  + JIn_b - JOut_a - JOut_b;
  u * (port_b.T-port_a.T) = 2*R * (-port_a.Q_flow-QAbs_flow/2-JIn_a+JOut_a + tauIR * (JIn_a - JIn_b));
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Radiosity balance</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>linearize<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    T4_a = 4*T03*port_a.T - 3*T04;
    T4_b = 4*T03*port_b.T - 3*T04;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      T4_a =<span style="color: red; font-weight: normal; font-style: normal;"> homotopy</span>(actual=port_a.T^4, simplified=4*T03*port_a.T - 3*T04);
      T4_b =<span style="color: red; font-weight: normal; font-style: normal;"> homotopy</span>(actual=port_b.T^4, simplified=4*T03*port_b.T - 3*T04);
    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
      T4_a = port_a.T^4;
      T4_b = port_b.T^4;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Emissive power</span>
  E_a = u * A * absIR_a * Modelica.Constants.sigma * T4_a;
  E_b = u * A * absIR_b * Modelica.Constants.sigma * T4_b;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Radiosities that are outgoing from the surface, which are</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// equal to the infrared absorptivity plus the reflected incoming</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// radiosity plus the radiosity that is transmitted from the</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// other surface.</span>
  JOut_a = E_a + rhoIR_a * JIn_a + tauIR * JIn_b;
  JOut_b = E_b + rhoIR_b * JIn_b + tauIR * JIn_a;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>GlassLayer;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE InteriorConvection<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wied1c9b7a8299c8d6ctionI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.InteriorConvection</h2>
<p>
<b>Model for a interior (room-side) convective heat transfer with variable surface area</b>
<br>
<br><img src="Buildings.HeatTransfer.Wied1c9b7a8299c8d6ctionD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection">
</p>
<h3>Information</h3>

<p>
This is a model for a convective heat transfer for interior, room-facing surfaces.
The parameter <code>conMod</code> determines the model that is used to compute
the heat transfer coefficient:
</p>
<ul>
<li>If <code>conMod=<a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>
Buildings.HeatTransfer.Types.InteriorConvection.Fixed</a></code>, then
the convective heat transfer coefficient is set to the value specified by the parameter
<code>hFixed</code>.
</li>
<li>
If <code>conMod=<a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>
Buildings.HeatTransfer.Types.InteriorConvection.Temperature</a></code>, then
the convective heat tranfer coefficient is a function of the temperature difference.
The convective heat flux is computed using
<ul>
<li>
for floors the function
<a href="Buildings_HeatTransfer_Convection_Functions_HeatFlux.html#Buildings.HeatTransfer.Convection.Functions.HeatFlux.floor"
>
Buildings.HeatTransfer.Convection.Functions.HeatFlux.floor</a>
</li>
<li>
for ceilings the function
<a href="Buildings_HeatTransfer_Convection_Functions_HeatFlux.html#Buildings.HeatTransfer.Convection.Functions.HeatFlux.ceiling"
>
Buildings.HeatTransfer.Convection.Functions.HeatFlux.ceiling</a>
</li>
<li>
for walls the function
<a href="Buildings_HeatTransfer_Convection_Functions_HeatFlux.html#Buildings.HeatTransfer.Convection.Functions.HeatFlux.wall"
>
Buildings.HeatTransfer.Convection.Functions.HeatFlux.wall</a>
</li>
</ul>
</li>
</ul>
<p>
This model is identical to
<a href="Buildings_HeatTransfer_Convection.html#Buildings.HeatTransfer.Convection.Interior"
>
Buildings.HeatTransfer.Convection.Interior</a>
except that it has an input <code>u</code> that is used to scale the
heat transfer.
This can be used if the heat transfer area is variable.
An example usage is for a window with shade, in which
the surface area of a shaded part of a window changes depending on the shading
control signal.
</p>

<p>Extends from <a href="Buildings_HeatTransfer_Convection_BaseClasses.html#Buildings.HeatTransfer.Convection.BaseClasses.PartialConvection"
>Buildings.HeatTransfer.Convection.BaseClasses.PartialConvection</a> (Partial model for heat convection).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</a></td><td>hFixed</td><td>3</td><td>Constant convection coefficient [W/(m2.K)]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt [rad]</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>InteriorConvection</a></td><td>conMod</td><td>Buildings.HeatTransfer.Types...</td><td>Convective heat transfer model</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT.start</td><td>0</td><td>= solid.T - fluid.T [K]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>solid</td><td>&nbsp;</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>fluid</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input connector, used to scale the surface area to take into account an operable shading device</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> InteriorConvection <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for a interior (room-side) convective heat transfer with variable surface area&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Convection_BaseClasses.html#Buildings.HeatTransfer.Convection.BaseClasses.PartialConvection"
>Buildings.HeatTransfer.Convection.BaseClasses.PartialConvection</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>Buildings.HeatTransfer.Types.InteriorConvection</a> conMod=
    Buildings.HeatTransfer.Types.InteriorConvection.Fixed <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer model&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> dT0 = 2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial temperature used in homotopy method&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>(conMod == Buildings.HeatTransfer.Types.InteriorConvection.Fixed)<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    q_flow = u*hFixed * dT;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Even if hCon is a step function with a step at zero,</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// the product hCon*dT is differentiable at zero with</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// a continuous first derivative</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      <span style="color: blue; font-weight: normal; font-style: normal;">if </span>isCeiling<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.ceiling</span>(dT=dT),
                      simplified=dT/dT0*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.ceiling</span>(dT=dT0));
      <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>isFloor<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.floor</span>(dT=dT),
                      simplified=dT/dT0*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.floor</span>(dT=dT0));
      <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.wall</span>(dT=dT),
                      simplified=dT/dT0*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.wall</span>(dT=dT0));
      <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
      <span style="color: blue; font-weight: normal; font-style: normal;">if </span>isCeiling<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.ceiling</span>(dT=dT);
      <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>isFloor<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.floor</span>(dT=dT);
      <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
         q_flow = u*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Convection.Functions.HeatFlux.wall</span>(dT=dT);
      <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>InteriorConvection;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE InteriorConvectionCoefficient<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi9101e37f3e45a679cientI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.InteriorConvectionCoefficient</h2>
<p>
<b>Model for the heat transfer coefficient at the inside of the window</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi9101e37f3e45a679cientD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient">
</p>
<h3>Information</h3>

Model for the convective heat transfer coefficient at the room-facing surface of a window.
The computation is according to TARCOG 2006, which specifies the convection
coefficient as
<p align="center" style="font-style:italic;">
  h = 4 W &frasl; (m<sup>2</sup> K).
</p>
<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>GCon</td><td>Convective thermal conductance [W/K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> InteriorConvectionCoefficient <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for the heat transfer coefficient at the inside of the window&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> GCon(unit=&quot;W/K&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective thermal conductance&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  GCon = 4*A;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>InteriorConvectionCoefficient;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Overhang<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi21b30f6eb83053a2rhangI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.Overhang" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.Overhang"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.Overhang</h2>
<p>
<b>For a window with an overhang, outputs the fraction of the area that is sun exposed</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi21b30f6eb83053a2rhangD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.Overhang">
</p>
<h3>Information</h3>

<p>
For a window with an overhang, this block outputs the fraction of
the area that is exposed to the sun.
This models can also be used for doors with an overhang.
</p>
<p>
Input to this block are the
wall solar azimuth angle and the altitude angle of the sun.
These angles can be calculated using blocks from the package
<a href="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses"
>
Buildings.BoundaryConditions.SolarGeometry.BaseClasses</a>.
</p>
<p>
The overhang can be asymmetrical (i.e. <code>wR &ne; wL</code>)
about the vertical centerline
of the window.
The overhang must completely cover the window (i.e.,
<code>wL &ge; 0</code> and
<code>wR &ge; 0</code>).
<code>wL</code> and <code>wR</code> are measured from the left and right edge of the window.
</p>
<p>
The surface azimuth <code>azi</code> is as defined in
<a href="Buildings_Types_Azimuth.html#Buildings.Types.Azimuth"
>
Buildings.Types.Azimuth</a>.
</p>
<h4>Implementation</h4>
<p>
The method of super position is used to calculate the window shaded area.
The area below the overhang is divided as shown in the figure.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/BaseClasses/OverhangSuperPosition.png" />
</p>
<p>
Dimensional variables used in code for the rectangle <i>DEGI, AEGH, CFGI</i> and <i>BFGH</i>
are shown in the figure below:
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/BaseClasses/OverhangVariables.png" />
</p>
<p>
The rectangles <i>DEGI, AEGH, CFGI</i> and <i>BFGH</i> have the same geometric configuration
with respect to the overhang.
Thus, the same algorithm can be used to calculate the shaded portion in these areas.
A single equation in the <code>for</code> loop improves the total calculation time,
as compared to <code>if-then-else</code>
conditions, considering the various shapes of the shaded portions.
To find the shaded area in window <i>ABCD</i>, the shaded portion of <i>AEGD</i> and <i>CFGI</i>
should be subtracted from that of <i>DEGI</i> and <i>BFGH</i>.
This shaded area of the window is then divided by the total window area
to calculate the shaded fraction of the window.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block), <a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</a> (Record for window overhang).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>lat</td><td>&nbsp;</td><td>Latitude [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>azi</td><td>&nbsp;</td><td>Surface azimuth; azi= -90 degree East; azi= 0 degree South [rad]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Overhang</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wL</td><td>&nbsp;</td><td>Overhang width left to the window, measured from the window corner [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wR</td><td>&nbsp;</td><td>Overhang width right to the window, measured from the window corner [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dep</td><td>&nbsp;</td><td>Overhang depth (measured perpendicular to the wall plane) [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>gap</td><td>&nbsp;</td><td>Distance between window upper edge and overhang lower edge [m]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Window</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>hWin</td><td>&nbsp;</td><td>Window height [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wWin</td><td>&nbsp;</td><td>Window width [m]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>verAzi</td><td>Wall solar azimuth angle (angle between projection of sun&#39;s rays and normal to vertical surface) [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>alt</td><td>Altitude angle [rad]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of window area exposed to the sun [1]</td></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> Overhang <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;For a window with an overhang, outputs the fraction of the area that is sun exposed&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</a>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> verAzi(quantity=&quot;Angle&quot;, unit=&quot;rad&quot;, displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Wall solar azimuth angle (angle between projection of sun&#39;s rays and normal to vertical surface)&quot;</span>;

   <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> alt(
     quantity=&quot;Angle&quot;,
     unit=&quot;rad&quot;,
     displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Altitude angle&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> fraSun(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>min=0,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>max=1,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;1&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fraction of window area exposed to the sun&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> lat <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Latitude&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> azi(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface azimuth; azi= -90 degree East; azi= 0 degree South&quot;</span>;

<span style="color: #006400; font-weight: normal; font-style: normal;">// Window dimensions</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> hWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window height&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> wWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window width&quot;</span>;

  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Buildings.BoundaryConditions.WeatherData.Bus</a> weaBus;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> delSolAzi = 0.005 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Half-width of transition interval between left and right formulation for overhang&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AWin= hWin*wWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> tmpH[4](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Height rectangular sections used for superposition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> w <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Either wL or wR, depending on the sun relative to the wall azimuth&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> tmpW[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Width of rectangular sections used for superpositions&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> del_L = wWin/100 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fraction of window dimension over which min-max functions are smoothened&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Horizontal distance between window side edge and shadow corner&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x2[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Horizontal distance between window side edge and point where shadow line and window lower edge intersects&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> y1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Vertical distance between overhang and shadow lower edge&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> y2[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Window height (vertical distance corresponding to x2)&quot;</span>;
  Real shdwTrnglRtio <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Ratio of y1 and x1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> area[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaded areas of the sections used in superposition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> shdArea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shaded area calculated from equations&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Final value for shaded area&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Corrected for the sun behind the surface/wall&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea2 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Corrected for the sun below horizon&quot;</span>;

  <a href="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses.SolarAzimuth"
>Buildings.BoundaryConditions.SolarGeometry.BaseClasses.SolarAzimuth</a> solAzi(lat=lat) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar azimuth&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(wL &gt;= 0,  &quot;Overhang must cover complete window
    Received overhang width on left hand side, wL = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(wL));
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(wR &gt;= 0,  &quot;Overhang must cover complete window
    Received overhang width on right hand side, wR = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(wR));

  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    tmpH[i] := gap +<span style="color: red; font-weight: normal; font-style: normal;"> mod</span>((i - 1), 2)*hWin;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// if dep=0, then the equation</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//   y1*Modelica.Math.cos(verAzi) = dep*Modelica.Math.tan(alt);</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// is singular. Hence, we treat this special case with an</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// if-then construct.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// This also increases computing efficiency in</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Buildings.HeatTransfer.Windows.FixedShade in case the window has no overhang.</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveOverhang<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">//Temporary height and widths are for the areas below the overhang</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">//These areas are used in superposition</span>
    w =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
            pos=wL,
            neg=wR,
            x=solAzi.solAzi-azi,
            deltax=delSolAzi);
    tmpW[1] = w + wWin;
    tmpW[2] = w;
    tmpW[3] = w;
    tmpW[4] = w + wWin;
    y1*<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.cos</span>(verAzi) = dep*<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.tan</span>(alt);
    x1 = dep*<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.tan</span>(verAzi);
    shdwTrnglRtio*x1 = y1;
    <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
      y2[i] = tmpH[i];
      <span style="color: #006400; font-weight: normal; font-style: normal;">// For the equation below, Dymola generated the following code in MixedAirFreeResponse.</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// This led to a division by zero as y1 crosses zero. The problem occurred in an</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// FMU simulation. Therefore, we guard against division by zero when computing</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// x2[i].</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">//  roo.bouConExtWin.sha[1].ove.x2[1] := roo.bouConExtWin.sha[1].ove.x1*</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">//  roo.bouConExtWin.sha[1].ove.tmpH[1]/roo.bouConExtWin.sha[1].ove.y1;</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// x2[i]*y1 = x1*tmpH[i];</span>

      x2[i] = x1*tmpH[i]/<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(
        x1=y1, x2=1E-8*hWin, deltaX=1E-9*hWin);
      area[i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=y1,
        x2=y2[i],
          deltaX=del_L)*tmpW[i] - (<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMin</span>(
        y1,
        tmpH[i],
        del_L)*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=x2[i],
        x2=y1,
        deltaX=del_L)/2) +<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
        x1=shdwTrnglRtio*(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMin</span>(
          x1=x1,
          x2=x2[i],
          deltaX=del_L) - tmpW[i]),
        x2=0,
        deltaX=del_L)*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(
        x1=(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMin</span>(
          x1=x1,
          x2=x2[i],
          deltaX=del_L) - tmpW[i]),
        x2=0,
        deltaX=del_L)/2;
    <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
    shdArea = area[4] + area[3] - area[2] - area[1];
  <span style="color: #006400; font-weight: normal; font-style: normal;">// correction case: Sun not in front of the wall</span>
    crShdArea1 =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
      pos=shdArea,
      neg=AWin,
      x=(Modelica.Constants.pi/2)-verAzi,
      deltax=0.01);
  <span style="color: #006400; font-weight: normal; font-style: normal;">// correction case: Sun not above horizon</span>
    crShdArea2 =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
      pos=shdArea,
      neg=AWin,
      x=alt,
      deltax=0.01);
    crShdArea=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(x1=crShdArea1,
                                                           x2=crShdArea2,
                                                           deltaX=0.01);
    fraSun =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(x1=1-crShdArea/AWin,x2=0,deltaX=0.01),
        x2=1.0,
        deltaX=0.01);
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    w = 0;
    tmpW=<span style="color: red; font-weight: normal; font-style: normal;">fill</span>(0.0, 4);
    y1 = 0;
    x1 = 0;
    shdwTrnglRtio = 0;
    <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
      y2[i] = 0;
      x2[i] = 0;
      area[i] = 0;
    <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
    shdArea = 0;
    crShdArea1 = 0;
    crShdArea2 = 0;
    crShdArea  = 0;
    fraSun     = 0;
   <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solTim, solAzi.solTim);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solZen, solAzi.zen);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solDec, solAzi.decAng);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Overhang;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PartialRadiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wiea1882b884f884c9ationI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.PartialRadiation</h2>
<p>
<b>Partial model for variables and data used in radiation calculation</b>
<br>
<br><img src="Buildings.HeatTransfer.Wiea1882b884f884c9ationD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation">
</p>
<h3>Information</h3>

The model calculates solar absorbance on the window.
The calculations follow the description in Wetter (2004), Appendix A.4.3.

<h4>References</h4>
<ul>
<li>
Michael Wetter.<br/>
<a href="http://simulationresearch.lbl.gov/wetter/download/mwdiss.pdf">
Simulation-based Building Energy Optimization</a>.<br/>
Dissertation. University of California at Berkeley. 2004.
</li>
</ul>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block), <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"
>Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData</a> (Basic parameters for window radiation calculation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has an exterior shade</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has an interior shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>AWin</td><td>&nbsp;</td><td>Area of window [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Control signal for shading (0: unshaded; 1: fully shaded)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDif</td><td>Diffussive solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Incident angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDir</td><td>Direct solar radiation [W/m2]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">block</span> PartialRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Partial model for variables and data used in radiation calculation&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"
>Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData</a>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">////////////////// Parameters that are not used by RadiationData</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveExteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window has an exterior shade&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveInteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window has an interior shade&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Area of window&quot;</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">////////////////// Derived parameters</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveShade=haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>haveInteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window has a shade&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationData"
>Buildings.HeatTransfer.Windows.BaseClasses.RadiationData</a>
    radDat(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>N=N,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauGlaSol=tauGlaSol,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_a=rhoGlaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_b=rhoGlaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>xGla=xGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_a=tauShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_b=tauShaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_a=rhoShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_b=rhoShaSol_b) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Optical properties of window for different irradiation angles&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> uSha(min=0, max=1) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for shading (0: unshaded; 1: fully shaded)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> HDif(quantity=&quot;RadiantEnergyFluenceRate&quot;,
      unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Diffussive solar radiation&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> incAng(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Angle&quot;,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;rad&quot;,
    displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Incident angle&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> HDir(quantity=&quot;RadiantEnergyFluenceRate&quot;,
      unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Direct solar radiation&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> uSha_internal(min=0, max=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for shading (0: unshaded; 1: fully shaded)&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">/* Current model assumes that the window only has either an interior or exterior shade.
     Warn user if it has an interior and exterior shade.
     Allowing both shades at the same time would require rewriting part of the model. */</span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: blue; font-weight: normal; font-style: normal;">not </span>(haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> and </span>haveInteriorShade),
    &quot;Window radiation model does not support an exterior and interior shade at the same time.&quot;);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Connect statement for conditionally removed connector uSha</span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(uSha, uSha_internal);
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>(<span style="color: blue; font-weight: normal; font-style: normal;">not </span>haveShade)<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    uSha_internal = 0;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PartialRadiation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PartialShade_weatherBus<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi482ac2bf230204b0erBusI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.PartialShade_weatherBus</h2>
<p>
<b>Partial model to implement overhang and side fins with weather bus connector</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi482ac2bf230204b0erBusD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus">
</p>
<h3>Information</h3>

<p>
Partial model to implement overhang and side fin model with weather bus as a connector.
</p>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</a> (Base class for models of window shade and overhangs).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Window</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>hWin</td><td>&nbsp;</td><td>Window height [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wWin</td><td>&nbsp;</td><td>Window width [m]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Solar incidence angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDirTilUns</td><td>Direct solar irradiation on tilted, unshaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HDirTil</td><td>Direct solar irradiation on tilted, shaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of the area that is unshaded [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">model</span> PartialShade_weatherBus <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Partial model to implement overhang and side fins with weather bus connector&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</a>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Window dimensions</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> hWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window height&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> wWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window width&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth"
>Buildings.BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth</a> walSolAzi <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Wall solar azimuth&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> product;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, walSolAzi.alt);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(walSolAzi.incAng, incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(product.y, HDirTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(product.u1, HDirTilUns);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PartialShade_weatherBus;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PartialWindowBoundaryCondition<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wifccc9208b989ed30itionI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.PartialWindowBoundaryCondition</h2>
<p>
<b>Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room</b>
<br>
<br><img src="Buildings.HeatTransfer.Wifccc9208b989ed30itionD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition">
</p>
<h3>Information</h3>

<p>
Partial model for boundary conditions for convection and radiation for a window surface with or without shade,
that is outside or inside the room.
</p>
<p>
This allows using the model as a base class for windows with inside shade, outside shade, or no shade.
</p>

<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area of frame and window [m2]</td></tr>
<tr><td>Real</td><td>fFra</td><td>&nbsp;</td><td>Fraction of window frame divided by total window area</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shading</td></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has exterior shade (at surface a)</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has interior shade (at surface b)</td></tr>
<tr><td>Boolean</td><td>thisSideHasShade</td><td>&nbsp;</td><td>Set to true if this side of the model has a shade</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>air</td><td>Port that connects to the air (room or outside)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaUns</td><td>Heat port that connects to unshaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaSha</td><td>Heat port that connects to shaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>frame</td><td>Heat port at window frame</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">model</span> PartialWindowBoundaryCondition <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area of frame and window&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real fFra <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Fraction of window frame divided by total window area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AFra = fFra * A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Frame area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AGla = A-AFra <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Glass area&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveExteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window has exterior shade (at surface a)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveInteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window has interior shade (at surface b)&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveShade = haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>haveInteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if window system has a shade&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean thisSideHasShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if this side of the model has a shade&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> uSha <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Port that connects to the air (room or outside)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glaUns <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port that connects to unshaded part of glass&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glaSha <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port that connects to shaded part of glass&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> proSha <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Product for shaded part of window&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"
>ShadingSignal</a> shaSig(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveShade=haveShade) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Conversion for shading signal&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">public </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> frame <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at window frame&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(( thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> and </span>haveShade)<span style="color: blue; font-weight: normal; font-style: normal;">  or </span>(<span style="color: blue; font-weight: normal; font-style: normal;">not </span>thisSideHasShade),
    &quot;Parameters \&quot;thisSideHasShade\&quot; and \&quot;haveShade\&quot; are not consistent. Check parameters&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;"> connect</span>(uSha, shaSig.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(proSha.u2, shaSig.y);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PartialWindowBoundaryCondition;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShadeConvection<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi29da9fcfc6b972d6ctionI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ShadeConvection</h2>
<p>
<b>Model for convective heat balance of a layer that may or may not have a shade</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi29da9fcfc6b972d6ctionD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection">
</p>
<h3>Information</h3>

<p>
Model for the convective heat balance
of a shade that is in the outside or the room-side of a window.
</p>
<p>
The convective heat balance is based on the model described by Wright (2008), which can
be shown as a convective heat resistance model as follows:
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/BaseClasses/convection.png" border="1"/>
</p>
<p>
Wright (2008) reports that if the shading layer is far enough from the window,
the boundary layers associated with each surface will not interfere with
each other. In this case, it is reasonable to consider each surface on an
individual basis by setting the convective heat transfer coefficient shown in grey to zero,
and setting the black depicted convective heat transfer coefficients
to <i>h=4 W/m<sup>2</sup> K</i>.
In the here implemented model, the grey depicted convective heat transfer coefficient
is set set to <i>h' = k &nbsp; h</i>, where <i>0 &le; k &le; 1</i> is a parameter.
</p>
<h4>References</h4>
<ul>
<li>
Jon L. Wright.<br/>
Calculating Center-Glass Performance Indices
of Glazing Systems with Shading Devices.<br/>
<i>ASHRAE Transactions</i>, SL-08-020. 2008.
</li>
</ul>

<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
<tr><td>Boolean</td><td>thisSideHasShade</td><td>&nbsp;</td><td>Set to true if this side of the window has a shade</td></tr>
<tr><td>Real</td><td>k</td><td>1</td><td>Coefficient used to scale convection between shade and glass</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>Gc</td><td>Signal representing the convective thermal conductance [W/K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>air</td><td>Port that connects to the air (room or outside)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glass</td><td>Heat port that connects to shaded part of glass</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QRadAbs_flow</td><td>Total net radiation that is absorbed by the shade (positive if absorbed) [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TSha</td><td>Shade temperature [K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ShadeConvection <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for convective heat balance of a layer that may or may not have a shade&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean thisSideHasShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if this side of the window has a shade&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real k(min=0, max=1)=1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Coefficient used to scale convection between shade and glass&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> Gc(unit=&quot;W/K&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Signal representing the convective thermal conductance&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Port that connects to the air (room or outside)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port that connects to shaded part of glass&quot;</span>;
 <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QRadAbs_flow(unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Total net radiation that is absorbed by the shade (positive if absorbed)&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TSha(quantity=&quot;ThermodynamicTemperature&quot;,
      unit=&quot;K&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shade temperature&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Convective heat balance of shade.</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// The term 2*Gc is to combine the parallel convective heat transfer resistances,</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// see figure in info section.</span>
 <span style="color: #006400; font-weight: normal; font-style: normal;">//   2*(air.T-TSha) = k*(glass.T-TSha);</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Convective heat flow at air node</span>
    air.Q_flow   = Gc*(2*(air.T-TSha) + (air.T-glass.T));
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Convective heat flow at glass node</span>
    glass.Q_flow = Gc*((glass.T-air.T)+k*(glass.T-TSha));
    air.Q_flow + glass.Q_flow + QRadAbs_flow = 0;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    air.Q_flow   = Gc*(air.T-glass.T);
    air.Q_flow + glass.Q_flow = 0;
    TSha = (air.T+glass.T)/2;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ShadeConvection;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShadeInterface_weatherBus<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi0027dbf7b84a234cerBusI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ShadeInterface_weatherBus</h2>
<p>
<b>Base class for models of window shade and overhangs</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi0027dbf7b84a234cerBusD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus">
</p>
<h3>Information</h3>

<p>
Partial model to implement overhang and side fin model with weather bus as a connector.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block).</p>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Solar incidence angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDirTilUns</td><td>Direct solar irradiation on tilted, unshaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HDirTil</td><td>Direct solar irradiation on tilted, shaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of the area that is unshaded [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ShadeInterface_weatherBus <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Base class for models of window shade and overhangs&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;

  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Buildings.BoundaryConditions.WeatherData.Bus</a> weaBus <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Weather data bus&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> incAng(quantity=&quot;Angle&quot;,
                                              unit=&quot;rad&quot;,
                                              displayUnit=&quot;rad&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar incidence angle&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> HDirTilUns(
                         quantity=&quot;RadiantEnergyFluenceRate&quot;,
                         unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Direct solar irradiation on tilted, unshaded surface&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> HDirTil(
                         quantity=&quot;RadiantEnergyFluenceRate&quot;,
                         unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Direct solar irradiation on tilted, shaded surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> fraSun(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>min=0,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>max=1,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;1&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fraction of the area that is unshaded&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ShadeInterface_weatherBus;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShadeRadiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi785e6b84187e2e26ationI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ShadeRadiation</h2>
<p>
<b>Model for infrared radiative heat balance of a layer that may or may not have a shade</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi785e6b84187e2e26ationD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation">
</p>
<h3>Information</h3>

<p>
Model for the infrared radiative heat balance
of a shade that is at the outside or the room-side of a window.
The model also includes the absorbed solar radiation.
</p>
<p>
The input port <code>QAbs_flow</code> needs to be connected to the solar radiation
that is absorbed by the shade.
</p>

<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIR_air</td><td>&nbsp;</td><td>Infrared absorptivity of surface that faces air [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIR_glass</td><td>&nbsp;</td><td>Infrared absorptivity of surface that faces glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauIR_air</td><td>&nbsp;</td><td>Infrared transmissivity of shade for radiation coming from the exterior or the room [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauIR_glass</td><td>&nbsp;</td><td>Infrared transmissivity of shade for radiation coming from the glass [1]</td></tr>
<tr><td>Boolean</td><td>thisSideHasShade</td><td>&nbsp;</td><td>Set to true if this side of the window has a shade</td></tr>
<tr><td>Boolean</td><td>linearize</td><td>false</td><td>Set to true to linearize emissive power</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T0</td><td>293.15</td><td>Temperature used to linearize radiative heat transfer [K]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input connector, used to scale the surface area to take into account an operable shading device</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QSolAbs_flow</td><td>Solar radiation absorbed by shade [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_air</td><td>Incoming radiosity at the air-side surface of the shade [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JIn_glass</td><td>Incoming radiosity at the glass-side surface of the shade [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_air</td><td>Outgoing radiosity at the air-side surface of the shade [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOut_glass</td><td>Outgoing radiosity at the glass-side surface of the shade [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QRadAbs_flow</td><td>Total net radiation that is absorbed by the shade (positive if absorbed) [W]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TSha</td><td>Shade temperature [K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ShadeRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for infrared radiative heat balance of a layer that may or may not have a shade&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIR_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of surface that faces air&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIR_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of surface that faces glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauIR_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared transmissivity of shade for radiation coming from the exterior or the room&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauIR_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared transmissivity of shade for radiation coming from the glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean thisSideHasShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true if this side of the window has a shade&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoIR_air=1-absIR_air-tauIR_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared reflectivity of surface that faces air&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoIR_glass=1-absIR_glass-tauIR_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared reflectivity of surface that faces glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearize = false <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true to linearize emissive power&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T0=293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used to linearize radiative heat transfer&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input connector, used to scale the surface area to take into account an operable shading device&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QSolAbs_flow(unit=&quot;W&quot;, quantity=&quot;Power&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar radiation absorbed by shade&quot;</span>;

  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JIn_air(start=A*0.8*Modelica.Constants.sigma*293.15^4) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity at the air-side surface of the shade&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JIn_glass(start=A*0.8*Modelica.Constants.sigma*293.15^4) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity at the glass-side surface of the shade&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOut_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity at the air-side surface of the shade&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOut_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity at the glass-side surface of the shade&quot;</span>;

 <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QRadAbs_flow(unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Total net radiation that is absorbed by the shade (positive if absorbed)&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSha(quantity=&quot;ThermodynamicTemperature&quot;,
      unit=&quot;K&quot;,
      start=293.15) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
         thisSideHasShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shade temperature&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
   <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TSha_internal(quantity=&quot;ThermodynamicTemperature&quot;,
      unit=&quot;K&quot;,
      start=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Internal connector for shade temperature&quot;</span>;

 <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real T03(min=0, <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;K3&quot;)=T0^3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;3rd power of temperature T0&quot;</span>;
 Real T4(min=1E8, start=293.15^4, nominal=1E10, <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;K4&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;4th power of temperature&quot;</span>;
 <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.RadiantPower"
>Modelica.SIunits.RadiantPower</a> E_air <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Emissive power of surface that faces air&quot;</span>;
 <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.RadiantPower"
>Modelica.SIunits.RadiantPower</a> E_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Emissive power of surface that faces glass&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSha_internal, TSha);
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Radiosities that are outgoing from the surface, which are</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// equal to the infrared absorptivity plus the reflected incoming</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// radiosity plus the radiosity that is transmitted from the</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// other surface.</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>linearize<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      T4 = T03 * TSha_internal;
    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
      <span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
        T4 =<span style="color: red; font-weight: normal; font-style: normal;"> homotopy</span>(actual=(TSha_internal)^4, simplified=T03 * TSha_internal);
      <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
        T4 = TSha_internal^4;
      <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

    E_air   = u * A * absIR_air   * Modelica.Constants.sigma * T4;
    E_glass = u * A * absIR_glass * Modelica.Constants.sigma * T4;
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Radiosity outgoing from shade towards air side and glass side</span>
    JOut_air   = E_air   + tauIR_glass * JIn_glass + rhoIR_air*JIn_air;
    JOut_glass = E_glass + tauIR_air   * JIn_air   + rhoIR_glass*JIn_glass;
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Radiative heat balance of shade.</span>
    QSolAbs_flow + absIR_air*JIn_air + absIR_glass*JIn_glass
      = E_air+E_glass+QRadAbs_flow;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    QRadAbs_flow = 0;
    T4 = T03 * T0;
    E_air = 0;
    E_glass = 0;
    JOut_air = JIn_glass;
    JOut_glass = JIn_air;
    TSha_internal = T0;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ShadeRadiation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ShadingSignal<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi5d45a82eafc09590ignalI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ShadingSignal</h2>
<p>
<b>Converts the shading signal to be strictly bigger than 0 and smaller than 1</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi5d45a82eafc09590ignalD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal">
</p>
<h3>Information</h3>

This model changes the shading control signal to avoid a singularity
in the window model if the input signal is zero or one.
Since the window heat balance multiplies the area of the window by <code>u</code>
or by <code>1-u</code> (if a shade is present), the heat balance can be singular
for <code>u=0</code> or for <code>u=1</code>.
This model avoids this singularity by slightly changing the control signal.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Modelica.Blocks.Interfaces.SO</a> (Single Output continuous control block).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>haveShade</td><td>&nbsp;</td><td>Set to true if a shade is present</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>y</td><td>Connector of Real output signal</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Shading control signal, 0: unshaded; 1: fully shaded</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>yCom</td><td>1-u</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> ShadingSignal <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Converts the shading signal to be strictly bigger than 0 and smaller than 1&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.SO"
>Modelica.Blocks.Interfaces.SO</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true if a shade is present&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shading control signal, 0: unshaded; 1: fully shaded&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> yCom <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;1-u&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real y0 = 1E-6 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Smallest allowed value for y if a shade is present&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real k = 1-2*y0 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Gain for shading signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u_in_internal <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Needed to connect to conditional connector&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(u, u_in_internal);
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span><span style="color: blue; font-weight: normal; font-style: normal;">not </span>haveShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    u_in_internal = 0;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    y = y0 + k *  u_in_internal;
    yCom = 1-y;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    y = 0;
    yCom = 1;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ShadingSignal;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SideFins<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wiedf561c37b577351eFinsI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.SideFins" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.SideFins"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.SideFins</h2>
<p>
<b>For a window with side fins, outputs the fraction of the area that is sun exposed</b>
<br>
<br><img src="Buildings.HeatTransfer.Wiedf561c37b577351eFinsD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.SideFins">
</p>
<h3>Information</h3>

<p>
For a window with side fins, this block outputs the fraction of
the area that is exposed to the sun.
This models can also be used for doors with side fins.
</p>
<p>
Input to this block are the
wall solar azimuth angle and the altitude angle of the sun.
These angles can be calculated using blocks from the package
<a href="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses"
>
Buildings.BoundaryConditions.SolarGeometry.BaseClasses</a>.
</p>

<h4>Limitations</h4>
<p>
The model assumes that
</p>
<ul>
<li>
the side fins are placed symmetrically to the left and right of the window,
</li>
<li>
the top of the side fins must be at an equal or greater height than the window, and
</li>
<li>
the bottom of the side fins must be at an equal or lower height than the
bottom of the window.
</li>
</ul>

<h4>Implementation</h4>
<p>
The method of super position is used to calculate the shaded area of the window.
The area besides the side fin is divided as shown in the figure below.
</p>
<p align="center">
<img alt="imaghe" src="../Resources/Images/HeatTransfer/Windows/BaseClasses/SideFinsSuperPosition.png" />
</p>

<p>
Variables used in the code for the rectangle <i>AEGI, BEGH, DFGI</i> and <i>CFGH</i> are shown in figure below.
</p>
<p align="center">
<img alt="imaghe" src="../Resources/Images/HeatTransfer/Windows/BaseClasses/SideFinsVariables.png" />
</p>

<p>
The rectangles <i>AEGI, BEGH, DFGI</i> and <i>CFGH</i>  have the same geometric configuration
with respect to the side fin.
Thus, the same algorithm is used to calculate the shaded portion in these areas.
A single equation in the <code>for</code> loop improves the total calculation time,
as compared to <code>if-then-else</code>
conditions, considering the various shapes of the shaded portions.
To find the shaded area in the window <i>ABCD</i>, the shaded portion of
<i>BEGH</i> and <i>DFGI</i> is subtracted from <i>AEGI</i> and <i>CFGH</i>.
This shaded area of the window is then divided by the total window area
to calculate the shaded fraction of the window.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a> (Basic graphical layout of input/output block), <a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</a> (Record for window side fins).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Side fin</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>h</td><td>&nbsp;</td><td>Height of side fin that extends above window, measured from top of window [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dep</td><td>&nbsp;</td><td>Side fin depth (measured perpendicular to the wall plane) [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>gap</td><td>&nbsp;</td><td>Distance between side fin and window edge [m]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Window</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>hWin</td><td>&nbsp;</td><td>Window height [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wWin</td><td>&nbsp;</td><td>Window width [m]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>alt</td><td>Solar altitude angle (angle between sun ray and horizontal surface) [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>verAzi</td><td>Angle between projection of sun&#39;s rays and normal to vertical surface [rad]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of window area exposed to the sun [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> SideFins <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;For a window with side fins, outputs the fraction of the area that is sun exposed&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Icons.html#Modelica.Blocks.Icons.Block"
>Modelica.Blocks.Icons.Block</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> alt(quantity=&quot;Angle&quot;,
                                           unit=&quot;rad&quot;,
                                           displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar altitude angle (angle between sun ray and horizontal surface)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> verAzi(quantity=&quot;Angle&quot;,
                                              unit=&quot;rad&quot;,
                                              displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Angle between projection of sun&#39;s rays and normal to vertical surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> fraSun(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>min=0,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>max=1,
                                               <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;1&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fraction of window area exposed to the sun&quot;</span>;
<span style="color: #006400; font-weight: normal; font-style: normal;">// Window dimensions</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> hWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window height&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> wWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window width&quot;</span>;
<span style="color: #006400; font-weight: normal; font-style: normal;">// Other calculation variables</span>
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> tmpH[4]=
                  {h+hWin, h, h+hWin, h} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Height of rectangular sections used for superposition&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> tmpW[4]=
                  {gap + wWin,gap + wWin,gap, gap} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Width of rectangular sections used for superpositions; c1,c2 etc&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> deltaL=wWin/100 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fraction of window dimension over which min-max functions are smoothened&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AWin=hWin*wWin <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window area&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x1[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Horizontal distance between side fin and point where shadow line and window lower edge intersects&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Horizontal distance between side fin and shadow corner&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> x3[4] <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window width&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> y1[4] <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window height&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> y2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Vertical distance between window upper edge and shadow corner&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> y3[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Vertical distance between window upper edge and point where shadow line and window side edge intersects&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> area[4] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaded areas of the sections used in superposition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> shdArea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shaded area&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Final value of shaded area&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaded area, corrected for the sun behind the surface/wall&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> crShdArea2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaded area, corrected for the sun below horizon&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> minX[4];
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> minY[4];
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> minX2X3[4];
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> minY2Y3[4];
  Real delta=1e-6 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Small number to avoid division by zero&quot;</span>;
  Real tanLambda <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Tangent of angle between horizontal and sun ray projection on vertical wall&quot;</span>;
  Real verAzi_t;
  Real lambda_t;
  Real verAzi_c;
  Real alt_t;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(h &gt;= 0, &quot;Sidefin parameter &#39;h&#39; must be at least zero.
  It is measured from the upper edge of the window to the top of the side fin.
  Received h = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(h));
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// This if-then construct below increases computing efficiency in</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Buildings.HeatTransfer.Windows.FixedShade in case the window has no overhang.</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveSideFins<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//avoiding division by zero</span>
    lambda_t =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
      x1=tanLambda,
      x2=delta,
      deltaX=delta/10);
    verAzi_t =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
      x1=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.tan</span>(verAzi),
      x2=delta,
      deltaX=delta/10);
    verAzi_c =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
      x1=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.cos</span>(verAzi),
      x2=delta,
      deltaX=delta/10);
    alt_t =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
      x1=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.tan</span>(alt),
      x2=delta,
      deltaX=delta/10);
    tanLambda = alt_t / verAzi_t;
    y2 = dep*alt_t/verAzi_c;
    x2 = dep*verAzi_t;
    <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:4<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
      x1[i] = tmpH[i]/lambda_t;
      x3[i] = tmpW[i];
      y1[i] = tmpH[i];
      y3[i] = tmpW[i]*lambda_t;
      minX2X3[i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=x2,
        x2=x3[i],
        deltaX=deltaL);
      minX[i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=x1[i],
        x2=minX2X3[i],
        deltaX=deltaL);
      minY2Y3[i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=y2,
        x2=y3[i],
        deltaX=deltaL);
      minY[i] =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMin</span>(
        x1=y1[i],
        x2=minY2Y3[i],
        deltaX=deltaL);
      area[i] = tmpH[i]*minX[i] - minX[i]*minY[i]/2;
    <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">//by superposition</span>
    shdArea = area[1] + area[4] - area[2] - area[3];
    <span style="color: #006400; font-weight: normal; font-style: normal;">// The corrections below ensure that the shaded area is 1 if the</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// sun is below the horizon or behind the wall.</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// This correction is not required (because the direct solar irradiation</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// will be zero in this case), but it leads to more realistic time series</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// of this model.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//correction case: Sun not in front of the wall</span>
    crShdArea1 =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
       pos=shdArea,
       neg=AWin,
       x=(Modelica.Constants.pi/2)-verAzi,
       deltax=0.01);
  <span style="color: #006400; font-weight: normal; font-style: normal;">//correction case: Sun below horizon</span>
    crShdArea2 =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
       pos=shdArea,
       neg=AWin,
       x=alt,
       deltax=0.01);
    crShdArea=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(
       x1=crShdArea1,
       x2=crShdArea2,
       deltaX=0.0001*AWin);
    fraSun = 1-crShdArea/AWin;
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    lambda_t = 0;
    verAzi_t = 0;
    verAzi_c = 0;
    alt_t =    0;
    tanLambda = 0;
    y2 = 0;
    x2 = 0;
    x1 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    x3 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    y1 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    y3 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    minX2X3 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    minX =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    minY2Y3 =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    minY =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    area =<span style="color: red; font-weight: normal; font-style: normal;"> fill</span>(0.0, 4);
    shdArea = 0;
    crShdArea1 = 0;
    crShdArea2 = 0;
    crShdArea  = 0;
    fraSun     = 0;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SideFins;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ThermalConductor<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi10948b5c7db343c9uctorI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ThermalConductor" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.ThermalConductor"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.ThermalConductor</h2>
<p>
<b>Lumped thermal element with variable area, transporting heat without storing it</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi10948b5c7db343c9uctorD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.ThermalConductor">
</p>
<h3>Information</h3>

<p>
This is a model for transport of heat without storing it.
It is identical to the thermal conductor from the Modelica Standard Library,
except that it adds an input signal <code>u</code>.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.Element1D"
>Modelica.Thermal.HeatTransfer.Interfaces.Element1D</a> (Partial heat transfer element with two HeatPort connectors that does not store energy).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</a></td><td>G</td><td>&nbsp;</td><td>Constant thermal conductance of material [W/K]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>port_a</td><td>&nbsp;</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>port_b</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Input signal for thermal conductance</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ThermalConductor <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Lumped thermal element with variable area, transporting heat without storing it&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.Element1D"
>Modelica.Thermal.HeatTransfer.Interfaces.Element1D</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> G <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Constant thermal conductance of material&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input signal for thermal conductance&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  Q_flow = u*G*dT;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ThermalConductor;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TransmittedRadiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wid0ddea1e04aca6a7ationI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.TransmittedRadiation</h2>
<p>
<b>Transmitted radiation through window</b>
<br>
<br><img src="Buildings.HeatTransfer.Wid0ddea1e04aca6a7ationD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation">
</p>
<h3>Information</h3>

The model calculates solar radiation through the window.
The calculations follow the description in Wetter (2004), Appendix A.4.3.
<br/>

The transmitted exterior radiation for window system includes:<br/>
<ol>
<li>
the transmitted diffusive radiation on unshaded part: <code>AWin*(1-uSha)*HDif*tau(HEM)</code>
</li>
<li>
the transmitted direct radiation on no shade part: <code>AWin*(1-uSha)*HDir*tau(IncAng)</code>
</li>
<li>
the transmitted diffusive radiation on shaded part: <code>AWin*uSha*HDif*tauSha(HEM)</code>
</li>
<li>
the transmitted direct radiation on shaded part: <code>AWin*uSha*HDir*tauSha(IncAng);</code>
</li>
</ol>
The output is <code>QTra_flow = Part1 + Part2 + Part3 + Part4</code>

<h4>References</h4>
<ul>
<li>
Michael Wetter.<br/>
<a href="http://simulationresearch.lbl.gov/wetter/download/mwdiss.pdf">
Simulation-based Building Energy Optimization</a>.<br/>
Dissertation. University of California at Berkeley. 2004.
</li>
</ul>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a> (Partial model for variables and data used in radiation calculation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has an exterior shade</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has an interior shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>AWin</td><td>&nbsp;</td><td>Area of window [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Control signal for shading (0: unshaded; 1: fully shaded)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDif</td><td>Diffussive solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Incident angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDir</td><td>Direct solar radiation [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QTra_flow</td><td>Transmitted exterior radiation through the window. (1: no shade; 2: shade) [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> TransmittedRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Transmitted radiation through window&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QTra_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Transmitted exterior radiation through the window. (1: no shade; 2: shade)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real traCoeRoo(fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Transmitivity of the window glass for interior radiation without shading&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Modelica.SIunits.Power</a> QTraUns_flow <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Transmitted solar radiation through unshaded part of window&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Modelica.SIunits.Power</a> QTraSha_flow <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Transmitted solar radiation through shaded part of window&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Real x <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Intermediate variable&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer NDIR=radDat.NDIR;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer HEM=radDat.HEM;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer NoShade=1;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Shade=2;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Interior=1;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Integer Exterior=2;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real coeTraWinExtIrr[2, radDat.HEM + 2](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false);
  Real tmpNoSha;
  Real tmpSha;
  Real incAng2;

<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Assign coefficients.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Data dimension from Original ([1 : HEM]) to New ([2 : HEM+1])</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// with 2 dummy variable for interpolation.</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>j<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:HEM<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Properties for glass without shading</span>
    coeTraWinExtIrr[NoShade, j + 1] =  radDat.traRef[1, 1, N, j];
    <span style="color: #006400; font-weight: normal; font-style: normal;">// Properties for glass with shading</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveInteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      coeTraWinExtIrr[Shade, j + 1] =  radDat.winTraExtIrrIntSha[j];
    <span style="color: blue; font-weight: normal; font-style: normal;">elseif </span>haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      coeTraWinExtIrr[Shade, j + 1] =  radDat.winTraExtIrrExtSha[j];
    <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
      <span style="color: #006400; font-weight: normal; font-style: normal;">// No Shade</span>
      coeTraWinExtIrr[Shade, j + 1] =  0.0;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Dummy variables at 1 and HEM+2</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>NoShade:Shade<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    coeTraWinExtIrr[k, 1] =  coeTraWinExtIrr[k, 2];
    coeTraWinExtIrr[k, HEM + 2] =  coeTraWinExtIrr[k, HEM + 1];
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass: transmissivity for interior irradiation</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  traCoeRoo =  radDat.traRef[1, N, 1, HEM];

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  QTraUns_flow := AWin*HDif*(1 - uSha_internal)*coeTraWinExtIrr[NoShade, HEM +
    1];
  QTraSha_flow := AWin*HDif*uSha_internal*coeTraWinExtIrr[Shade, HEM + 1];

  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Glass, Device: add absorbed radiation (angular part) from exterior sources</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">//**************************************************************</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Use min() instead of if() to avoid event</span>
  incAng2 :=<span style="color: red; font-weight: normal; font-style: normal;"> min</span>(incAng, 0.5*Modelica.Constants.pi);
  x := 2*(NDIR - 1)*<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(incAng2)/Modelica.Constants.pi <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;x=(index-1)*incAng/(0.5pi), 0&lt;=x&lt;=NDIR-1&quot;</span>;
  x := x + 2;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Window unshaded parts: add transmitted radiation for angular radiation</span>
  tmpNoSha :=
    <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>({
    coeTraWinExtIrr[NoShade, k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
  QTraUns_flow := QTraUns_flow + AWin*HDir*(1 - uSha_internal)*tmpNoSha;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Window shaded parts: add transmitted radiation for angular radiation</span>
  tmpSha :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation</span>(
    {coeTraWinExtIrr[Shade, k] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>k<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:(HEM + 2)}, x);
  QTraSha_flow := QTraSha_flow + AWin*HDir*uSha_internal*tmpSha;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Assign quantities to output connectors</span>
  QTra_flow := QTraUns_flow + QTraSha_flow;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TransmittedRadiation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WindowRadiation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi0c894215aeb7cea8ationI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.WindowRadiation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.WindowRadiation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.WindowRadiation</h2>
<p>
<b>Calculation radiation for window</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi0c894215aeb7cea8ationD.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.WindowRadiation">
</p>
<h3>Information</h3>

<p>
The model calculates solar radiation through the window.
The calculations follow the description in Wetter (2004), Appendix A.4.3.
</p>
<p>
The absorbed radiation by exterior shades includes:
</p>
<ol>
<li>
the directly absorbed exterior radiation: <code>AWin*uSha*(HDir+HDif)*(1-tau-rho)</code>
</li>
<li>
the indirectly absorbed exterior radiantion from reflection (angular part): <code>AWin*uSha*HDir*tau*rho(IncAng)*(1-tau-rho)</code>
</li>
<li>
the indirectly absorbed of exterior irradiantion from reflection (diffusive part): <code>AWin*uSha*HDif*tau*rho(HEM)*(1-tau-rho)</code>
</li>
<li>
the absorbed interior radiation is neglected.
</li>
</ol>
<p>
The output is <code>absRad[2, 1]</code>
</p>

<p>
The absorbed radiation by interior shades includes:</p>
<ol>
<li>
the absorbed exterior radiation (angular part): <code>AWin*uSha*HDir*alpha(IncAng)</code>
</li>
<li>
the absorbed exterior radiation (diffusive part): <code>AWin*uSha*HDif*alpha(HEM)</code>
</li>
<li>
the absorbed interior radiation (diffusive part): <code>AWin*uSha*HRoo*(1-tau-rho)</code>
</li>
</ol>
<p>
The output is <code>absRad[2, N+2]</code></p>

<p>
The absorbed radiation by glass includes:</p>
<ol>
<li>
the absorbed radiation by unshaded part (diffusive part): <code>AWin*(1-uSha)*(HDif*alphaEx(HEM)+HRoo*alphaIn(HEM))</code>
</li>
<li>
the absorbed radiation by unshaded part (angualr part from exterior source): <code>AWin*(1-uSha)*HDir*alphaEx(IncAng)</code>
</li>
<li>
the absorbed radiaiton by shaded part (diffusive part): <code>AWin*uSha*(HDif*alphaExSha(HEM)+HRoo*alphaInSha(HEM))</code>
</li>
<li>
the absorbed radiation by shaded part (angular part from exterior source): <code>AWin*uSha*HDir*alphaExSha(IncAng)</code>
</li>
</ol>
<p>
The output is <code>absRad[1, 2:N+1] = Part1 + Part2; absRad[2, 2:N+1] = Part3 + Part4</code></p>

<p>
The transmitted exterior radiation for window system includes:</p>
<ol>
<li>
the transmitted diffusive radiation on unshaded part: <code>AWin*(1-uSha)*HDif*tau(HEM)</code>
</li>
<li>
the transmitted direct radiation on no shade part: <code>AWin*(1-uSha)*HDir*tau(IncAng)</code>
</li>
<li>
the transmitted diffusive radiation on shaded part: <code>AWin*uSha*HDif*tauSha(HEM)</code>
</li>
<li>
the transmitted direct radiation on shaded part: <code>AWin*uSha*HDir*tauSha(IncAng);</code>
</li>
</ol>
<p>The output is <code>QTra_flow = Part1 + Part2 + Part3 + Part4</code></p>

<h4>References</h4>
<ul>
<li>
Michael Wetter.<br/>
<a href="http://simulationresearch.lbl.gov/wetter/download/mwdiss.pdf">
Simulation-based Building Energy Optimization</a>.<br/>
Dissertation. University of California at Berkeley. 2004.
</li>
</ul>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a> (Partial model for variables and data used in radiation calculation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has an exterior shade</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has an interior shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>AWin</td><td>&nbsp;</td><td>Area of window [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Control signal for shading (0: unshaded; 1: fully shaded)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDif</td><td>Diffussive solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Incident angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDir</td><td>Direct solar radiation [W/m2]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HRoo</td><td>Diffussive radiation from room  [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QTra_flow</td><td>Transmitted exterior radiation through the window. (1: no shade; 2: shade) [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsExtSha_flow</td><td>Absorbed interior and exterior radiation by exterior shading device [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsIntSha_flow</td><td>Absorbed interior and exterior radiation by interior shading device [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsGlaUns_flow[N]</td><td>Absorbed interior and exterior radiation by unshaded part of glass [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>QAbsGlaSha_flow[N]</td><td>Absorbed interior and exterior radiation by shaded part of glass [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">block</span> WindowRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Calculation radiation for window&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialRadiation</a>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> HRoo(quantity=&quot;RadiantEnergyFluenceRate&quot;,
      unit=&quot;W/m2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Diffussive radiation from room &quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QTra_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Transmitted exterior radiation through the window. (1: no shade; 2: shade)&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsExtSha_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by exterior shading device&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsIntSha_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;Power&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by interior shading device&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsGlaUns_flow[N](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=
        &quot;Power&quot;, <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by unshaded part of glass&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> QAbsGlaSha_flow[N](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=
        &quot;Power&quot;, <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Absorbed interior and exterior radiation by shaded part of glass&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.TransmittedRadiation</a> tra(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>N=N,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauGlaSol=tauGlaSol,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_a=rhoGlaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_b=rhoGlaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>xGla=xGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_a=tauShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_a=rhoShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_b=rhoShaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveExteriorShade=haveExteriorShade,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveInteriorShade=haveInteriorShade,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>AWin=AWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_b=tauShaSol_b);
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation"
>Buildings.HeatTransfer.Windows.BaseClasses.AbsorbedRadiation</a> abs(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>N=N,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauGlaSol=tauGlaSol,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_a=rhoGlaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoGlaSol_b=rhoGlaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>xGla=xGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_a=tauShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauShaSol_b=tauShaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_a=rhoShaSol_a,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>rhoShaSol_b=rhoShaSol_b,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveExteriorShade=haveExteriorShade,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveInteriorShade=haveInteriorShade,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>AWin=AWin);
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean noShade=<span style="color: blue; font-weight: normal; font-style: normal;">not </span>(haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>haveInteriorShade) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Flag, true if the window has a shade&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>noShade<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(uSha_internal &lt; 1E-6,
      &quot;Window has no shade, but control signal is non-zero.\n&quot; +
      &quot;  Received uSha_internal = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(uSha_internal));
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDif, tra.HDif);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDif, abs.HDif);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDir, tra.HDir);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDir, abs.HDir);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(incAng, tra.incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(incAng, abs.incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HRoo, abs.HRoo);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(tra.uSha, uSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(abs.uSha, uSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(tra.QTra_flow, QTra_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(abs.QAbsIntSha_flow, QAbsIntSha_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(abs.QAbsGlaSha_flow, QAbsGlaSha_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(abs.QAbsGlaUns_flow, QAbsGlaUns_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(abs.QAbsExtSha_flow, QAbsExtSha_flow);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>WindowRadiation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE convectionHorizontalCavity<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.convectionHorizontalCavity"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.convectionHorizontalCavity</h2>
<p>
<b>Free convection in horizontal cavity</b>
</p>
<h3>Information</h3>

<p>
Function for convective heat transfer in horizontal window cavity.
The computation is according to TARCOG 2006,
except that this implementation computes the convection coefficient
as a function that is differentiable in the temperatures.
</p>
<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Generic</a></td><td>gas</td><td>&nbsp;</td><td>Thermophysical properties of gas fill</td></tr>
<tr><td>Real</td><td>Ra</td><td>&nbsp;</td><td>Rayleigh number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_m</td><td>&nbsp;</td><td>Temperature used for thermophysical properties [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT</td><td>&nbsp;</td><td>Temperature difference used to compute q_flow = h*dT [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Window tilt [rad]</td></tr>
<tr><td>Real</td><td>sinTil</td><td>&nbsp;</td><td>Sine of window tilt</td></tr>
<tr><td>Real</td><td>cosTil</td><td>&nbsp;</td><td>Cosine of the window tilt</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>h</td><td>1.5</td><td>Height of window [m2]</td></tr>
<tr><td>Real</td><td>deltaNu</td><td>0.1</td><td>Small value for Nusselt number, used for smoothing</td></tr>
<tr><td>Real</td><td>deltaRa</td><td>1E3</td><td>Small value for Rayleigh number, used for smoothing</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>Nu</td><td>Nusselt number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</a></td><td>hCon</td><td>Convective heat transfer coefficient [W/(m2.K)]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlux"
>HeatFlux</a></td><td>q_flow</td><td>Convective heat flux [W/m2]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> convectionHorizontalCavity <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Free convection in horizontal cavity&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Buildings.HeatTransfer.Data.Gases.Generic</a> gas <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermophysical properties of gas fill&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real Ra(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dT <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature difference used to compute q_flow = h*dT&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real sinTil <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sine of window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real cosTil <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Cosine of the window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> h(min=0) = 1.5 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Height of window&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaNu(min=0.01) = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Nusselt number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaRa(min=0.01) = 1E3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Rayleigh number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real Nu(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</a> hCon(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer coefficient&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlux"
>Modelica.SIunits.HeatFlux</a> q_flow <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convective heat flux&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Real Nu_1(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  Real Nu_2(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real dx=0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Half-width of interval used for smoothing&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span>cosTil &gt; 0<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
  Nu :=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
    pos=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityReduced</span>(
      gas=gas,
      Ra=Ra,
      T_m=T_m,
      dT=dT,
      h=h,
      sinTil=sinTil,
      deltaNu=deltaNu,
      deltaRa=deltaRa),
    neg=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityEnhanced</span>(
      gas=gas,
      Ra=Ra,
      T_m=T_m,
      dT=dT,
      til=til,
      cosTil=<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(cosTil)),
    x=dT+dx,
    deltax=dx);
  <span style="color: blue; font-weight: normal; font-style: normal;">else</span>
    Nu :=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
    pos=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityEnhanced</span>(
      gas=gas,
      Ra=Ra,
      T_m=T_m,
      dT=dT,
      til=til,
      cosTil=<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(cosTil)),
    neg=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityReduced</span>(
      gas=gas,
      Ra=Ra,
      T_m=T_m,
      dT=dT,
      h=h,
      sinTil=sinTil,
      deltaNu=deltaNu,
      deltaRa=deltaRa),
    x=dT-dx,
    deltax=dx);
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  hCon :=Nu*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.thermalConductivity</span>(gas, T_m)/gas.x;
  q_flow :=hCon*dT;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>convectionHorizontalCavity;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE convectionVerticalCavity<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.convectionVerticalCavity</h2>
<p>
<b>Free convection in vertical cavity</b>
</p>
<h3>Information</h3>

<p>
Function for convective heat transfer in vertical window cavity.
The computation is according to TARCOG 2006,
except that this implementation computes the convection coefficient
as a function that is differentiable in the temperatures.
</p>
<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Generic</a></td><td>gas</td><td>&nbsp;</td><td>Thermophysical properties of gas fill</td></tr>
<tr><td>Real</td><td>Ra</td><td>&nbsp;</td><td>Rayleigh number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_m</td><td>&nbsp;</td><td>Temperature used for thermophysical properties [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT</td><td>&nbsp;</td><td>Temperature difference used to compute q_flow = h*dT [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>h</td><td>1.5</td><td>Height of window [m2]</td></tr>
<tr><td>Real</td><td>deltaNu</td><td>0.1</td><td>Small value for Nusselt number, used for smoothing</td></tr>
<tr><td>Real</td><td>deltaRa</td><td>1E3</td><td>Small value for Rayleigh number, used for smoothing</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>Nu</td><td>Nusselt number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</a></td><td>hCon</td><td>Convective heat transfer coefficient [W/(m2.K)]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlux"
>HeatFlux</a></td><td>q_flow</td><td>Convective heat flux [W/m2]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> convectionVerticalCavity <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Free convection in vertical cavity&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Buildings.HeatTransfer.Data.Gases.Generic</a> gas <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermophysical properties of gas fill&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real Ra(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dT <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature difference used to compute q_flow = h*dT&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> h(min=0) = 1.5 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Height of window&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaNu(min=0.01) = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Nusselt number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaRa(min=0.01) = 1E3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Rayleigh number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real Nu(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</a> hCon(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer coefficient&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlux"
>Modelica.SIunits.HeatFlux</a> q_flow <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convective heat flux&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Real Nu_1(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
  Real Nu_2(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>

  Nu_1 :=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
    pos=0.0673838*Ra^(1/3),
    neg=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
      pos=0.028154*Ra^(0.4134),
      neg=1 + 1.7596678E-10*Ra^(2.2984755),
      x=Ra - 1E4,
      deltax=deltaRa),
    x=Ra - 5E4,
    deltax=deltaRa);
  <span style="color: #006400; font-weight: normal; font-style: normal;">/*
  if ( Ra &lt;= 1E4) then
    Nu_1 = 1 + 1.7596678E-10*Ra^(2.2984755);
  elseif ( Ra &lt;= 5E4) then
    Nu_1 = 0.028154*Ra^(0.4134);
  else
    Nu_1 = 0.0673838*Ra^(1/3);
  end if;
  */</span>
  Nu_2 :=0.242*(Ra/(h/gas.x))^(0.272);
  Nu :=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothMax</span>(
    x1=Nu_1,
    x2=Nu_2,
    deltaX=deltaNu);
  hCon :=Nu*<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Data.Gases.thermalConductivity</span>(gas=gas, T=T_m)/gas.x;
  q_flow :=hCon*dT;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>convectionVerticalCavity;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE nusseltHorizontalCavityEnhanced<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityEnhanced"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.nusseltHorizontalCavityEnhanced</h2>
<p>
<b>Nusselt number for horizontal cavity, bottom surface warmer than top surface</b>
</p>
<h3>Information</h3>

<p>
Function for Nusselt number in horizontal window cavity.
The computation is according to TARCOG 2006,
except that this implementation computes the Nusselt number
as a function that is differentiable in the temperatures.
</p>
<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Generic</a></td><td>gas</td><td>&nbsp;</td><td>Thermophysical properties of gas fill</td></tr>
<tr><td>Real</td><td>Ra</td><td>&nbsp;</td><td>Rayleigh number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_m</td><td>&nbsp;</td><td>Temperature used for thermophysical properties [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT</td><td>&nbsp;</td><td>Temperature difference used to compute q_flow = h*dT [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Window tilt [rad]</td></tr>
<tr><td>Real</td><td>cosTil</td><td>&nbsp;</td><td>Cosine of the window tilt</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>Nu</td><td>Nusselt number</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> nusseltHorizontalCavityEnhanced <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Nusselt number for horizontal cavity, bottom surface warmer than top surface&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Buildings.HeatTransfer.Data.Gases.Generic</a> gas <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermophysical properties of gas fill&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real Ra(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dT <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature difference used to compute q_flow = h*dT&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real cosTil(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Cosine of the window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real Nu(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Real k1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Auxiliary variable&quot;</span>;
  Real k2 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Auxiliary variable&quot;</span>;
  Real k11 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Auxiliary variable&quot;</span>;
  Real k22 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Auxiliary variable&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Windows inclined from 0 to 60 deg (eqn. 3.1-42 to 3.1-43)</span>
  k1 :=1 - 1708/Ra/cosTil;
  k2 :=(Ra*cosTil/5830)^(1/3) - 1;
  k11 :=(k1 +<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
    x1=k1,
    x2=-k1,
    deltaX=1E-1))/2;
  k22 :=(k2 +<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.smoothMax</span>(
    x1=k2,
    x2=-k2,
    deltaX=1E-1))/2;
  Nu :=1 + 1.44*k11*(1 - 1708*<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.sin</span>(1.8*til*180/Modelica.Constants.pi))
    ^(1.6)/Ra/cosTil) + k22;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>nusseltHorizontalCavityEnhanced;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE nusseltHorizontalCavityReduced<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.nusseltHorizontalCavityReduced"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.nusseltHorizontalCavityReduced</h2>
<p>
<b>Nusselt number for horizontal cavity, bottom surface colder than top surface</b>
</p>
<h3>Information</h3>

<p>
Function for Nusselt number in horizontal window cavity.
The computation is according to TARCOG 2006,
except that this implementation computes the Nusselt number
as a function that is differentiable in the temperatures.
</p>
<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with our without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Generic</a></td><td>gas</td><td>&nbsp;</td><td>Thermophysical properties of gas fill</td></tr>
<tr><td>Real</td><td>Ra</td><td>&nbsp;</td><td>Rayleigh number</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_m</td><td>&nbsp;</td><td>Temperature used for thermophysical properties [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dT</td><td>&nbsp;</td><td>Temperature difference used to compute q_flow = h*dT [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>h</td><td>1.5</td><td>Height of window [m2]</td></tr>
<tr><td>Real</td><td>sinTil</td><td>&nbsp;</td><td>Sine of window tilt</td></tr>
<tr><td>Real</td><td>deltaNu</td><td>0.1</td><td>Small value for Nusselt number, used for smoothing</td></tr>
<tr><td>Real</td><td>deltaRa</td><td>1E3</td><td>Small value for Rayleigh number, used for smoothing</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>Nu</td><td>Nusselt number</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> nusseltHorizontalCavityReduced <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Nusselt number for horizontal cavity, bottom surface colder than top surface&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="Buildings_HeatTransfer_Data_Gases.html#Buildings.HeatTransfer.Data.Gases.Generic"
>Buildings.HeatTransfer.Data.Gases.Generic</a> gas <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermophysical properties of gas fill&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real Ra(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Rayleigh number&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature used for thermophysical properties&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dT <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature difference used to compute q_flow = h*dT&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> h(min=0) = 1.5 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Height of window&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real sinTil <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sine of window tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaNu(min=0.01) = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Nusselt number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real deltaRa(min=0.01) = 1E3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small value for Rayleigh number, used for smoothing&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real Nu(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Real NuVer(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Nusselt number for vertical window&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  NuVer :=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.BaseClasses.convectionVerticalCavity</span>(
    gas=gas,
    Ra=Ra,
    T_m=T_m,
    dT=dT,
    h=h,
    deltaNu=deltaNu,
    deltaRa=deltaRa);
  Nu :=1 + (NuVer - 1)*sinTil;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>nusseltHorizontalCavityReduced;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE smoothInterpolation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.smoothInterpolation"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.smoothInterpolation</h2>
<p>
<b>Get interpolated data without triggering events</b>
</p>
<h3>Information</h3>

<p>
Function to interpolate within a data array without triggerring events.
</p>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>y[:]</td><td>&nbsp;</td><td>Data array</td></tr>
<tr><td>Real</td><td>x</td><td>&nbsp;</td><td>x value</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>val</td><td>Interpolated value</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> smoothInterpolation <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Get interpolated data without triggering events&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real y[:] <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Data array&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real x <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;x value&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real val <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Interpolated value&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  Integer k1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Integer value of x&quot;</span>;
  Integer k2 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;=k1+1&quot;</span>;
  Real y1d <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Slope&quot;</span>;
  Real y2d <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Slope&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  k1 :=<span style="color: red; font-weight: normal; font-style: normal;"> integer</span>(x);
  k2 := k1 + 1;

  y1d := (y[k2] - y[k1 - 1])/2;
  y2d := (y[k2 + 1] - y[k1])/2;
  val :=<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Fluid.Utilities.cubicHermite</span>(
    x,
    k1,
    k2,
    y[k1],
    y[k2],
    y1d,
    y2d);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>smoothInterpolation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RadiationBaseData<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.RadiationBaseData</h2>
<p>
<b>Basic parameters for window radiation calculation</b>
</p>
<h3>Information</h3>

Record that defines basic parameters for the window radiation calculation.

<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">record</span> RadiationBaseData <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Basic parameters for window radiation calculation&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer N(min=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of glass layers&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> xGla[N] <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Thickness of glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauGlaSol[N] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar transmissivity of glass&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoGlaSol_a[N] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar reflectivity of glass at surface a (facing outside)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoGlaSol_b[N] <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar reflectivity of glass at surface b (facing room-side)&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauShaSol_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar transmissivity of shade for irradiation from air-side&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauShaSol_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar transmissivity of shade for irradiation from glass-side&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoShaSol_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar reflectivity of shade for irradiation from air-side&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>Modelica.SIunits.ReflectionCoefficient</a> rhoShaSol_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar reflectivity of shade for irradiation from glass-side&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RadiationBaseData;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RadiationData<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi5f9a5ce7433483eenDataI.png" alt="Buildings.HeatTransfer.Windows.BaseClasses.RadiationData" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.BaseClasses.RadiationData"></a><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>Buildings.HeatTransfer.Windows.BaseClasses</a>.RadiationData</h2>
<p>
<b>Radiation data of a window</b>
</p>
<h3>Information</h3>

Record that computes the solar radiation data for a glazing system.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</a> (Icon for records), <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"
>Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData</a> (Basic parameters for window radiation calculation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Glass</td></tr>
<tr><td>Integer</td><td>N</td><td>&nbsp;</td><td>Number of glass layers</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>xGla[N]</td><td>&nbsp;</td><td>Thickness of glass [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauGlaSol[N]</td><td>&nbsp;</td><td>Solar transmissivity of glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_a[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface a (facing outside) [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoGlaSol_b[N]</td><td>&nbsp;</td><td>Solar reflectivity of glass at surface b (facing room-side) [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_a</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauShaSol_b</td><td>&nbsp;</td><td>Solar transmissivity of shade for irradiation from glass-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_a</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from air-side [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ReflectionCoefficient"
>ReflectionCoefficient</a></td><td>rhoShaSol_b</td><td>&nbsp;</td><td>Solar reflectivity of shade for irradiation from glass-side [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">record</span> RadiationData <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Radiation data of a window&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Record"
>Modelica.Icons.Record</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData"
>Buildings.HeatTransfer.Windows.BaseClasses.RadiationBaseData</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real glass[3, N]={tauGlaSol,rhoGlaSol_a,rhoGlaSol_b} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Glass solar transmissivity, solar reflectivity at surface a and b, at normal incident angle&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real traRefShaDev[2, 2]={{tauShaSol_a,tauShaSol_b},{
      rhoShaSol_a,rhoShaSol_b}} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shading device property&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer NDIR=10 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of incident angles&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer HEM=NDIR + 1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Index of hemispherical integration&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> psi[NDIR]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.getAngle</span>(NDIR) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incident angles used for solar radiation calculation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real layer[3, N, HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassProperty</span>(
      N=N,
      HEM=HEM,
      glass=glass,
      xGla=xGla,
      psi=psi) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical transmissivity, front (outside-facing) and back (room facing) reflectivity
      of each glass pane&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real traRef[3, N, N, HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.getGlassTR</span>(
      N=N,
      HEM=HEM,
      layer=layer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical transmissivity, front (outside-facing) and back (room facing) reflectivity
      between glass panes for exterior or interior irradiation without shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absExtIrrNoSha[N, HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsExteriorIrradiationNoShading</span>(
      traRef=traRef,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical absorptivity of each glass pane
      for exterior irradiation without shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absIntIrrNoSha[N]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsInteriorIrradiationNoShading</span>(
      traRef=traRef,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Hemispherical absorptivity of each glass pane
      for interior irradiation without shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real winTraExtIrrExtSha[HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.winTExteriorIrradiatrionExteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical transmissivity of a window system (glass + exterior shading device)
     for exterior irradiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absExtIrrExtSha[N, HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsExteriorIrradiationExteriorShading</span>(
      absExtIrrNoSha=absExtIrrNoSha,
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical absorptivity of each glass pane
      for exterior irradiation with exterior shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real winTraExtIrrIntSha[HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.winTExteriorIrradiationInteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical transmissivity of a window system (glass and interior shading device)
      for exterior irradiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absExtIrrIntSha[N, HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsExteriorIrradiationInteriorShading</span>(
      absExtIrrNoSha=absExtIrrNoSha,
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical absorptivity of each glass layer
     for exterior irradiation with interior shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real devAbsExtIrrIntShaDev[HEM]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.devAbsExteriorIrradiationInteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Angular and hemispherical absorptivity of an interior shading device
      for exterior irradiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real winTraRefIntIrrExtSha[3]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.winTRInteriorIrradiationExteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Hemisperical transmissivity and reflectivity of a window system (glass and exterior shadig device)
      for interior irradiation. traRefIntIrrExtSha[1]: transmissivity,
      traRefIntIrrExtSha[2]: Back reflectivity; traRefIntIrrExtSha[3]: dummy value&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absIntIrrExtSha[N]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsInteriorIrradiationExteriorShading</span>(
      absIntIrrNoSha=absIntIrrNoSha,
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Hemispherical absorptivity of each glass pane
      for interior irradiation with exterior shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real absIntIrrIntSha[N]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.glassAbsInteriorIrradiationInteriorShading</span>(
      absIntIrrNoSha=absIntIrrNoSha,
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Hemispherical absorptivity of each glass pane
      for interior irradiation with interior shading&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real winTraRefIntIrrIntSha[3]=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.winTRInteriorIrradiationInteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Hemisperical transmissivity and back reflectivity of a window system (glass and interior shadig device)
      for interior irradiation&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real devAbsIntIrrIntSha=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.HeatTransfer.Windows.Functions.devAbsInteriorIrradiationInteriorShading</span>(
      traRef=traRef,
      traRefShaDev=traRefShaDev,
      N=N,
      HEM=HEM) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Hemiperical absorptivity of an interior shading device for interior irradiation&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RadiationData;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:26:44 2015.
</address>
</body>
</html>
