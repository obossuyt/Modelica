<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Test of components&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls</a>.Examples</h2>
<p>
<b>Test of components</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples for the use of models that can be found in
<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls"
>
Buildings.Examples.ChillerPlant.BaseClasses.Controls</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.BatteryControl" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.BatteryControl"
>BatteryControl</a>
</td>
<td>Test model for battery control</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSetPointControl" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSetPointControl"
>ChillerSetPointControl</a>
</td>
<td>Test model for chiller setpoint control using TrimAndResponse and LinearPieceWiseTwo</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSwitch" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSwitch"
>ChillerSwitch</a>
</td>
<td>Test model for ChillerSwitch</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.KMinusU" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.KMinusU"
>KMinusU</a>
</td>
<td>Test model for KMinusU</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.LinearPiecewiseTwo" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.LinearPiecewiseTwo"
>LinearPiecewiseTwo</a>
</td>
<td>Test model for LinearPiecewiseTwo</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.RequestCounter" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.RequestCounter"
>RequestCounter</a>
</td>
<td>Test model for RequestCounter</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.TrimAndRespond" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.TrimAndRespond"
>TrimAndRespond</a>
</td>
<td>Test model for TrimAndRespond</td>
</tr>
<tr>
<td><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolS.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.WSEControl" width="20" height="20" align="top">&nbsp;<a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.WSEControl"
>WSEControl</a>
</td>
<td>Test model for WSEControl</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BatteryControl<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.BatteryControl" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.BatteryControl"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.BatteryControl</h2>
<p>
<b>Test model for battery control</b>
<br>
<br><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.BatteryControl">
</p>
<h3>Information</h3>

<p>
This model simulates a battery block controller.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> BatteryControl <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for battery control&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.BatteryControl"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.BatteryControl</a>
    con <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Battery control&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> SOC(
    freqHz=1/86400,
    offset=0.5,
    amplitude=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;State of charge&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(SOC.y, con.SOC);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>BatteryControl;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ChillerSetPointControl<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSetPointControl" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSetPointControl"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.ChillerSetPointControl</h2>
<p>
<b>Test model for chiller setpoint control using TrimAndResponse and LinearPieceWiseTwo</b>
<br>
<br><img src="Buildings.Examples.Chille7ac0126651cde116ntrolD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSetPointControl">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mAir_flow_nominal</td><td>61.6*2</td><td>Nominal mass flow rate at fan [kg/s]</td></tr>
<tr><td>Real</td><td>COPc_nominal</td><td>3</td><td>Chiller COP</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mCHW_flow_nominal</td><td>15.2</td><td>Nominal mass flow rate at chilled water [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mCW_flow_nominal</td><td>mCHW_flow_nominal/COPc_nomin...</td><td>Nominal mass flow rate at condenser water [kg/s]</td></tr>
<tr><td>Real</td><td>QRoo</td><td>100</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ChillerSetPointControl <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for chiller setpoint control using TrimAndResponse and LinearPieceWiseTwo&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium1 = <a href="Buildings_Media_Water.html#Buildings.Media.Water"
>Buildings.Media.Water</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium2 = <a href="Buildings_Media_Water.html#Buildings.Media.Water"
>Buildings.Media.Water</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> MediumAir = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mAir_flow_nominal=61.6*2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal mass flow rate at fan&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real COPc_nominal=3 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Chiller COP&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mCHW_flow_nominal=15.2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal mass flow rate at chilled water&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mCW_flow_nominal=mCHW_flow_nominal/
      COPc_nominal*(COPc_nominal + 1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal mass flow rate at condenser water&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real QRoo=100;
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond</a> triAndRes(
    yEqu0=0.1,
    uTri=0.8,
    yDec=-0.03,
    yInc=0.03,
    samplePeriod=120);
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo</a>
    linPieTwo(
    x0=0,
    x2=1,
    y20=273.15 + 12.78,
    y21=273.15 + 7.22,
    x1=0.5,
    y10=0.1,
    y11=1);
  <a href="Buildings_Fluid_Chillers.html#Buildings.Fluid.Chillers.ElectricEIR"
>Buildings.Fluid.Chillers.ElectricEIR</a> chi(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium1 = Medium1,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium2 = Medium2,
    m1_flow_nominal=mCW_flow_nominal,
    m2_flow_nominal=mCHW_flow_nominal,
    dp1_nominal=6000,
    dp2_nominal=3000,
    per=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Fluid.Chillers.Data.ElectricEIR.ElectricEIRChiller_York_YK_1881kW_6_53COP_Vanes</span>(),
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Chiller&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.ConstantEffectiveness"
>Buildings.Fluid.HeatExchangers.ConstantEffectiveness</a> coi(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium1 = Medium2,
    m1_flow_nominal=mCHW_flow_nominal,
    dp1_nominal=3000,
    dp2_nominal=3000,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium2 = MediumAir,
    m2_flow_nominal=mAir_flow_nominal,
    eps=1.0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Cooling coil&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.FixedBoundary"
>Buildings.Fluid.Sources.FixedBoundary</a> sin1(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium1,
      nPorts=1);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium1,
    nPorts=1,
    use_T_in=false,
    m_flow=mCW_flow_nominal,
    T=283.15);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=273.15 + 20);
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> limPID(
    reverseAction=true,
    y_start=1,
    yMin=0,
    k=10,
    Ti=0.01,
    Td=10,
    initType=Modelica.Blocks.Types.InitPID.SteadyState);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> TRet(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        MediumAir, m_flow_nominal=999);
  <a href="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowControlled_m_flow"
>Buildings.Fluid.Movers.FlowControlled_m_flow</a> pum(
    m_flow_nominal=1.2*mCHW_flow_nominal,
    dp(start=40474),
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium2,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    init=Modelica.Blocks.Types.Init.InitialState) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Chilled water pump&quot;</span>;
  <a href="Buildings_Fluid_Storage.html#Buildings.Fluid.Storage.ExpansionVessel"
>Buildings.Fluid.Storage.ExpansionVessel</a> expVesChi(
    V_start=1,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>Modelica.Blocks.Sources.BooleanConstant</a> booleanConstant1(k=true);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain(k=mCHW_flow_nominal);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou2(
    use_T_in=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = MediumAir,
    m_flow=mAir_flow_nominal,
    T=291.15,
    nPorts=1);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.FixedBoundary"
>Buildings.Fluid.Sources.FixedBoundary</a> sin2(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        MediumAir, nPorts=1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> sine(
    amplitude=5,
    offset=273.15 + 25,
    freqHz=1/20000);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.FirstOrder"
>Modelica.Blocks.Continuous.FirstOrder</a> firstOrder1(y_start=273.15 + 10, T=chi.tau1
        /2,
    initType=Modelica.Blocks.Types.Init.InitialState);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> TSup(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        MediumAir, m_flow_nominal=999);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou1.ports[1], chi.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(coi.port_a1, chi.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRet.T, limPID.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(chi.port_a2, pum.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pum.port_a, coi.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(chi.port_a2, expVesChi.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(booleanConstant1.y, chi.on);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.y, pum.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou2.T_in, sine.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(chi.port_b1, sin1.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(const.y, limPID.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRet.port_b, coi.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TRet.port_a, sin2.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(linPieTwo.y[2], firstOrder1.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(firstOrder1.y, chi.TSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(coi.port_a2, TSup.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSup.port_b, sou2.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(limPID.y, triAndRes.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(triAndRes.y, linPieTwo.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.u, linPieTwo.y[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ChillerSetPointControl;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ChillerSwitch<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSwitch" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSwitch"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.ChillerSwitch</h2>
<p>
<b>Test model for ChillerSwitch</b>
<br>
<br><img src="Buildings.Examples.Chille84bb614d47fc5933witchD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.ChillerSwitch">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ChillerSwitch <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for ChillerSwitch&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> TSet(
    freqHz=0.0002,
    offset=12,
    amplitude=8);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> CHWST(
    freqHz=0.0001,
    amplitude=5,
    offset=15);
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.ChillerSwitch</a> chiSwi(
      deaBan(displayUnit=&quot;K&quot;) = 3);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSet.y, chiSwi.TSet);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(CHWST.y, chiSwi.chiCHWST);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ChillerSwitch;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE KMinusU<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.KMinusU" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.KMinusU"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.KMinusU</h2>
<p>
<b>Test model for KMinusU</b>
<br>
<br><img src="Buildings.Examples.Chille7309a9e8cce5720ainusUD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.KMinusU">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> KMinusU <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for KMinusU&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> pulse(
    freqHz=0.001,
    amplitude=0.5,
    offset=0.5,
    phase=-1.5707963267949);
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.KMinusU</a> kMinU(k=1);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pulse.y, kMinU.u);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>KMinusU;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LinearPiecewiseTwo<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.LinearPiecewiseTwo" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.LinearPiecewiseTwo"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.LinearPiecewiseTwo</h2>
<p>
<b>Test model for LinearPiecewiseTwo</b>
<br>
<br><img src="Buildings.Examples.Chille46c6c22f039c56ebseTwoD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.LinearPiecewiseTwo">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> LinearPiecewiseTwo <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for LinearPiecewiseTwo&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> pulse(
    freqHz=0.001,
    amplitude=0.5,
    offset=0.5,
    phase=-1.5707963267949);
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.LinearPiecewiseTwo</a>
    linPieTwo(
    x0=0,
    x1=0.5,
    x2=1,
    y10=5,
    y11=15,
    y20=55,
    y21=42);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pulse.y, linPieTwo.u);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>LinearPiecewiseTwo;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RequestCounter<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.RequestCounter" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.RequestCounter"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.RequestCounter</h2>
<p>
<b>Test model for RequestCounter</b>
<br>
<br><img src="Buildings.Examples.Chille19bbeaed62234dacunterD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.RequestCounter">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> RequestCounter <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for RequestCounter&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.RequestCounter</a> reqCou(
      nAct=3, uTri=0.8);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> act3(k=0.95);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> act1(period=10);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> act2(freqHz=0.3, offset=1);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act1.y, reqCou.uAct[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act2.y, reqCou.uAct[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act3.y, reqCou.uAct[3]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RequestCounter;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TrimAndRespond<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.TrimAndRespond" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.TrimAndRespond"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.TrimAndRespond</h2>
<p>
<b>Test model for TrimAndRespond</b>
<br>
<br><img src="Buildings.Examples.Chille4018e01c4a28bd53spondD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.TrimAndRespond">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TrimAndRespond <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for TrimAndRespond&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> act3(freqHz=0.002, offset=0.2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> act1(period=500);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> act2(freqHz=0.001, offset=0.3);
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.TrimAndRespond</a> triAndRes[3](
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>uTri=0.9,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>yEqu0=0.1,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>yDec=-0.01,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>yInc=0.02,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>samplePeriod=20);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act1.y, triAndRes[1].u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act2.y, triAndRes[2].u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(act3.y, triAndRes[3].u);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TrimAndRespond;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WSEControl<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Examples.Chille0bc0c7c8211a55bantrolI.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.WSEControl" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.WSEControl"></a><a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls_Examples.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples</a>.WSEControl</h2>
<p>
<b>Test model for WSEControl</b>
<br>
<br><img src="Buildings.Examples.Chille4753cf9cccc7b195ntrolD.png" alt="Buildings.Examples.ChillerPlant.BaseClasses.Controls.Examples.WSEControl">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> WSEControl <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for WSEControl&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> wseCHWST(
    period=300,
    amplitude=15,
    offset=273.15 + 5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;WSE chilled water supply temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> wseCWST(k=273.15 + 10) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;WSE condenser water supply temperature&quot;</span>;
  <a href="Buildings_Examples_ChillerPlant_BaseClasses_Controls.html#Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl"
>Buildings.Examples.ChillerPlant.BaseClasses.Controls.WSEControl</a> wseCon <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Controller for the water-side economizer&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TWetBub(k=273.15 + 5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Wet bulb temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TTowApp(k=5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Cooling tower approach&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TWetBub.y, wseCon.TWetBul);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TTowApp.y, wseCon.towTApp);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(wseCHWST.y, wseCon.wseCHWST);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(wseCWST.y, wseCon.wseCWST);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>WSEControl;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:31:47 2015.
</address>
</body>
</html>
