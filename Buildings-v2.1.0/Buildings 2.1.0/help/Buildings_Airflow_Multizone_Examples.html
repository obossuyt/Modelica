<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Airflow.Multizone.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Airflow.Multizone.Examples"></a><a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone"
>Buildings.Airflow.Multizone</a>.Examples</h2>
<p>
<b>Collection of models that illustrate model use and test models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples for the use of models that can be found in
<a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone"
>
Buildings.Airflow.Multizone</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.CO2TransportStep" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.CO2TransportStep"
>CO2TransportStep</a>
</td>
<td>Model that transport CO2 through buoyancy driven flow</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume"
>ChimneyShaftNoVolume</a>
</td>
<td>Model that demonstrates the chimney effect with a steady-state model of a shaft</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftWithVolume" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ChimneyShaftWithVolume"
>ChimneyShaftWithVolume</a>
</td>
<td>Model that demonstrates the chimney effect with a dynamic model of a shaft</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ClosedDoors" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ClosedDoors"
>ClosedDoors</a>
</td>
<td>Model with three closed doors</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.NaturalVentilation" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.NaturalVentilation"
>NaturalVentilation</a>
</td>
<td>Test model for flow reversal due to density difference</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.OneEffectiveAirLeakageArea" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.OneEffectiveAirLeakageArea"
>OneEffectiveAirLeakageArea</a>
</td>
<td>Model with an effective air leakage area</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.OneOpenDoor" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.OneOpenDoor"
>OneOpenDoor</a>
</td>
<td>Model with one open and one closed door</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.OneRoom" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.OneRoom"
>OneRoom</a>
</td>
<td>Model with one room for the validation of the multizone air exchange models</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.Orifice" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.Orifice"
>Orifice</a>
</td>
<td>Model with an orifice</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ReverseBuoyancy"
>ReverseBuoyancy</a>
</td>
<td>Model with four rooms and buoyancy-driven air circulation that reverses direction</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy3Zones" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ReverseBuoyancy3Zones"
>ReverseBuoyancy3Zones</a>
</td>
<td>Model with three rooms and buoyancy-driven air circulation that reverses direction</td>
</tr>
<tr>
<td><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepS.png" alt="Buildings.Airflow.Multizone.Examples.ZonalFlow" width="20" height="20" align="top">&nbsp;<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ZonalFlow"
>ZonalFlow</a>
</td>
<td>Model with prescribed air exchange between two volumes</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CO2TransportStep<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.CO2TransportStep" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.CO2TransportStep"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.CO2TransportStep</h2>
<p>
<b>Model that transport CO2 through buoyancy driven flow</b>
<br>
<br><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepD.png" alt="Buildings.Airflow.Multizone.Examples.CO2TransportStep">
</p>
<h3>Information</h3>

<p>
This model is based on
<a href="Buildings_Airflow_Multizone_Validation.html#Buildings.Airflow.Multizone.Validation.ThreeRoomsContam"
>
Buildings.Airflow.Multizone.Validation.ThreeRoomsContam</a>.
In addition, a CO<sub>2</sub> source has been added to the left room
in the bottom floor.
At initial time, all volumes have zero CO<sub>2</sub> concentration.
At <i>t=3600</i> seconds, CO<sub>2</sub> is added to <code>volWes</code>.
As time progresses, the CO<sub>2</sub> is transported to
the other rooms, and eventually its concentration decays.
</p>

<p>Extends from <a href="Buildings_Airflow_Multizone_Validation.html#Buildings.Airflow.Multizone.Validation.ThreeRoomsContam"
>Buildings.Airflow.Multizone.Validation.ThreeRoomsContam</a> (Model with three rooms for the validation of the multizone air exchange models).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> CO2TransportStep <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model that transport CO2 through buoyancy driven flow&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Airflow_Multizone_Validation.html#Buildings.Airflow.Multizone.Validation.ThreeRoomsContam"
>Buildings.Airflow.Multizone.Validation.ThreeRoomsContam</a>(
    volWes(nPorts=5),
    volTop(nPorts=3),
    volEas(nPorts=6));

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Fluid.Sensors.TraceSubstances</a> CO2SenTop(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;CO2 sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Fluid.Sensors.TraceSubstances</a> CO2SenWes(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;CO2 sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Fluid.Sensors.TraceSubstances</a> CO2SenEas(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;CO2 sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> pulse(
    amplitude=8.18E-6,
    width=1/24/10,
    period=86400,
    startTime=3600);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Fluid.Sources.TraceSubstancesFlowSource</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;CO2 source&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.m_flow_in, pulse.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], volWes.ports[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(CO2SenWes.port, volWes.ports[5]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(CO2SenTop.port, volTop.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(CO2SenEas.port, volEas.ports[6]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>CO2TransportStep;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ChimneyShaftNoVolume<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ChimneyShaftNoVolume</h2>
<p>
<b>Model that demonstrates the chimney effect with a steady-state model of a shaft</b>
<br>
<br><img src="Buildings.Airflow.Multizo4553ac8313060cf8olumeD.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume">
</p>
<h3>Information</h3>

<p>
This model demonstrate buoyancy-induced air flow
through a vertical shaft.
On the right, there are two flow paths that are connected
to a volume, which is kept at 20&deg;C through a feedback
controller, and to the ambient, which is at
0&deg;C.
The flow path on the very right consists of an orifice
and two models that compute the pressure difference
<i>&Delta;p</i>
between
the bottom and top of the medium column using <i>&Delta;p=h &rho; g</i>,
where
<i>h</i> is the height of the medium column,
<i>&rho;</i> is the density of the medium column and
<i>g</i> is the gravity constant.
</p>
<p>
The top model is parameterized to use the
density from the ambient,
whereas the bottom model is parameterized to use
the density from the room volume, regardless of
the flow direction.
In the other flow path, the model <code>sha</code>
is parameterized to use the density of the inflowing
medium.
Thus, these models can be thought of as a chimney to the left,
and a roof with a leakage on the right. The chimney height starts
<i>1.5</i> m below the roof, and ends <i>1.5</i> m above the roof.
</p>
<p>
The flow boundary condition of the model
<code>boundary</code> is such that at the start
of the simulation, air flows from <code>boundary</code>
to <code>roo</code> until <i>t=600</i> seconds. Then, the flow rate
is set to zero until <i>t=1800</i> seconds.
Since the shaft <code>sha</code> is filled with
20&deg;C air, there is a circulation in the clock-wise
direction; up the shaft, and down the other flow path.
Next, until <i>t=2400</i> seconds, air is extracted from
the volume <code>roo</code>, and then the flow rate
of <code>bondary</code> is set to zero. Since the
shaft <code>sha</code> is now filed with air at 0&deg;C,
there is a counter clock-wise flow; down the shaft, and
up the other flow path.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ChimneyShaftNoVolume <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model that demonstrates the chimney effect with a steady-state model of a shaft&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Air_SimpleAir.html#Modelica.Media.Air.SimpleAir"
>Modelica.Media.Air.SimpleAir</a>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Fluid.MixingVolumes.MixingVolume</a> roo(
    V=2.5*5*5,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 20,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=0.05,
    p_start=101325,
    nPorts=3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Air volume of a room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriChiTop(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> boundary(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    T=293.15,
    nPorts=1);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> bou0(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=273.15,
    nPorts=2);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriBot(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.CombiTimeTable"
>Modelica.Blocks.Sources.CombiTimeTable</a> mRoo_flow(tableOnFile=false, table=[0,
        0.05; 600,0.05; 601,0; 1800,0; 1801,-0.05; 2400,-0.05; 2401,0; 3600,0]) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow into and out of room to fill the medium column with air of different temperature&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>MediumColumn</a> staOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop,
    h=1.5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for stack effect outside the room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriChiBot(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHea <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Prescribed heat flow&quot;</span>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> con(
    Td=10,
    yMax=1,
    yMin=-1,
    Ti=60,
    controllerType=Modelica.Blocks.Types.SimpleController.P,
    k=5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller to maintain volume temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TSet(k=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature set point&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</a> temSen <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain(k=3000);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> sha(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        Medium, densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.actual) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaft of chimney&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>MediumColumn</a> staIn(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom,
    h=1.5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for stack effect inside the room&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSet.y, con.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSen.T, con.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.u, con.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.y, preHea.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sha.port_a, oriChiTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sha.port_b, oriChiBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(staOut.port_b, oriBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preHea.port, roo.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.heatPort, temSen.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou0.ports[1], oriChiTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou0.ports[2], staOut.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriBot.port_b, staIn.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mRoo_flow.y[1], boundary.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(boundary.ports[1], roo.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.ports[2], staIn.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.ports[3], oriChiBot.port_a);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ChimneyShaftNoVolume;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ChimneyShaftWithVolume<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftWithVolume" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ChimneyShaftWithVolume"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ChimneyShaftWithVolume</h2>
<p>
<b>Model that demonstrates the chimney effect with a dynamic model of a shaft</b>
<br>
<br><img src="Buildings.Airflow.Multizo3876fc04ad900b98olumeD.png" alt="Buildings.Airflow.Multizone.Examples.ChimneyShaftWithVolume">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume"
>
Buildings.Airflow.Multizone.Examples.ChimneyShaftNoVolume</a>,
except that the chimney model is not steady-state, but rather dynamic
as it contains an air volume. The air volume is approximated
as being well-mixed. (Stratified volumes could be approximated by
using multiple instances of the model <code>sha</code> that are
connected in series.)
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ChimneyShaftWithVolume <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model that demonstrates the chimney effect with a dynamic model of a shaft&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Fluid.MixingVolumes.MixingVolume</a> roo(
    V=2.5*5*5,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 20,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=0.05,
    p_start=101325,
    nPorts=3) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Air volume of a room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriChiTop(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> boundary(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    T=293.15,
    nPorts=1);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> bou0(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=273.15,
    nPorts=2);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriBot(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.CombiTimeTable"
>Modelica.Blocks.Sources.CombiTimeTable</a> mRoo_flow(tableOnFile=false, table=[0,
        0.05; 600,0.05; 601,0; 1800,0; 1801,-0.05; 2400,-0.05; 2401,0; 3600,0]) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow into and out of room to fill the medium column with air of different temperature&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>MediumColumn</a> staOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop,
    h=1.5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for stack effect outside the room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriChiBot(
    m=0.5,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01);
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHea <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Prescribed heat flow&quot;</span>;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> con(
    Td=10,
    yMax=1,
    yMin=-1,
    Ti=60,
    controllerType=Modelica.Blocks.Types.SimpleController.P,
    k=5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Controller to maintain volume temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TSet(k=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature set point&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</a> temSen <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gain(k=3000);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumnDynamic"
>Buildings.Airflow.Multizone.MediumColumnDynamic</a>
                                           sha(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        Medium,
    m_flow_nominal=0.05,
    V=3,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Shaft of chimney&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>MediumColumn</a> staIn(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom,
    h=1.5) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for stack effect inside the room&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSet.y, con.u_s);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSen.T, con.u_m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.u, con.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(gain.y, preHea.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sha.port_a, oriChiTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sha.port_b, oriChiBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(staOut.port_b, oriBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preHea.port, roo.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.heatPort, temSen.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou0.ports[1], oriChiTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou0.ports[2], staOut.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriBot.port_b, staIn.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mRoo_flow.y[1], boundary.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(boundary.ports[1], roo.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.ports[2], staIn.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo.ports[3], oriChiBot.port_a);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ChimneyShaftWithVolume;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ClosedDoors<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ClosedDoors" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ClosedDoors"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ClosedDoors</h2>
<p>
<b>Model with three closed doors</b>
<br>
<br><img src="Buildings.Airflow.Multizo6ad81f3edb74568aDoorsD.png" alt="Buildings.Airflow.Multizone.Examples.ClosedDoors">
</p>
<h3>Information</h3>

<p>
This model consists of three volumes that are connected among
each other through three doors that all have the same geometry.
All doors are closed, but they are not air-tight.
Heat is added and removed from <code>volB</code> which induces
a small air flow through the doors.
</p>
<p>
This model uses
<a href="Buildings_Media_Specialized_Air_PerfectGas.html#Buildings.Media.Specialized.Air.PerfectGas"
>
Buildings.Media.Specialized.Air.PerfectGas</a>
as the medium because
<a href="Buildings_Media_Air.html#Buildings.Media.Air"
>
Buildings.Media.Air</a>
does not account for expansion if air the air is heated.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ClosedDoors <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with three closed doors&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Specialized_Air_PerfectGas.html#Buildings.Media.Specialized.Air.PerfectGas"
>Buildings.Media.Specialized.Air.PerfectGas</a>;

  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooAB(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    forceErrorControlOnFlow=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volA(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    nPorts=4,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    m_flow_nominal=0.01);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volB(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    nPorts=4,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    m_flow_nominal=0.01);
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> PrescribedHeatFlow1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> Sine1(freqHz=1/3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> Gain1(k=100);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volC(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    nPorts=4,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    m_flow_nominal=0.01);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooAC(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    forceErrorControlOnFlow=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> yDoor(k=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Input signal for door opening&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooBC(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    forceErrorControlOnFlow=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Gain1.y, PrescribedHeatFlow1.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Sine1.y, Gain1.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yDoor.y, dooAB.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yDoor.y, dooAC.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(yDoor.y, dooBC.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(PrescribedHeatFlow1.port, volB.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volC.ports[1], dooAC.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volC.ports[2], dooAC.port_a2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volC.ports[3], dooBC.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volC.ports[4], dooBC.port_a2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[1], dooAB.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[2], dooAB.port_a2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[3], dooBC.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[4], dooBC.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[1], dooAC.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[2], dooAC.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[3], dooAB.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[4], dooAB.port_a1);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ClosedDoors;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE NaturalVentilation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.NaturalVentilation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.NaturalVentilation"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.NaturalVentilation</h2>
<p>
<b>Test model for flow reversal due to density difference</b>
<br>
<br><img src="Buildings.Airflow.Multizo973ba86b00f99854ationD.png" alt="Buildings.Airflow.Multizone.Examples.NaturalVentilation">
</p>
<h3>Information</h3>

<p>
This model illustrates buoyancy-driven natural ventilation between
two volumes of air.
The volume <code>volA</code> can be considered as the volume of a room,
and the volume <code>volOut</code> is parameterized to be very large to emulate
outside air.
The outside air is <i>20</i>&deg;C and at initial time, the room air is
<i>18</i>&deg;C.
This induces an airflow in counter clock-wise direction. Since
heat is added to the room air volume, its temperature raises above the temperature of the outside, which causes the air flow to reverse its direction.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> NaturalVentilation <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for flow reversal due to density difference&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volA(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*10*5,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 18,
    nPorts=2,
    m_flow_nominal=0.001);

  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.1,
    m=0.5,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=3,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.1,
    m=0.5,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colRooTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=3,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=1E10,
    T_start=273.15 + 20,
    nPorts=2,
    m_flow_nominal=0.001);

  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHeaFlo;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</a> q_flow(
    height=-100,
    offset=100,
    startTime=3600);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(q_flow.y, preHeaFlo.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutBot.port_b, volOut.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preHeaFlo.port, volA.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[1], oriOutBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[2], colRooTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colRooTop.port_a, oriOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volOut.ports[2], colOut.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOut.port_a, oriOutTop.port_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>NaturalVentilation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE OneEffectiveAirLeakageArea<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.OneEffectiveAirLeakageArea" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.OneEffectiveAirLeakageArea"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.OneEffectiveAirLeakageArea</h2>
<p>
<b>Model with an effective air leakage area</b>
<br>
<br><img src="Buildings.Airflow.Multizo4f8a2d73cbdf67afeAreaD.png" alt="Buildings.Airflow.Multizone.Examples.OneEffectiveAirLeakageArea">
</p>
<h3>Information</h3>

<p>
This model consists of a model for an effective air leakage area
that is connected to two air volumes.
Air flows due to the addition of air to the volume <code>volA</code>
and because heat is exchanged with <code>volB</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> OneEffectiveAirLeakageArea <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model with an effective air leakage area&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volA(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    nPorts=2,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    m_flow_nominal=0.01);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volB(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    nPorts=1,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    m_flow_nominal=0.01);
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHeaFlo;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> Sine1(freqHz=1/3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> Gain1(k=100);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.EffectiveAirLeakageArea"
>Buildings.Airflow.Multizone.EffectiveAirLeakageArea</a> cra(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span>
      Medium = Medium, L=20E-4);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    use_m_flow_in=true);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramSou(
    duration=3600,
    height=0.01,
    offset=0,
    startTime=1800);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], volA.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramSou.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[1], cra.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[2], cra.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preHeaFlo.port, volB.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Gain1.y, preHeaFlo.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Gain1.u, Sine1.y);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>OneEffectiveAirLeakageArea;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE OneOpenDoor<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.OneOpenDoor" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.OneOpenDoor"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.OneOpenDoor</h2>
<p>
<b>Model with one open and one closed door</b>
<br>
<br><img src="Buildings.Airflow.Multizoba2e88979bf19ecenDoorD.png" alt="Buildings.Airflow.Multizone.Examples.OneOpenDoor">
</p>
<h3>Information</h3>

<p>
This model consists of two doors with the same geometry.
For <i>t &le; 1000</i> seconds, the door <code>dooOpeClo</code>
is closed, and afterwards it is open. The door
<code>dooOpe</code> is always open.
Heat is added to the volume <code>volB</code>, which causes
a density difference between <code>volA</code> and <code>volB</code>.
This density difference induces a bi-directional airflow through both doors.
Both doors have exactly the same bi-directional airflow rates.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> OneOpenDoor <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with one open and one closed door&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Air_SimpleAir.html#Modelica.Media.Air.SimpleAir"
>Modelica.Media.Air.SimpleAir</a>;

  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOpen"
>Buildings.Airflow.Multizone.DoorDiscretizedOpen</a> dooOpe(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span>
      Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volA(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    nPorts=4,
    m_flow_nominal=0.01);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volB(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2.5*5*5,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    nPorts=4,
    m_flow_nominal=0.01);
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHeaFlo;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Sine"
>Modelica.Blocks.Sources.Sine</a> heaSou(freqHz=1/3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> Gain1(k=100);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooOpeClo(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">
      package</span> Medium = Medium, LClo=20*1E-4) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    duration=120,
    height=1,
    offset=0,
    startTime=1000);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Gain1.y, preHeaFlo.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaSou.y, Gain1.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, dooOpeClo.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preHeaFlo.port, volB.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[1], dooOpeClo.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[2], dooOpeClo.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[3], dooOpe.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volA.ports[4], dooOpe.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[1], dooOpe.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[2], dooOpe.port_a2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[3], dooOpeClo.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volB.ports[4], dooOpeClo.port_a2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>OneOpenDoor;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE OneRoom<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.OneRoom" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.OneRoom"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.OneRoom</h2>
<p>
<b>Model with one room for the validation of the multizone air exchange models</b>
<br>
<br><img src="Buildings.Airflow.Multizoa39d459ae2fb34ffeRoomD.png" alt="Buildings.Airflow.Multizone.Examples.OneRoom">
</p>
<h3>Information</h3>

<p>
This model has been used to validate buoyancy-driven air flow between two volumes.
The volume <code>volEas</code> is at <i>20</i>&deg;C and the volume
<code>volOut</code> is at <i>10</i>&deg;C.
This initial condition induces a clock-wise airflow between the two volumes.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> OneRoom <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model with one room for the validation of the multizone air exchange models&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volEas(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 20,
    V=2.5*5*5,
    nPorts=2,
    m_flow_nominal=0.001,
    massDynamics=Modelica.Fluid.Types.Dynamics.SteadyStateInitial);

  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01,
    m=0.5);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    A=0.01,
    m=0.5);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 10,
    V=1E12,
    p_start=Medium.p_default,
    nPorts=2,
    m_flow_nominal=0.001,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial);

  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_a, oriOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_b, volEas.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInBot.port_a, volEas.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInBot.port_b, oriOutBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutBot.port_b, colOutBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutBot.port_a, volOut.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutTop.port_b, volOut.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutTop.port_a, oriOutTop.port_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>OneRoom;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Orifice<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.Orifice" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.Orifice"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.Orifice</h2>
<p>
<b>Model with an orifice</b>
<br>
<br><img src="Buildings.Airflow.Multizoda91c464da212d77ificeD.png" alt="Buildings.Airflow.Multizone.Examples.Orifice">
</p>
<h3>Information</h3>

<p>
This model demonstrates the use of the orifice model.
The pressure difference across the orifice model changes
between <i>-1</i> Pascal and <i>+1</i> Pascal, which
causes air to flow through the orifice.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Orifice <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with an orifice&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> ori(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, A=
        0.2);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> roo1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_p_in=true,
    nPorts=1,
    T=278.15);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> roo2(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_p_in=true,
    nPorts=1,
    T=293.15);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> Ramp1(
    duration=0.5,
    height=2,
    offset=-1,
    startTime=0.25);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> Pre(k=100000);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> Add1;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.DensityTwoPort"
>Fluid.Sensors.DensityTwoPort</a>    den1(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      m_flow_nominal=0.1,
    initType=Modelica.Blocks.Types.Init.InitialState) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Density sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.DensityTwoPort"
>Fluid.Sensors.DensityTwoPort</a>    den2(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      m_flow_nominal=0.1,
    initType=Modelica.Blocks.Types.Init.InitialState) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Density sensor&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Pre.y, Add1.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Ramp1.y, Add1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Pre.y, roo1.p_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(Add1.y, roo2.p_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(roo1.ports[1], den1.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(den1.port_b, ori.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ori.port_b, den2.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(den2.port_b, roo2.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Orifice;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ReverseBuoyancy<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ReverseBuoyancy</h2>
<p>
<b>Model with four rooms and buoyancy-driven air circulation that reverses direction</b>
<br>
<br><img src="Buildings.Airflow.Multizoc9ff5bdf49624721yancyD.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy">
</p>
<h3>Information</h3>

<p>
This model is similar than
<a href="Buildings_Airflow_Multizone_Validation.html#Buildings.Airflow.Multizone.Validation.ThreeRoomsContam"
>
Buildings.Airflow.Multizone.Validation.ThreeRoomsContam</a> but it has four
instead of three rooms.
The outdoor conditions are held constant at <i>10</i>&deg;C and
atmospheric pressure.
All four rooms are at different temperatures, with the rooms on the bottom
floor being initially at a higher temperature than the rooms on the bottom floor.
As time progresses, the temperatures of the two rooms on the respective floors
asymptotically approach each other. The bottom floor eventually cools below
the temperature of the top floor, because the
bottom floor directly exchanges air with the outside.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ReverseBuoyancy <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model with four rooms and buoyancy-driven air circulation that reverses direction&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volBotEas(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=2.5*5*5,
    T_start=273.15 + 25,
    nPorts=5,
    m_flow_nominal=0.001) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of bottom floor, east room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>MediumColumn</a> colWesBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriWesTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colWesTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooOpeClo(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    wOpe=1,
    hOpe=2.2,
    hA=3/2,
    hB=3/2,
    CDOpe=0.78,
    CDClo=0.78,
    nCom=10,
    vZer=0.01,
    dp_turbulent=0.1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
  <a href="Buildings_Fluid_Delays.html#Buildings.Fluid.Delays.DelayFirstOrder"
>Buildings.Fluid.Delays.DelayFirstOrder</a> volBotWes(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1.2,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    tau=2.5*5*5,
    T_start=273.15 + 22,
    nPorts=3,
    p_start=101325) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of bottom floor, west room&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> ope(k=1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> col1EasBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriEasTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volTopEas(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=2.5*5*10,
    T_start=273.15 + 21,
    nPorts=3,
    m_flow_nominal=0.001) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of top floor, east room&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volTopWes(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 20,
    V=2.5*5*10,
    nPorts=3,
    m_flow_nominal=0.001) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of top floor, west room&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooOpeCloTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    wOpe=1,
    hOpe=2.2,
    hA=3/2,
    hB=3/2,
    CDOpe=0.78,
    CDClo=0.78,
    nCom=10,
    vZer=0.01,
    dp_turbulent=0.1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.FixedBoundary"
>Fluid.Sources.FixedBoundary</a> volOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    p=100000,
    T=283.15,
    nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Ambient conditions&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ope.y, dooOpeClo.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ope.y, dooOpeCloTop.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriEasTop.port_b, colEasTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriWesTop.port_b, colWesBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriWesTop.port_a, colWesTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutBot.port_b, colOutBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInBot.port_b, oriOutBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_a, oriOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutTop.port_b, colOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volBotWes.ports[1], dooOpeClo.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volBotWes.ports[2], dooOpeClo.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colWesBot.port_b, volBotWes.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volTopWes.ports[1], colWesTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volTopWes.ports[2], dooOpeCloTop.port_b2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volTopWes.ports[3], dooOpeCloTop.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volTopEas.ports[1], dooOpeCloTop.port_b1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeCloTop.port_a2, volTopEas.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasTop.port_a, volTopEas.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriEasTop.port_a, col1EasBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_b1, volBotEas.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_a2, volBotEas.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInBot.port_a, volBotEas.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_b, volBotEas.ports[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(col1EasBot.port_b, volBotEas.ports[5]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutBot.port_a, volOut.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutTop.port_b, volOut.ports[2]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ReverseBuoyancy;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ReverseBuoyancy3Zones<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy3Zones" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy3Zones"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ReverseBuoyancy3Zones</h2>
<p>
<b>Model with three rooms and buoyancy-driven air circulation that reverses direction</b>
<br>
<br><img src="Buildings.Airflow.Multizod94cad9f31cea523ZonesD.png" alt="Buildings.Airflow.Multizone.Examples.ReverseBuoyancy3Zones">
</p>
<h3>Information</h3>

<p>
This model is similar than
<a href="Buildings_Airflow_Multizone_Validation.html#Buildings.Airflow.Multizone.Validation.ThreeRoomsContam"
>
Buildings.Airflow.Multizone.Validation.ThreeRoomsContam</a>.
However, the initial temperatures are such that at the start of the
simulation, the flow direction between the three rooms reverses direction.
</p>
<p>
At the start of the simulation,
the outdoor temperature is <i>15</i>&deg;C,
and the temperatures of the volumes are
<i>20</i>&deg;C at the top,
<i>22</i>&deg;C at the bottom west and
<i>25</i>&deg;C at the bottom east.
Thus, initially there is a net flow circulation in the counter-clock
direction.
Because the volume on the east exchanges air with the outside,
it cools down fast. Once it cooled down sufficiently,
the flow direction between the three rooms reverses
because the air in the bottom east is heaviest.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ReverseBuoyancy3Zones <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model with three rooms and buoyancy-driven air circulation that reverses direction&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volEas(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=2.5*5*5,
    T_start=273.15 + 25,
    nPorts=5,
    m_flow_nominal=0.001);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriOutTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volOut(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=1E12,
    T_start=273.15 + 15,
    nPorts=2,
    m_flow_nominal=0.001);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasInBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colOutBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colWesBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriWesTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colWesTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.DoorDiscretizedOperable"
>Buildings.Airflow.Multizone.DoorDiscretizedOperable</a> dooOpeClo(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    LClo=20*1E-4,
    wOpe=1,
    hOpe=2.2,
    hA=3/2,
    hB=3/2,
    CDOpe=0.78,
    CDClo=0.78,
    nCom=10,
    vZer=0.01,
    dp_turbulent=0.1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Discretized door&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> ope(k=1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> col1EasBot(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromBottom);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> oriEasTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m=0.5,
    A=0.01,
    dp_turbulent=0.1);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.MediumColumn"
>Buildings.Airflow.Multizone.MediumColumn</a> colEasTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    h=1.5,
    densitySelection=Buildings.Airflow.Multizone.Types.densitySelection.fromTop);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volTop(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    T_start=273.15 + 20,
    m_flow_nominal=0.001,
    V=2.5*10*10,
    nPorts=2);
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> volWes(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    massDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial,
    V=2.5*5*5,
    T_start=273.15 + 22,
    nPorts=3,
    m_flow_nominal=0.001);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_b2, volWes.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_a1, volWes.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_b1, volEas.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dooOpeClo.port_a2, volEas.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colWesTop.port_b, oriWesTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriWesTop.port_b, colWesBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colWesBot.port_b, volWes.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasTop.port_b, oriEasTop.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriEasTop.port_a, col1EasBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInBot.port_a, volEas.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_b, volEas.ports[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(col1EasBot.port_b, volEas.ports[5]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutTop.port_b, volOut.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(volOut.ports[2], colOutBot.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colOutBot.port_b, oriOutBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutBot.port_a, colEasInBot.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasInTop.port_a, oriOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(oriOutTop.port_b, colOutTop.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ope.y, dooOpeClo.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colWesTop.port_a, volTop.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colEasTop.port_a, volTop.ports[2]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ReverseBuoyancy3Zones;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ZonalFlow<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Airflow.Multizo9289896a2b4feafatStepI.png" alt="Buildings.Airflow.Multizone.Examples.ZonalFlow" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Airflow.Multizone.Examples.ZonalFlow"></a><a href="Buildings_Airflow_Multizone_Examples.html#Buildings.Airflow.Multizone.Examples"
>Buildings.Airflow.Multizone.Examples</a>.ZonalFlow</h2>
<p>
<b>Model with prescribed air exchange between two volumes</b>
<br>
<br><img src="Buildings.Airflow.Multizo51c2ca334af76396lFlowD.png" alt="Buildings.Airflow.Multizone.Examples.ZonalFlow">
</p>
<h3>Information</h3>

<p>
This example illustrates the use of the model that
exchanges a prescribed air exchange rate between the
volumes that are attached to it.
The constant block prescribes the air exchange rate to
5 air changes per hour.
This amount of air flows from
<code>rooA</code> to <code>rooB</code>, and
from <code>rooB</code> to <code>rooA</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Volume</a></td><td>volA</td><td>100</td><td>Volume of room A [m3]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Volume</a></td><td>volB</td><td>1</td><td>Volume of room B [m3]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ZonalFlow <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model with prescribed air exchange between two volumes&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</a> volA=100 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of room A&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</a> volB=1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume of room B&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> rooA(
    V=volA,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    X_start={0.015,0.985},
    T_start=303.15,
    nPorts=2,
    m_flow_nominal=0.001,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Room A&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> rooB(
    V=volB,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    X_start={0.01,0.99},
    T_start=293.15,
    nPorts=2,
    m_flow_nominal=0.001,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Room B&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> ACS_con(k=5/3600);
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.ZonalFlow_ACS"
>ZonalFlow_ACS</a> zonFlo(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, V=<span style="color: red; font-weight: normal; font-style: normal;">min</span>(volA, volB));
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(rooA.ports[1], zonFlo.port_a1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zonFlo.port_b1, rooB.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zonFlo.port_b2, rooA.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zonFlo.port_a2, rooB.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(zonFlo.ACS, ACS_con.y);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ZonalFlow;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:22:09 2015.
</address>
</body>
</html>
