<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Utilities.Math.Functions.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.Math.Functions.Examples"></a><a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions"
>Buildings.Utilities.Math.Functions</a>.Examples</h2>
<p>
<b>Collection of models that illustrate model use and test models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples for the use of models that can be found in
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions"
>
Buildings.Utilities.Math.Functions</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.CubicHermite" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.CubicHermite"
>CubicHermite</a>
</td>
<td>Test problem for cubic hermite splines</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.InverseXRegularized" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.InverseXRegularized"
>InverseXRegularized</a>
</td>
<td>Test problem for function that replaces 1/x around the origin by a twice continuously differentiable function</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.IsMonotonic" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.IsMonotonic"
>IsMonotonic</a>
</td>
<td>Tests the correct implementation of the function isMonotonic</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.PolynomialDerivativeCheck" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.PolynomialDerivativeCheck"
>PolynomialDerivativeCheck</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.PowerLinearized" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.PowerLinearized"
>PowerLinearized</a>
</td>
<td>Test problem for function that linearizes y=x^n below some threshold</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPower" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.RegNonZeroPower"
>RegNonZeroPower</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivativeCheck" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivativeCheck"
>RegNonZeroPowerDerivativeCheck</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivative_2_Check" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivative_2_Check"
>RegNonZeroPowerDerivative_2_Check</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.SmoothExponentialDerivativeCheck" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.SmoothExponentialDerivativeCheck"
>SmoothExponentialDerivativeCheck</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.SpliceFunction" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.SpliceFunction"
>SpliceFunction</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.SpliceFunctionDerivativeCheck" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.SpliceFunctionDerivativeCheck"
>SpliceFunctionDerivativeCheck</a>
</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteS.png" alt="Buildings.Utilities.Math.Functions.Examples.TrapezoidalIntegration" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples.TrapezoidalIntegration"
>TrapezoidalIntegration</a>
</td>
<td>Tests the correct implementation of the function trapezoidalIntegration</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE CubicHermite<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.CubicHermite" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.CubicHermite"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.CubicHermite</h2>
<p>
<b>Test problem for cubic hermite splines</b>
</p>
<h3>Information</h3>

<p>
This example demonstrates the use of the function for cubic hermite interpolation
and linear extrapolation.
The example use interpolation with two different settings: One settings
produces a monotone cubic hermite, whereas the other setting
does not enforce monotonicity.
The resulting plot should look as shown below, where for better visibility, the support points have been marked with black dots.
Notice that the red curve is monotone increasing.
</p>
<p align="center"><img alt="image" src="../Resources/Images/Utilities/Math/Functions/Examples/cubicHermite.png"/></p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>xd[:]</td><td>{-1,1,5,6}</td><td>Support points</td></tr>
<tr><td>Real</td><td>yd[size(xd, 1)]</td><td>{-1,1,2,10}</td><td>Support points</td></tr>
<tr><td>Real</td><td>d[size(xd, 1)]</td><td>&nbsp;</td><td>Derivatives at the support points</td></tr>
<tr><td>Real</td><td>dMonotone[size(xd, 1)]</td><td>&nbsp;</td><td>Derivatives at the support points</td></tr>
<tr><td>Boolean</td><td>ensureMonotonicity</td><td>true</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> CubicHermite <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test problem for cubic hermite splines&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real[:] xd={-1,1,5,6} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Support points&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(xd, 1)] yd={-1,1,2,10} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Support points&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(xd, 1)] d(<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Derivatives at the support points&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(xd, 1)] dMonotone(<span style="color: blue; font-weight: normal; font-style: normal;">each </span>fixed=false) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Derivatives at the support points&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean ensureMonotonicity=true;
  Real x <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Independent variable&quot;</span>;
  Real y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dependent variable without monotone interpolation&quot;</span>;
  Real yMonotone <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dependent variable with monotone interpolation&quot;</span>;
  Integer i <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Integer to select data interval&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Get the derivative values at the support points</span>
  d :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.splineDerivatives</span>(
    x=xd,
    y=yd,
    ensureMonotonicity=false);
  dMonotone :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.splineDerivatives</span>(x=xd, y=yd,
      ensureMonotonicity=true);
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  x := xd[1] + time*1.2*(xd[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(xd, 1)] - xd[1]) - 0.5;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// i is a counter that is used to pick the derivative of d or dMonotonic</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">// that correspond to the interval that contains x</span>
  i := 1;
  <span style="color: blue; font-weight: normal; font-style: normal;">for </span>j<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:<span style="color: red; font-weight: normal; font-style: normal;">size</span>(xd, 1) - 1<span style="color: blue; font-weight: normal; font-style: normal;"> loop</span>
    <span style="color: blue; font-weight: normal; font-style: normal;">if </span>x &gt; xd[j]<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
      i := j;
    <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">end for</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Extrapolate or interpolate the data</span>
  y :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.cubicHermiteLinearExtrapolation</span>(
    x=x,
    x1=xd[i],
    x2=xd[i + 1],
    y1=yd[i],
    y2=yd[i + 1],
    y1d=d[i],
    y2d=d[i + 1]);
  yMonotone :=
    <span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.cubicHermiteLinearExtrapolation</span>(
    x=x,
    x1=xd[i],
    x2=xd[i + 1],
    y1=yd[i],
    y2=yd[i + 1],
    y1d=dMonotone[i],
    y2d=dMonotone[i + 1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>CubicHermite;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE InverseXRegularized<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.InverseXRegularized" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.InverseXRegularized"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.InverseXRegularized</h2>
<p>
<b>Test problem for function that replaces 1/x around the origin by a twice continuously differentiable function</b>
</p>
<h3>Information</h3>

<p>
This example tests the implementation of
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.inverseXRegularized"
>
Buildings.Utilities.Math.Functions.inverseXRegularized</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>delta</td><td>0.5</td><td>Small value for approximation</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> InverseXRegularized <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test problem for function that replaces 1/x around the origin by a twice continuously differentiable function&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real x <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Independent variable&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real delta = 0.5 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Small value for approximation&quot;</span>;
  Real y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Function value&quot;</span>;
  Real xInv <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Function value&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=2*time-1;
  xInv = <span style="color: blue; font-weight: normal; font-style: normal;">if </span>(<span style="color: red; font-weight: normal; font-style: normal;"> abs</span>(x) &gt; 0.1)<span style="color: blue; font-weight: normal; font-style: normal;">   then </span>1 / x<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>0;
  y =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.inverseXRegularized</span>(x=x, delta=delta);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>InverseXRegularized;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE IsMonotonic<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.IsMonotonic" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.IsMonotonic"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.IsMonotonic</h2>
<p>
<b>Tests the correct implementation of the function isMonotonic</b>
</p>
<h3>Information</h3>

<p>
This example tests the correct implementation of the function
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.isMonotonic"
>
Buildings.Utilities.Math.Functions.isMonotonic</a>.
If the function is implemented incorrect, the example will stop
with an error.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> IsMonotonic <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Tests the correct implementation of the function isMonotonic&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real x_incStrict[3] = {0, 1, 2} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;strictly increasing&quot;</span>;
  Real x_notMon[3] = {0, 3, 2} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;not monotonic&quot;</span>;
  Real x_incWeak[4] = {0, 1, 1, 2} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;weakly increasing&quot;</span>;
  Real x_notWeak[4] = {0, 3, 3, 2} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;not weakly monotonic&quot;</span>;
  Real x_decStrict[3] = {2.5, 2, 0.1} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;strictly decreasing&quot;</span>;
  Real x_decWeak[4] = {3, 1, 1, 0.5} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;weakly decreasing&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
<span style="color: #006400; font-weight: normal; font-style: normal;">// Tests with weak monotonicity</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">  //strictly increasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>(x_incStrict, strict=false),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //not monotonic</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_notMon, strict=false),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //weakly increasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>(x_incWeak, strict=false),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //not weakly monotonic</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_notWeak, strict=false),
   &quot;Error. Function should have returned true.&quot;);

  <span style="color: #006400; font-weight: normal; font-style: normal;">  //strictly decreasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>({2.5, 2, 0.1}, strict=false),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //weakly decreasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>({3, 1, 1, 0.5}, strict=false),
   &quot;Error. Function should have returned true.&quot;);

<span style="color: #006400; font-weight: normal; font-style: normal;">// Tests with strict monotonicity</span>
  <span style="color: #006400; font-weight: normal; font-style: normal;">  //strictly increasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>(x_incStrict, strict=true),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //not monotonic</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_notMon, strict=true),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //weakly increasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_incWeak, strict=true),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //not weakly monotonic</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_notWeak, strict=true),
   &quot;Error. Function should have returned true.&quot;);

  <span style="color: #006400; font-weight: normal; font-style: normal;">  //strictly decreasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.isMonotonic</span>(x_decStrict, strict=true),
   &quot;Error. Function should have returned true.&quot;);
  <span style="color: #006400; font-weight: normal; font-style: normal;">   //weakly decreasing</span>
<span style="color: red; font-weight: normal; font-style: normal;">assert</span>(false ==<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.isMonotonic</span>(x_decWeak, strict=true),
   &quot;Error. Function should have returned true.&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>IsMonotonic;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PolynomialDerivativeCheck<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.PolynomialDerivativeCheck" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.PolynomialDerivativeCheck"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.PolynomialDerivativeCheck</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is incorrect, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> PolynomialDerivativeCheck
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real x;
  Real y;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y=x;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.polynomial</span>(x=time-2, a={2, 4, -4, 5});
  <span style="color: red; font-weight: normal; font-style: normal;">der</span>(y)=<span style="color: red; font-weight: normal; font-style: normal;">der</span>(x);
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Trigger an error if the derivative implementation is incorrect.</span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(x-y) &lt; 1E-2, &quot;Model has an error.&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PolynomialDerivativeCheck;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE PowerLinearized<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.PowerLinearized" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.PowerLinearized"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.PowerLinearized</h2>
<p>
<b>Test problem for function that linearizes y=x^n below some threshold</b>
</p>
<h3>Information</h3>

<p>
This example tests the implementation of
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.powerLinearized"
>
Buildings.Utilities.Math.Functions.powerLinearized</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> PowerLinearized <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test problem for function that linearizes y=x^n below some threshold&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real T4(start=300^4) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature raised to 4-th power&quot;</span>;
  Real T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature&quot;</span>;
  Real TExact <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  T = (1+500*time);
  T =<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.powerLinearized</span>(x=T4, x0=243.15^4, n=0.25);
  TExact =<span style="color: red; font-weight: normal; font-style: normal;"> abs</span>(T4)^(1/4);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>PowerLinearized;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RegNonZeroPower<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPower" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPower"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.RegNonZeroPower</h2>
<h3>Information</h3>

<p>
This example tests the implementation of
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.regNonZeroPower"
>
Buildings.Utilities.Math.Functions.regNonZeroPower</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> RegNonZeroPower
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Function value&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  y=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.regNonZeroPower</span>(
                                             time, 0.3, 0.5);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RegNonZeroPower;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RegNonZeroPowerDerivativeCheck<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivativeCheck" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivativeCheck"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.RegNonZeroPowerDerivativeCheck</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is not correct, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>n</td><td>0.33</td><td>Exponent</td></tr>
<tr><td>Real</td><td>delta</td><td>0.1</td><td>Abscissa value where transition occurs</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> RegNonZeroPowerDerivativeCheck
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real n=0.33 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Exponent&quot;</span>;
 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real delta = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Abscissa value where transition occurs&quot;</span>;

  Real x;
  Real y;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y=x;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.regNonZeroPower</span>(
                                             time,n, delta);
  <span style="color: red; font-weight: normal; font-style: normal;">der</span>(y)=<span style="color: red; font-weight: normal; font-style: normal;">der</span>(x);
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(x-y) &lt; 1E-2, &quot;Model has an error&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RegNonZeroPowerDerivativeCheck;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RegNonZeroPowerDerivative_2_Check<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivative_2_Check" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.RegNonZeroPowerDerivative_2_Check"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.RegNonZeroPowerDerivative_2_Check</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is not correct, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>n</td><td>0.33</td><td>Exponent</td></tr>
<tr><td>Real</td><td>delta</td><td>0.1</td><td>Abscissa value where transition occurs</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> RegNonZeroPowerDerivative_2_Check
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real n=0.33 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Exponent&quot;</span>;
 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real delta = 0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Abscissa value where transition occurs&quot;</span>;

  Real x;
  Real y;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y=x;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.BaseClasses.der_regNonZeroPower</span>(
                                                             time,n, delta, time);
  <span style="color: red; font-weight: normal; font-style: normal;">der</span>(y)=<span style="color: red; font-weight: normal; font-style: normal;">der</span>(x);
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(x-y) &lt; 1E-2, &quot;Model has an error&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RegNonZeroPowerDerivative_2_Check;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SmoothExponentialDerivativeCheck<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.SmoothExponentialDerivativeCheck" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.SmoothExponentialDerivativeCheck"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.SmoothExponentialDerivativeCheck</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is not correct, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SmoothExponentialDerivativeCheck
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  Real x;
  Real y;
  Real ex <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;exact function value&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y=x;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.smoothExponential</span>(
                                               x=time-2, delta=0.5);
  <span style="color: red; font-weight: normal; font-style: normal;">der</span>(y)=<span style="color: red; font-weight: normal; font-style: normal;">der</span>(x);
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(x-y) &lt; 1E-2, &quot;Model has an error&quot;);
  ex=<span style="color: red; font-weight: normal; font-style: normal;">exp</span>(-<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(time-2));
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SmoothExponentialDerivativeCheck;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SpliceFunction<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.SpliceFunction" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.SpliceFunction"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.SpliceFunction</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is not correct, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SpliceFunction
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  Real y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Function value&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  y=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
                                            pos=10, neg=-10, x=time-0.4, deltax=0.2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SpliceFunction;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SpliceFunctionDerivativeCheck<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.SpliceFunctionDerivativeCheck" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.SpliceFunctionDerivativeCheck"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.SpliceFunctionDerivativeCheck</h2>
<h3>Information</h3>

<p>
This example checks whether the function derivative
is implemented correctly. If the derivative implementation
is not correct, the model will stop with an assert statement.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SpliceFunctionDerivativeCheck
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  Real x;
  Real y;
<span style="color: blue; font-weight: normal; font-style: normal;">initial </span><span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
   y=x;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  x=<span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Math.Functions.spliceFunction</span>(
                                            10, -10, time+0.1, 0.2);
  <span style="color: red; font-weight: normal; font-style: normal;">der</span>(y)=<span style="color: red; font-weight: normal; font-style: normal;">der</span>(x);
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(x-y) &lt; 1E-2, &quot;Model has an error&quot;);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SpliceFunctionDerivativeCheck;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TrapezoidalIntegration<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Math.f0361da3ebcf6b1drmiteI.png" alt="Buildings.Utilities.Math.Functions.Examples.TrapezoidalIntegration" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Math.Functions.Examples.TrapezoidalIntegration"></a><a href="Buildings_Utilities_Math_Functions_Examples.html#Buildings.Utilities.Math.Functions.Examples"
>Buildings.Utilities.Math.Functions.Examples</a>.TrapezoidalIntegration</h2>
<p>
<b>Tests the correct implementation of the function trapezoidalIntegration</b>
</p>
<h3>Information</h3>

<p>
Tests the correct implementation of function
<a href="Buildings_Utilities_Math_Functions.html#Buildings.Utilities.Math.Functions.trapezoidalIntegration"
>
Buildings.Utilities.Math.Functions.trapezoidalIntegration</a>.
</p>
<p>Integrands y1[7]={72, 70, 64, 54, 40, 22, 0} are the function values of y = -2*x^2-72 for x = {0,1,2,3,4,5,6}. The trapezoidal integration over the 7 integrand points should give a result of 286.</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TrapezoidalIntegration <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Tests the correct implementation of the function trapezoidalIntegration&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  Real y1[7] = {72, 70, 64, 54, 40, 22, 0};<span style="color: #006400; font-weight: normal; font-style: normal;"> //function values of y = -2*x^2-72 for x={0,1,2,3,4,5,6}</span>
  Real y <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Integration result&quot;</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">//Real y2[7] = {0.3333, 1.0, 3.0, 9.9, 27.0, 81.0, 243.0}; // //function values of y = 3^(3x-1) for x=0:0.3333:2</span>
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  y :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.trapezoidalIntegration</span>(N=7, f=y1, deltaX=1);
 <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(y - 286.0 &lt; 1E-4,
   &quot;Error. Function should have returned 286.&quot;);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TrapezoidalIntegration;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:30:45 2015.
</address>
</body>
</html>
