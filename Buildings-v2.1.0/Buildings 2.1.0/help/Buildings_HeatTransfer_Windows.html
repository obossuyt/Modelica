<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.HeatTransfer.Windows</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with models for windows&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Windows<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.HeatTransfer.Windows"></a><a href="Buildings_HeatTransfer.html#Buildings.HeatTransfer"
>Buildings.HeatTransfer</a>.Windows</h2>
<p>
<b>Package with models for windows</b><br>
</p>
<h3>Information</h3>

<p>
This package contains models for heat transfer in windows.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferS.png" alt="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>ExteriorHeatTransfer</a>
</td>
<td>Model for heat convection and radiation at the exterior surface of a window that may have a shading device</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeS.png" alt="Buildings.HeatTransfer.Windows.FixedShade" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.FixedShade"
>FixedShade</a>
</td>
<td>Model for exterior shade due to overhang and/or side fin</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveS.png" alt="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective"
>InteriorHeatTransferConvective</a>
</td>
<td>Model for heat convection at the interior surface of a window that may have a shading device</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Windows.OverhangS.png" alt="Buildings.HeatTransfer.Windows.Overhang" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Overhang"
>Overhang</a>
</td>
<td>For a window with an overhang, outputs the fraction of the window area exposed to the sun</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Windows.SideFinsS.png" alt="Buildings.HeatTransfer.Windows.SideFins" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.SideFins"
>SideFins</a>
</td>
<td>For a window with side fins, outputs the fraction of the window area exposed to the sun</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Windows.WindowS.png" alt="Buildings.HeatTransfer.Windows.Window" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>Window</a>
</td>
<td>Model for a window</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Windows.FunctionsS.png" alt="Buildings.HeatTransfer.Windows.Functions" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_Functions.html#Buildings.HeatTransfer.Windows.Functions"
>Functions</a>
</td>
<td>Functions used in window radiation model</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Windows.ExamplesS.png" alt="Buildings.HeatTransfer.Windows.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_Examples.html#Buildings.HeatTransfer.Windows.Examples"
>Examples</a>
</td>
<td>Collection of models that illustrate model use and test models</td>
</tr>
<tr>
<td><img src="Buildings.HeatTransfer.Wiac2442c6b363a92fassesS.png" alt="Buildings.HeatTransfer.Windows.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.HeatTransfer.Windows</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ExteriorHeatTransfer<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferI.png" alt="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.ExteriorHeatTransfer</h2>
<p>
<b>Model for heat convection and radiation at the exterior surface of a window that may have a shading device</b>
<br>
<br><img src="Buildings.HeatTransfer.Wi2d14d314589e5d51nsferD.png" alt="Buildings.HeatTransfer.Windows.ExteriorHeatTransfer">
</p>
<h3>Information</h3>

<p>
Model for the convective heat transfer between a window shade, a window surface
and the room air.
This model is applicable for the outside-facing surface of a window system and
can be used with the model
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>
Buildings.HeatTransfer.Windows.Window</a>.
</p>
<p>
This model adds the convective heat transfer coefficient to its base model.
</p>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</a> (Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area of frame and window [m2]</td></tr>
<tr><td>Real</td><td>fFra</td><td>&nbsp;</td><td>Fraction of window frame divided by total window area</td></tr>
<tr><td>Boolean</td><td>linearizeRadiation</td><td>&nbsp;</td><td>Set to true to linearize emissive power</td></tr>
<tr><td>Real</td><td>vieFacSky</td><td>&nbsp;</td><td>View factor from receiving surface to sky [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shading</td></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has exterior shade (at surface a)</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has interior shade (at surface b)</td></tr>
<tr><td>Boolean</td><td>thisSideHasShade</td><td>haveExteriorShade</td><td>Set to true if this side of the model has a shade</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIRSha_air</td><td>&nbsp;</td><td>Infrared absorptivity of shade surface that faces air [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Emissivity</a></td><td>absIRSha_glass</td><td>&nbsp;</td><td>Infrared absorptivity of shade surface that faces glass [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauIRSha_air</td><td>&nbsp;</td><td>Infrared transmissivity of shade for radiation coming from the exterior or the room [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>TransmissionCoefficient</a></td><td>tauIRSha_glass</td><td>&nbsp;</td><td>Infrared transmissivity of shade for radiation coming from the glass [1]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>air</td><td>Port that connects to the air (room or outside)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaUns</td><td>Heat port that connects to unshaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaSha</td><td>Heat port that connects to shaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>frame</td><td>Heat port at window frame</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>vWin</td><td>Wind speed [m/s]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TBlaSky</td><td>Black body sky temperature [K]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TOut</td><td>Outside temperature [K]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutUns</td><td>Outgoing radiosity that connects to unshaded part of glass [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInUns</td><td>Incoming radiosity that connects to unshaded part of glass [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutSha</td><td>Outgoing radiosity that connects to shaded part of glass [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInSha</td><td>Incoming radiosity that connects to shaded part of glass [W]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QSolAbs_flow</td><td>Solar radiation absorbed by shade [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ExteriorHeatTransfer <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for heat convection and radiation at the exterior surface of a window that may have a shading device&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</a>(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>thisSideHasShade=haveExteriorShade);
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIRSha_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of shade surface that faces air&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Emissivity"
>Modelica.SIunits.Emissivity</a> absIRSha_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared absorptivity of shade surface that faces glass&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauIRSha_air <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared transmissivity of shade for radiation coming from the exterior or the room&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TransmissionCoefficient"
>Modelica.SIunits.TransmissionCoefficient</a> tauIRSha_glass <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Infrared transmissivity of shade for radiation coming from the glass&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearizeRadiation <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Set to true to linearize emissive power&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real vieFacSky(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>min=0, <span style="color: blue; font-weight: normal; font-style: normal;">final </span>max=1, <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;1&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;View factor from receiving surface to sky&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> vWin(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;m/s&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Wind speed&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient</a>
    conCoeGla(                                          <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for the outside convective heat transfer coefficient of the glass&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.ExteriorConvectionCoefficient</a>
    conCoeFra(                                          <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AFra) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for the outside convective heat transfer coefficient of the frame&quot;</span>;
 <a href="Buildings_HeatTransfer_Radiosity.html#Buildings.HeatTransfer.Radiosity.OutdoorRadiosity"
>Radiosity.OutdoorRadiosity</a> radOut(
   <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla, vieFacSky=vieFacSky,
    linearize=linearizeRadiation) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Outdoor radiosity&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TBlaSky(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;ThermodynamicTemperature&quot;,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;K&quot;,
    min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Black body sky temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TOut(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;ThermodynamicTemperature&quot;,
                                            <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit = &quot;K&quot;, min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outside temperature&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutUns <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to unshaded part of glass&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInUns <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to unshaded part of glass&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutSha <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to shaded part of glass&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInSha <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to shaded part of glass&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QSolAbs_flow(unit=&quot;W&quot;, quantity=&quot;Power&quot;) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Solar radiation absorbed by shade&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeRadiation"
>BaseClasses.ShadeRadiation</a> shaRad(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>thisSideHasShade=thisSideHasShade,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>linearize=linearizeRadiation,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>absIR_air=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>absIRSha_air<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>0,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>absIR_glass=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>absIRSha_glass<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>0,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauIR_air=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>tauIRSha_air<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>1,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>tauIR_glass=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>thisSideHasShade<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>tauIRSha_glass<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>1) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Radiative heat balance of shade&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="Buildings_HeatTransfer_Radiosity.html#Buildings.HeatTransfer.Radiosity.RadiositySplitter"
>Radiosity.RadiositySplitter</a> radShaOut <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Radiosity that strikes shading device&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"
>BaseClasses.ShadeConvection</a> shaCon(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>thisSideHasShade=thisSideHasShade,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convective heat balance of shade&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">public </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.Convection"
>Modelica.Thermal.HeatTransfer.Components.Convection</a> conFra <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer between air and frame&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.Convection"
>Modelica.Thermal.HeatTransfer.Components.Convection</a> conWinUns <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convection from unshaded part of window to outside or room air&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> proUns <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Product for unshaded part of window&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">assert</span>(-1E-10&lt;vieFacSky<span style="color: blue; font-weight: normal; font-style: normal;"> and </span>1.00001 &gt; vieFacSky,
         &quot;View factor to sky is out of range. vieFacSky = &quot; +<span style="color: red; font-weight: normal; font-style: normal;"> String</span>(vieFacSky)
         + &quot;\n   Check parameters.&quot;);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vWin, conCoeGla.v);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vWin, conCoeFra.v);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoeFra.GCon, conFra.Gc);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoeGla.GCon, proSha.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoeGla.GCon, proUns.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radOut.JOut, radShaOut.JIn);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radOut.TBlaSky, TBlaSky);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radOut.TOut, TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radShaOut.JOut_2,JOutUns);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaRad.JOut_glass, JOutSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaRad.JIn_glass, JInSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radShaOut.JOut_1, shaRad.JIn_air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaRad.u, shaSig.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha, shaCon.glass);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCon.air, air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCon.Gc, proSha.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCon.TSha, shaRad.TSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaRad.QRadAbs_flow, shaCon.QRadAbs_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(radShaOut.u, shaSig.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaRad.QSolAbs_flow, QSolAbs_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conFra.fluid, air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conWinUns.fluid, air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns,conWinUns. solid);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(proUns.y,conWinUns. Gc);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conFra.solid, frame);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.yCom,proUns. u1);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ExteriorHeatTransfer;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE FixedShade<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeI.png" alt="Buildings.HeatTransfer.Windows.FixedShade" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.FixedShade"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.FixedShade</h2>
<p>
<b>Model for exterior shade due to overhang and/or side fin</b>
<br>
<br><img src="Buildings.HeatTransfer.Wieba82d94a86f3ff2ShadeD.png" alt="Buildings.HeatTransfer.Windows.FixedShade">
</p>
<h3>Information</h3>

<p>
This model outputs the fraction of the window area that is sun exposed
for a window that may have an overhang and sidefins.
Depending on the record with construction data <code>conPar</code>,
an overhang, side fins or no external shade is modeled.
The model allows having an overhang and side fins at the same time.
In such a case, the overhang width should be
measured from the window edge to the sidefin,
because the overhang width beyond the sidefin will
cast a shadow on the side fin and not on the window.
Similarly, the side fin height should be measured
from the upper window edge to the overhang,
because the side fin height above the
overhang will not cast a shadow on the window.
The parameters for the dimensions of the overhang and side fins are as
described in the models
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Overhang"
>
Buildings.HeatTransfer.Windows.Overhang</a>
and
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.SideFins"
>
Buildings.HeatTransfer.Windows.SideFins</a>.
</p>

<h4>Limitations</h4>
<p>
For overhangs, the model assumes that
</p>
<ul>
<li>
the overhang is at least as wide as the window, i.e.,
<i>w<sub>L</sub> &ge; 0</i> and
<i>w<sub>R</sub> &ge; 0</i>, and
</li>
<li>
the overhang is horizontal.
</li>
</ul>

<p>
For side fins, the model assumes that
</p>
<ul>
<li>
the side fins are placed symmetrically to the left and right of the window,
</li>
<li>
the top of the side fins must be at an equal or greater height than the window, and
</li>
<li>
the side fins extends at least to the lower edge of the window.
</li>
</ul>

<h4>Implementation</h4>
<p>
The detailed calculation method is explained in
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>
Buildings.HeatTransfer.Windows.BaseClasses.SideFins</a>
and in
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>
Buildings.HeatTransfer.Windows.BaseClasses.Overhang</a>.
</p>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</a> (Base class for models of window shade and overhangs).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>ParameterConstructionWithWindow</a></td><td>conPar</td><td>&nbsp;</td><td>Construction parameters</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>lat</td><td>&nbsp;</td><td>Latitude [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>azi</td><td>&nbsp;</td><td>Surface azimuth; azi= -90 degree East; azi= 0 South [rad]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Solar incidence angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDirTilUns</td><td>Direct solar irradiation on tilted, unshaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HDirTil</td><td>Direct solar irradiation on tilted, shaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of the area that is unshaded [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> FixedShade <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for exterior shade due to overhang and/or side fin&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus"
>HeatTransfer.Windows.BaseClasses.ShadeInterface_weatherBus</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow"
>Buildings.Rooms.BaseClasses.ParameterConstructionWithWindow</a> conPar <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Construction parameters&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> lat <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Latitude&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> azi(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface azimuth; azi= -90 degree East; azi= 0 South&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Multiplex4"
>Modelica.Blocks.Routing.Multiplex4</a> mulFraSun(
    n1=1,
    n2=1,
    n3=1,
    n4=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Multiplex for fraction of shaded area&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> sumFraSun <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Addition of sun exposed window area fractions&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> resFraSun(k2=1.0, k1=-1.0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Calculates resultant sun exposed window area fraction&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> overlap(k=1.0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Overlap of sun exposed window area fraction&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> noSunCond(k=small) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Condition when the sun is not in front of window&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real small = 0.001 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small number, used to avoid that sun-exposed fraction of window is negative&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveOverhang = conPar.ove.haveOverhang <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Flag for overhang&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveSideFins = conPar.sidFin.haveSideFins <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Flag for sidefins&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveOverhangAndSideFins= (haveOverhang<span style="color: blue; font-weight: normal; font-style: normal;">
       and </span>haveSideFins) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flag for overhang and sidefins&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer idx = <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveOverhangAndSideFins<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>2<span style="color: blue; font-weight: normal; font-style: normal;"> elseif </span>haveOverhang<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>1<span style="color: blue; font-weight: normal; font-style: normal;"> elseif </span>haveSideFins<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>3<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>4 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Integer used to pick the appropriate output signal&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>HeatTransfer.Windows.BaseClasses.Overhang</a> ove(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>lat=lat,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>azi=conPar.azi,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>hWin=conPar.hWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wWin=conPar.wWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dep=conPar.ove.dep,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>gap=conPar.ove.gap,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wR=conPar.ove.wR,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wL=conPar.ove.wL) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for overhang&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>HeatTransfer.Windows.BaseClasses.SideFins</a> sidFin(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>hWin=conPar.hWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wWin=conPar.wWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>h=conPar.sidFin.h,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dep=conPar.sidFin.dep,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>gap=conPar.sidFin.gap) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for side fins&quot;</span>;

  <a href="Buildings_BoundaryConditions_SolarGeometry_BaseClasses.html#Buildings.BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth"
>BoundaryConditions.SolarGeometry.BaseClasses.WallSolarAzimuth</a> walSolAzi <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Angle measured in horizontal plane between projection of sun&#39;s rays and normal to vertical surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> mulHDir <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Multiplication to obtain direct solar irradiation on shaded window&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Extractor"
>Modelica.Blocks.Routing.Extractor</a> extFraSun(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>allowOutOfRange=false, <span style="color: blue; font-weight: normal; font-style: normal;">final </span>
      nin=4,
    index(start=idx, fixed=true)) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Extractor to pick the appropriate output signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerConstant"
>Modelica.Blocks.Sources.IntegerConstant</a> idxSou(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=idx) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Source term to pick output signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=1);

  <a href="Buildings_Utilities_Math.html#Buildings.Utilities.Math.SmoothMax"
>Utilities.Math.SmoothMax</a> smoMax(deltaX=small/2) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Limiter to avoid that the fraction of sun-exposed window is below zero&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, walSolAzi.alt);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(incAng, walSolAzi.incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(walSolAzi.verAzi, ove.verAzi);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(walSolAzi.verAzi, sidFin.verAzi);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, sidFin.alt);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mulHDir.y, HDirTil);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mulHDir.u1, HDirTilUns);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus, ove.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(extFraSun.y, fraSun);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(extFraSun.y, mulHDir.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mulFraSun.y, extFraSun.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ove.fraSun, mulFraSun.u1[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sidFin.fraSun, mulFraSun.u3[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(const.y, mulFraSun.u4[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, ove.alt);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ove.fraSun, sumFraSun.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sumFraSun.y, resFraSun.u2);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(overlap.y, resFraSun.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sidFin.fraSun, sumFraSun.u2);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(idxSou.y, extFraSun.index);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(resFraSun.y, smoMax.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(noSunCond.y, smoMax.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(smoMax.y, mulFraSun.u2[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>FixedShade;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE InteriorHeatTransferConvective<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveI.png" alt="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.InteriorHeatTransferConvective</h2>
<p>
<b>Model for heat convection at the interior surface of a window that may have a shading device</b>
<br>
<br><img src="Buildings.HeatTransfer.Wibd22c4743943a4b1ctiveD.png" alt="Buildings.HeatTransfer.Windows.InteriorHeatTransferConvective">
</p>
<h3>Information</h3>

<p>
Model for the convective heat transfer between a window shade, a window surface
and the room air.
This model is applicable for the room-facing surface of a window system and
can be used with the model
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.Window"
>
Buildings.HeatTransfer.Windows.Window</a>.
</p>
<p>
This model adds the convective heat transfer coefficient to its base model.
</p>

<p>Extends from <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</a> (Partial model for heat convection or radiation between a possibly shaded window that can be outside or inside the room).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area of frame and window [m2]</td></tr>
<tr><td>Real</td><td>fFra</td><td>&nbsp;</td><td>Fraction of window frame divided by total window area</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>CoefficientOfHeatTransfer</a></td><td>hFixed</td><td>4</td><td>Constant convection coefficient [W/(m2.K)]</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>InteriorConvection</a></td><td>conMod</td><td>Buildings.HeatTransfer.Types...</td><td>Convective heat transfer model</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt [rad]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shading</td></tr>
<tr><td>Boolean</td><td>haveExteriorShade</td><td>&nbsp;</td><td>Set to true if window has exterior shade (at surface a)</td></tr>
<tr><td>Boolean</td><td>haveInteriorShade</td><td>&nbsp;</td><td>Set to true if window has interior shade (at surface b)</td></tr>
<tr><td>Boolean</td><td>thisSideHasShade</td><td>haveInteriorShade</td><td>Set to true if this side of the model has a shade</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Input connector, used to scale the surface area to take into account an operable shading device, 0: unshaded; 1: fully shaded</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>air</td><td>Port that connects to the air (room or outside)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaUns</td><td>Heat port that connects to unshaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaSha</td><td>Heat port that connects to shaded part of glass</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>frame</td><td>Heat port at window frame</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QRadAbs_flow</td><td>Total net radiation that is absorbed by the shade (positive if absorbed) [W]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TSha</td><td>Shade temperature [K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> InteriorHeatTransferConvective <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model for heat convection at the interior surface of a window that may have a shading device&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialWindowBoundaryCondition"
>BaseClasses.PartialWindowBoundaryCondition</a>(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>thisSideHasShade=haveInteriorShade);

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.CoefficientOfHeatTransfer"
>Modelica.SIunits.CoefficientOfHeatTransfer</a> hFixed=4 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Constant convection coefficient&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Types.html#Buildings.HeatTransfer.Types.InteriorConvection"
>Types.InteriorConvection</a> conMod=Buildings.HeatTransfer.Types.InteriorConvection.Fixed <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convective heat transfer model&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Surface tilt&quot;</span>;

 <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QRadAbs_flow(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;W&quot;) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Total net radiation that is absorbed by the shade (positive if absorbed)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TSha(
   <span style="color: blue; font-weight: normal; font-style: normal;">final </span>unit=&quot;K&quot;,
   <span style="color: blue; font-weight: normal; font-style: normal;">final </span>quantity=&quot;ThermodynamicTemperature&quot;) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
      haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Shade temperature&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient"
>Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvectionCoefficient</a>
    conCoeGla(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for the inside convective heat transfer coefficient of the glass&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadeConvection"
>BaseClasses.ShadeConvection</a> conSha(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>thisSideHasShade=thisSideHasShade) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convection model for shade&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection"
>BaseClasses.InteriorConvection</a> conFra(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AFra,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>conMod=conMod,
    hFixed=hFixed) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Convective heat transfer between air and frame&quot;</span>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.InteriorConvection"
>BaseClasses.InteriorConvection</a> conWinUns(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>conMod=conMod,
    hFixed=hFixed) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Convection from unshaded part of window to outside or room air&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conCoeGla.GCon, proSha.u1);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conSha.glass, glaSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(proSha.y, conSha.Gc);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conSha.TSha, TSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(QRadAbs_flow, conSha.QRadAbs_flow);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conFra.fluid, air);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(air, conSha.air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conFra.fluid, air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conWinUns.fluid, air);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns,conWinUns. solid);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(conFra.solid, frame);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.yCom, conWinUns.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.yCom, conFra.u);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>InteriorHeatTransferConvective;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Overhang<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Windows.OverhangI.png" alt="Buildings.HeatTransfer.Windows.Overhang" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.Overhang"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.Overhang</h2>
<p>
<b>For a window with an overhang, outputs the fraction of the window area exposed to the sun</b>
<br>
<br><img src="Buildings.HeatTransfer.Windows.OverhangD.png" alt="Buildings.HeatTransfer.Windows.Overhang">
</p>
<h3>Information</h3>

<p>
For a window with an overhang, this model outputs the fraction of
the area that is exposed to the sun.
The models can also be used for doors with an overhang.
</p>
<p>
The overhang can be asymmetrical (i.e. wR &ne; wL is allowed)
about the vertical centerline of the window. However, the
overhang must completely cover the window,
i.e., <code>wL &ge; 0</code> and <code>wR &ge; 0</code>.
<code>wL</code> and <code>wR</code> must be measured from the respective corner
of the window.
</p>
<p>
The figure below shows the parameters.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/Overhang.png" />
</p>

<p>
The surface azimuth <code>azi</code> is as defined in
<a href="Buildings_Types_Azimuth.html#Buildings.Types.Azimuth"
>
Buildings.Types.Azimuth</a>.
</p>

<h4>Limitations</h4>
<p>
The model assumes that</p>
<ul>
<li>
the overhang is at least as wide as the window, i.e.,
<i>w<sub>L</sub> &ge; 0</i> and
<i>w<sub>R</sub> &ge; 0</i>, and
</li>
<li>
the overhang is horizontal.
</li>
</ul>

<h4>Implementation</h4>
<p>
The implementation is explained in
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>
Buildings.HeatTransfer.Windows.BaseClasses.Overhang</a>.
</p>

<p>Extends from <a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</a> (Record for window overhang), <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</a> (Partial model to implement overhang and side fins with weather bus connector).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>lat</td><td>&nbsp;</td><td>Latitude [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>azi</td><td>&nbsp;</td><td>Surface azimuth; azi= -90 degree East; azi= 0 South [rad]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Overhang</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wL</td><td>&nbsp;</td><td>Overhang width left to the window, measured from the window corner [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wR</td><td>&nbsp;</td><td>Overhang width right to the window, measured from the window corner [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dep</td><td>&nbsp;</td><td>Overhang depth (measured perpendicular to the wall plane) [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>gap</td><td>&nbsp;</td><td>Distance between window upper edge and overhang lower edge [m]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Window</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>hWin</td><td>&nbsp;</td><td>Window height [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wWin</td><td>&nbsp;</td><td>Window width [m]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Solar incidence angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDirTilUns</td><td>Direct solar irradiation on tilted, unshaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HDirTil</td><td>Direct solar irradiation on tilted, shaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of the area that is unshaded [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Overhang <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;For a window with an overhang, outputs the fraction of the window area exposed to the sun&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.Overhang"
>Buildings.Rooms.BaseClasses.Overhang</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> lat(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Latitude&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> azi(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface azimuth; azi= -90 degree East; azi= 0 South&quot;</span>;
  <span style="color: #006400; font-weight: normal; font-style: normal;">// Overhang dimensions</span>
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.Overhang"
>Buildings.HeatTransfer.Windows.BaseClasses.Overhang</a> ove(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>lat=lat,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>azi=azi,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wR=wR,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wL=wL,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dep=dep,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>gap=gap,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>hWin=hWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wWin=wWin) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window overhang&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ove.fraSun, fraSun);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(walSolAzi.verAzi, ove.verAzi);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ove.fraSun, product.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus, ove.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, ove.alt);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Overhang;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SideFins<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Windows.SideFinsI.png" alt="Buildings.HeatTransfer.Windows.SideFins" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.SideFins"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.SideFins</h2>
<p>
<b>For a window with side fins, outputs the fraction of the window area exposed to the sun</b>
<br>
<br><img src="Buildings.HeatTransfer.Windows.SideFinsD.png" alt="Buildings.HeatTransfer.Windows.SideFins">
</p>
<h3>Information</h3>

<p>
For a window with side fins, this model outputs the fraction of
the area that is exposed to the sun.
The model calculates the fraction of the window area that is exposed to the sun.
The side fins are symmetrically placed above the vertical window centerline,
and its height must be equal or greater than the window height.
This models can also be used for doors with side fins.
The figure below shows the parameters. The parameter <code>h</code> is measured
from the top of the window to the top of the side fins.
Side fins are assumed to extend at least to the lower edge of the window.
(Any portion of the side fin below the window edge does not cast
as shadow on the window anyway.)
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/SideFins.png" />
</p>
<p>
The parameter <code>h</code> is measured
from the top of the window to the top of the side fins.
The side fin must extend at least to the bottom of the window.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/HeatTransfer/Windows/WindowSideFinsExtendedSideFin.png" />
</p>
<h4>Limitations</h4>
The model assumes that
<ul>
<li>
the side fins are placed symmetrically to the left and right of the window,
</li>
<li>
the top of the side fins must be at an equal or greater height than the window, and
</li>
<li>
the bottom of the side fins must be at an equal or lower height than the
bottom of the window.
</li>
</ul>

<h4>Implementation</h4>
<p>
The detailed calculation method is explained in
<a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>
Buildings.HeatTransfer.Windows.BaseClasses.SideFins</a>.
</p>

<p>Extends from <a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</a> (Record for window side fins), <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</a> (Partial model to implement overhang and side fins with weather bus connector).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Side fin</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>h</td><td>&nbsp;</td><td>Height of side fin that extends above window, measured from top of window [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dep</td><td>&nbsp;</td><td>Side fin depth (measured perpendicular to the wall plane) [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>gap</td><td>&nbsp;</td><td>Distance between side fin and window edge [m]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Window</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>hWin</td><td>&nbsp;</td><td>Window height [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>wWin</td><td>&nbsp;</td><td>Window width [m]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>incAng</td><td>Solar incidence angle [rad]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>HDirTilUns</td><td>Direct solar irradiation on tilted, unshaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HDirTil</td><td>Direct solar irradiation on tilted, shaded surface [W/m2]</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>fraSun</td><td>Fraction of the area that is unshaded [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SideFins <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;For a window with side fins, outputs the fraction of the window area exposed to the sun&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Rooms_BaseClasses.html#Buildings.Rooms.BaseClasses.SideFins"
>Buildings.Rooms.BaseClasses.SideFins</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus"
>Buildings.HeatTransfer.Windows.BaseClasses.PartialShade_weatherBus</a>;
  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.SideFins"
>Buildings.HeatTransfer.Windows.BaseClasses.SideFins</a> fin(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dep=dep,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>h=h,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>gap=gap,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>hWin=hWin,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>wWin=wWin) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Window side fins&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(fin.fraSun, fraSun);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(walSolAzi.verAzi, fin.verAzi);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.solAlt, fin.alt);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(fin.fraSun, product.u2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SideFins;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Window<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.HeatTransfer.Windows.WindowI.png" alt="Buildings.HeatTransfer.Windows.Window" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.HeatTransfer.Windows.Window"></a><a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows"
>Buildings.HeatTransfer.Windows</a>.Window</h2>
<p>
<b>Model for a window</b>
<br>
<br><img src="Buildings.HeatTransfer.Windows.WindowD.png" alt="Buildings.HeatTransfer.Windows.Window">
</p>
<h3>Information</h3>

<h4>Overview</h4>
<p>
This is a model for a window system. The equations are similar to the
equations used in the Window 5 model and described in TARCOG 2006.
The model computes
the heat balance from the exterior surface to
the room-facing surface for a window system.
The window system can have
an exterior or an interior shade, but not both, or it can
have no shade.
The convective heat transfer between the window system and the outside air
or the room is <em>not</em> computed by this model.
They can be computed using the models
<a href="Buildings_HeatTransfer_Windows.html#Buildings.HeatTransfer.Windows.ExteriorHeatTransfer"
>
Buildings.HeatTransfer.Windows.ExteriorHeatTransfer</a>
and
<a href="modelica://Buildings.HeatTransfer.Windows.InteriorHeatTransfer">
Buildings.HeatTransfer.Windows.InteriorHeatTransfer</a>.
</p>

<h4>Limitations</h4>
<p>
To calculate the angular transmittance, reflectance and absorptance of a glazing system, Window 5 model first calculates the value for each wave length, then calculate the weighted value over entire wave lengths.
Current window model in Buildings library only uses the weighted value of each glass.
As a result, there are some differences in prediciton between the current Modelica window model and WINDOW 5.
The difference is small for single layer window or multi-layer window with the same glasses.
But it can be large for multi-layer window with different glasses.
</p>

<h4>Parameters</h4>
<p>
This model takes as the parameter <code>glaSys</code> a data record
from the package
<a href="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems"
>
Buildings.HeatTransfer.Data.GlazingSystems</a>.
This data record specifies the properties of the glasses,
the gas fills, the frame and of
the shades, if any shade is present.
Whether a shade is present or not is determined by the parameters
<code>glaSys.haveExteriorShade</code> and
<code>glaSys.haveInteriorShade</code>.
</p>
<p>
The parameter <code>linearize</code> can be used
to linearize the model equations.
</p>
<h4>Ports</h4>
<p>
If a shade is present, then the input port <code>u</code> is used
to determine the
shade position. Set <code>u=0</code> to have the window in the
unshaded mode,
and set <code>u=1</code> to have the window shade completely deployed.
Any intermediate value is possible.
If no shade is present, then this port will be removed.
</p>
<p>
For the heat ports, the suffix <code>_a</code> is used for the exterior, outside-facing side
of the window, and the suffix <code>_b</code> is used for the interior, room-facing surface
of the window.
Each side has heat ports that connect to the glass, to the frame, and, optionally, to the
shade. If no shade is present, then the heat port to the shade will be removed.
</p>

<h4>Description of the Physics</h4>
<p>
The model has three main submodels that implement the relevant
heat balances:</p>
<ol>
<li>
The model <code>frame</code> computes heat conduction
through the frame.
</li>
<li>
The model <code>glaUns</code> computes the heat balance of the part of the
window that is unshaded. For example, if <code>u=0.2</code>, then this model accounts for
the 80% of the window that is not behind the shade or blind.
</li>
<li>
The model <code>glaSha</code> computes the heat balance of the part of the
window that is shaded. For example, if <code>u=0.2</code>, then this model accounts for
the 20% of the window that is behind the shade or blind.
If the parameter <code>glaSys</code> specifies that the window has no exterior
and no interior shade, then the model <code>glaSha</code> will be removed.
</li>
</ol>

<p>
The models <code>glaUns</code> and <code>glaSha</code>
compute the solar radiation that is absorbed by each
glass pane and the solar radiation that is transitted
through the window as a function of the solar incidence angle.
They then compute a heat balance that takes into account heat conduction through the glass,
heat convection through the gas layer,
and infrared radiation from the exterior and the room through the glass and gas layers.
The infrared radiative heat exchange is computed using a radiosity balance.
Heat conduction through the frame is computed using a heat flow path that is parallel to the
glazing system, i.e., there is no heat exchange between the frame
and the glazing layer.
</p>

<h4>Validation</h4>
<p>
The window model has been validated by using measurement data at LBNL's Test Cell 71T and by using
a comparative model validation with the WINDOW 6 program. These validations are described in Nouidui et al. (2012).
The window model has also been validated as part of the BESTEST validations that are implemented in
<a href="Buildings_Rooms_Validation_BESTEST.html#Buildings.Rooms.Validation.BESTEST"
>
Buildings.Rooms.Examples.BESTEST</a>.
</p>

<h4>References</h4>
<p>
TARCOG 2006: Carli, Inc., TARCOG: Mathematical models for calculation
of thermal performance of glazing systems with or without
shading devices, Technical Report, Oct. 17, 2006.
</p>

<p>
Thierry Stephane Nouidui, Michael Wetter, and Wangda Zuo.
<a href="../Resources/Images/HeatTransfer/Windows/2012-simBuild-windowValidation.pdf">
Validation of the window model of the Modelica Buildings library.</a>
<i>Proc. of the 5th SimBuild Conference</i>, Madison, WI, USA, August 2012.
</p>

<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Generic</a></td><td>glaSys</td><td>&nbsp;</td><td>Glazing system</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Heat transfer area [m2]</td></tr>
<tr><td>Real</td><td>fFra</td><td>0.1</td><td>Fraction of frame</td></tr>
<tr><td>Boolean</td><td>linearize</td><td>false</td><td>Set to true to linearize emissive power</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt [rad]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutUns_a</td><td>Outgoing radiosity that connects to unshaded part of glass at exterior side [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInUns_a</td><td>Incoming radiosity that connects to unshaded part of glass at exterior side [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutSha_a</td><td>Outgoing radiosity that connects to shaded part of glass at exterior side [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInSha_a</td><td>Incoming radiosity that connects to shaded part of glass at exterior side [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutUns_b</td><td>Outgoing radiosity that connects to unshaded part of glass at room-side [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInUns_b</td><td>Incoming radiosity that connects to unshaded part of glass at room-side [W]</td></tr>
<tr><td>output <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>RadiosityOutflow</a></td><td>JOutSha_b</td><td>Outgoing radiosity that connects to shaded part of glass at room-side [W]</td></tr>
<tr><td>input <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>RadiosityInflow</a></td><td>JInSha_b</td><td>Incoming radiosity that connects to shaded part of glass at room-side [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>glaUns_a</td><td>Heat port at unshaded glass of exterior-facing surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaUns_b</td><td>Heat port at unshaded glass of room-facing surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>glaSha_a</td><td>Heat port at shaded glass of exterior-facing surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>glaSha_b</td><td>Heat port at shaded glass of room-facing surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>fra_a</td><td>Heat port at frame of exterior-facing surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>HeatPort_b</a></td><td>fra_b</td><td>Heat port at frame of room-facing surface</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>uSha</td><td>Control signal for the shading device. 0: unshaded; 1: fully shaded (removed if no shade is present)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QAbsUns_flow[size(glaSys.glass, 1)]</td><td>Solar radiation absorbed by unshaded part of glass [W]</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>QAbsSha_flow[size(glaSys.glass, 1)]</td><td>Solar radiation absorbed by shaded part of glass [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Window <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for a window&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_HeatTransfer_Data_GlazingSystems.html#Buildings.HeatTransfer.Data.GlazingSystems.Generic"
>Buildings.HeatTransfer.Data.GlazingSystems.Generic</a> glaSys <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Glazing system&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Heat transfer area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real fFra(min=0, max=1)=0.1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Fraction of frame&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AFra = fFra*A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Frame area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> AGla = A-AFra <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Glass area&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean linearize=false <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Set to true to linearize emissive power&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> til(displayUnit=&quot;deg&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Surface tilt&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;

  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutUns_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to unshaded part of glass at exterior side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInUns_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to unshaded part of glass at exterior side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutSha_a <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to shaded part of glass at exterior side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInSha_a <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to shaded part of glass at exterior side&quot;</span>;

  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutUns_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to unshaded part of glass at room-side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInUns_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to unshaded part of glass at room-side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityOutflow"
>Interfaces.RadiosityOutflow</a> JOutSha_b <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outgoing radiosity that connects to shaded part of glass at room-side&quot;</span>;
  <a href="Buildings_HeatTransfer_Interfaces.html#Buildings.HeatTransfer.Interfaces.RadiosityInflow"
>Interfaces.RadiosityInflow</a> JInSha_b <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Incoming radiosity that connects to shaded part of glass at room-side&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"
>Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass</a> glaUns(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>glaSys=glaSys,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>linearize=linearize,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>homotopyInitialization=homotopyInitialization) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for unshaded center of glass&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass"
>Buildings.HeatTransfer.Windows.BaseClasses.CenterOfGlass</a> glaSha(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>glaSys=glaSys,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=AGla,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>linearize=linearize,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>homotopyInitialization=homotopyInitialization) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model for shaded center of glass&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalConductor"
>Modelica.Thermal.HeatTransfer.Components.ThermalConductor</a> frame(G=AFra*
        glaSys.UFra) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Thermal conductance of frame&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> glaUns_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at unshaded glass of exterior-facing surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glaUns_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at unshaded glass of room-facing surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> glaSha_a <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at shaded glass of exterior-facing surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> glaSha_b <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at shaded glass of room-facing surface&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a</a> fra_a <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at frame of exterior-facing surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b"
>Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_b</a> fra_b <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat port at frame of room-facing surface&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> uSha(min=0, max=1) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Control signal for the shading device. 0: unshaded; 1: fully shaded (removed if no shade is present)&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QAbsUns_flow[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(glaSys.glass, 1)](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>unit=&quot;W&quot;,
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=&quot;Power&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar radiation absorbed by unshaded part of glass&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> QAbsSha_flow[<span style="color: red; font-weight: normal; font-style: normal;">size</span>(glaSys.glass, 1)](
     <span style="color: blue; font-weight: normal; font-style: normal;">each </span>unit=&quot;W&quot;,
     <span style="color: blue; font-weight: normal; font-style: normal;">each </span>quantity=&quot;Power&quot;) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>haveShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Solar radiation absorbed by shaded part of glass&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean haveShade = glaSys.haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>glaSys.haveInteriorShade <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Parameter, equal to true if the window has a shade&quot;</span>;

  <a href="Buildings_HeatTransfer_Windows_BaseClasses.html#Buildings.HeatTransfer.Windows.BaseClasses.ShadingSignal"
>BaseClasses.ShadingSignal</a> shaSig(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>haveShade=glaSys.haveExteriorShade<span style="color: blue; font-weight: normal; font-style: normal;"> or </span>glaSys.haveInteriorShade) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Block to constrain the shading control signal to be strictly within (0, 1) if a shade is present&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(frame.port_a, fra_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(frame.port_b, fra_b);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns.glass_a, glaUns_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns.glass_b, glaUns_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.yCom, glaUns.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.y, glaSha.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaSig.u, uSha);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha.glass_a, glaSha_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha.glass_b, glaSha_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JInUns_a, glaUns.JIn_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns.JOut_a, JOutUns_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns.JOut_b, JOutUns_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JInUns_b, glaUns.JIn_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JInSha_a, glaSha.JIn_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha.JOut_a, JOutSha_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha.JOut_b, JOutSha_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(JInSha_b, glaSha.JIn_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaUns.QAbs_flow, QAbsUns_flow);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(glaSha.QAbs_flow,QAbsSha_flow);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Window;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:26:37 2015.
</address>
</body>
</html>
