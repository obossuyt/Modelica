<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Controls.Predictors.Validation</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that validate the load predictors&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Validation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Controls.Predictors.Validation"></a><a href="Buildings_Controls_Predictors.html#Buildings.Controls.Predictors"
>Buildings.Controls.Predictors</a>.Validation</h2>
<p>
<b>Collection of models that validate the load predictors</b><br>
</p>
<h3>Information</h3>

<p>
This package contains models that use the load predictor with
simple input data which may not be realistic, but for which the correct
output can be obtained through inspection.
The examples plot various outputs, which have been verified against these
exact outputs. These model outputs are stored as reference data to
allow continuous validation whenever models in the library change.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic9cda7d3375a3c116InputS.png" alt="Buildings.Controls.Predictors.Validation.ConstantInput" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInput"
>ConstantInput</a>
</td>
<td>Demand response client with constant input for actual power consumption</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic9cda7d3375a3c116InputS.png" alt="Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment"
>ConstantInputDayOfAdjustment</a>
</td>
<td>Demand response client with constant input for actual power consumption</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputS.png" alt="Buildings.Controls.Predictors.Validation.LinearInput" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.LinearInput"
>LinearInput</a>
</td>
<td>Demand response client with actual power consumption being linear in the temperature</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputS.png" alt="Buildings.Controls.Predictors.Validation.LinearInputDayOfAdjustment" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.LinearInputDayOfAdjustment"
>LinearInputDayOfAdjustment</a>
</td>
<td>Demand response client with constant input for actual power consumption</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputS.png" alt="Buildings.Controls.Predictors.Validation.SineInput" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInput"
>SineInput</a>
</td>
<td>Demand response client with sinusoidal input for actual power consumption</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputS.png" alt="Buildings.Controls.Predictors.Validation.SineInputDayOfAdjustment" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInputDayOfAdjustment"
>SineInputDayOfAdjustment</a>
</td>
<td>Demand response client with constant input for actual power consumption</td>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic533658ea2a6bdc0dassesS.png" alt="Buildings.Controls.Predictors.Validation.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.Controls.Predictors.Examples</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ConstantInput<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predic9cda7d3375a3c116InputI.png" alt="Buildings.Controls.Predictors.Validation.ConstantInput" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.ConstantInput"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.ConstantInput</h2>
<p>
<b>Demand response client with constant input for actual power consumption</b>
<br>
<br><img src="Buildings.Controls.Predic9cda7d3375a3c116InputD.png" alt="Buildings.Controls.Predictors.Validation.ConstantInput">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment"
>
Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment</a>,
except that this model does not use any day-of adjustment for the predicted load.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the day-of adjustment for a simple input scenario.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a> (Partial base class for simple test case of base load prediction).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ConstantInput <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with constant input for actual power consumption&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> PCon(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Measured power consumption&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> integrator <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Integrator to compute energy from power&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(PCon.y, integrator.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(integrator.y, baseLoad.ECon);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ConstantInput;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ConstantInputDayOfAdjustment<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predic9cda7d3375a3c116InputI.png" alt="Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.ConstantInputDayOfAdjustment</h2>
<p>
<b>Demand response client with constant input for actual power consumption</b>
<br>
<br><img src="Buildings.Controls.Predic9cda7d3375a3c116InputD.png" alt="Buildings.Controls.Predictors.Validation.ConstantInputDayOfAdjustment">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInput"
>
Buildings.Controls.Predictors.Validation.ConstantInput</a>,
except that the demand respond client is configured to use the day-of adjustment.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the baseline prediction model based on a simple input scenario.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInput"
>Buildings.Controls.Predictors.Validation.ConstantInput</a> (Demand response client with constant input for actual power consumption).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ConstantInputDayOfAdjustment <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with constant input for actual power consumption&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.ConstantInput"
>Buildings.Controls.Predictors.Validation.ConstantInput</a>(
     baseLoad(use_dayOfAdj=true));

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ConstantInputDayOfAdjustment;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LinearInput<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputI.png" alt="Buildings.Controls.Predictors.Validation.LinearInput" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.LinearInput"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.LinearInput</h2>
<p>
<b>Demand response client with actual power consumption being linear in the temperature</b>
<br>
<br><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputD.png" alt="Buildings.Controls.Predictors.Validation.LinearInput">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInput"
>
Buildings.Controls.Predictors.Validation.SineInput</a>,
except that the input <code>client.PCon</code> is linear in the temperature.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the baseline prediction model based on a simple input scenario.
Note that in the first day, no prediction is made as no historical data are available.
In the second day, the prediction differs from the actual (linearly increasing) consumption
because only one data point exists for the respective sampling interval, and hence the linear
regression is underdetermined.
In the third day, the prediction starts as correct because two data points exist for each
sampling interval. Later in the third day, there is again a prediction error as the second
day was an event day and hence no data was recorded once the event day signal has been
received and until midnight the same day.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a> (Partial base class for simple test case of base load prediction).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> LinearInput <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with actual power consumption being linear in the temperature&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a>
    (baseLoad(predictionModel=Buildings.Controls.Predictors.Types.PredictionModel.WeatherRegression));
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a>   TOut(
    y(unit=&quot;K&quot;, displayUnit=&quot;degC&quot;),
    offset=283.15,
    height=10,
    duration(displayUnit=&quot;h&quot;) = 61*24*3600) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Outside temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> POffSet(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Offset for power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> PCon(k2=0.2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Consumed power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math_UnitConversions.html#Modelica.Blocks.Math.UnitConversions.To_degC"
>Modelica.Blocks.Math.UnitConversions.To_degC</a> to_degC;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> err(k2=-1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Prediction error&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.Sampler"
>Modelica.Blocks.Discrete.Sampler</a> TSam(samplePeriod=tSample) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sampler to turn TOut into a piece-wise constant signal. This makes it easier to verify the results&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> integrator <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Integrator to compute energy from power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> TOutFut[nPre - 1](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>y=293.15) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
       nPre &gt; 1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Prediction of future outside temperatures&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(POffSet.y, PCon.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TOut.y, TSam.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TSam.y, baseLoad.TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(PCon.y, integrator.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(integrator.y, baseLoad.ECon);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(err.u2, PCon.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(to_degC.u, TSam.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(to_degC.y, PCon.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(baseLoad.PPre[1], err.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(baseLoad.TOutFut, TOutFut.y);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>LinearInput;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE LinearInputDayOfAdjustment<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputI.png" alt="Buildings.Controls.Predictors.Validation.LinearInputDayOfAdjustment" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.LinearInputDayOfAdjustment"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.LinearInputDayOfAdjustment</h2>
<p>
<b>Demand response client with constant input for actual power consumption</b>
<br>
<br><img src="Buildings.Controls.Predice4f58c0e94dc4f02InputD.png" alt="Buildings.Controls.Predictors.Validation.LinearInputDayOfAdjustment">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.LinearInput"
>
Buildings.Controls.Predictors.Validation.LinearInput</a>,
except that the demand respond client is configured to use the day-of adjustment.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the baseline prediction model based on a simple input scenario.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.LinearInput"
>Buildings.Controls.Predictors.Validation.LinearInput</a> (Demand response client with actual power consumption being linear in the temperature).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> LinearInputDayOfAdjustment <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with constant input for actual power consumption&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.LinearInput"
>Buildings.Controls.Predictors.Validation.LinearInput</a>(
     baseLoad(use_dayOfAdj=true));

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>LinearInputDayOfAdjustment;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SineInput<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputI.png" alt="Buildings.Controls.Predictors.Validation.SineInput" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.SineInput"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.SineInput</h2>
<p>
<b>Demand response client with sinusoidal input for actual power consumption</b>
<br>
<br><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputD.png" alt="Buildings.Controls.Predictors.Validation.SineInput">
</p>
<h3>Information</h3>

<p>
Model that demonstrates and tests the demand response model.
Input to the model is a sinusoidal consumed electrical power
which has been discretized using a sampler.
Because of this discretization and because of the periodicity
of the input signal, the baseline prediction model will be able to
predict the load exactly.
The baseline prediction model also takes as an input signal
the day type, and a demand response signal.
Every seventh day, there is a demand response signal.
</p>
<p>
After at least one initial working day and non-working days at
which no demand response is requested, the predicted power
<code>client.PPre</code> exactly matches the consumed power
<code>client.PCon</code>.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the baseline prediction model based on a simple input scenario.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a> (Partial base class for simple test case of base load prediction).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SineInput <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with sinusoidal input for actual power consumption&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation_BaseClasses.html#Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase"
>Buildings.Controls.Predictors.Validation.BaseClasses.PartialSimpleTestCase</a>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Cosine"
>Modelica.Blocks.Sources.Cosine</a> PBas(
    amplitude=0.5,
    offset=0.5,
    freqHz=1/tPeriod,
    phase=3.1415926535898) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Measured power consumption&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.Sampler"
>Modelica.Blocks.Discrete.Sampler</a> P(samplePeriod=tSample) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sampler to turn PCon into a piece-wise constant signal. This makes it easier to verify the results&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> integrator <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Integrator to compute energy from power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> realExpression(
    y=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>(dayType.y[1] == Buildings.Controls.Types.Day.WorkingDay)<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>0<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> PCon <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Consumed power&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(P.y, integrator.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(integrator.y, baseLoad.ECon);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(PCon.u2, PBas.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(realExpression.y, PCon.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(PCon.y, P.u);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SineInput;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SineInputDayOfAdjustment<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputI.png" alt="Buildings.Controls.Predictors.Validation.SineInputDayOfAdjustment" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Validation.SineInputDayOfAdjustment"></a><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation"
>Buildings.Controls.Predictors.Validation</a>.SineInputDayOfAdjustment</h2>
<p>
<b>Demand response client with constant input for actual power consumption</b>
<br>
<br><img src="Buildings.Controls.Predic7be9acfe6f2bcf74InputD.png" alt="Buildings.Controls.Predictors.Validation.SineInputDayOfAdjustment">
</p>
<h3>Information</h3>

<p>
This model is identical to
<a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInput"
>
Buildings.Controls.Predictors.Validation.SineInput</a>,
except that the demand respond client is configured to use the day-of adjustment.
</p>
<p>
This model has been added to the library to verify and demonstrate the correct implementation
of the baseline prediction model based on a simple input scenario.
</p>

<p>Extends from <a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInput"
>Buildings.Controls.Predictors.Validation.SineInput</a> (Demand response client with sinusoidal input for actual power consumption).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tPeriod</td><td>24*3600</td><td>Period [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tSample</td><td>3600</td><td>Sampling period [s]</td></tr>
<tr><td>Integer</td><td>nPre</td><td>12</td><td>Number of time steps to predict</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SineInputDayOfAdjustment <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Demand response client with constant input for actual power consumption&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Controls_Predictors_Validation.html#Buildings.Controls.Predictors.Validation.SineInput"
>Buildings.Controls.Predictors.Validation.SineInput</a>(
     baseLoad(use_dayOfAdj=true));
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SineInputDayOfAdjustment;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:22:35 2015.
</address>
</body>
</html>
