<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.Sources.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.Sources.Examples"></a><a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources"
>Buildings.Fluid.Sources</a>.Examples</h2>
<p>
<b>Collection of models that illustrate model use and test models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples for the use of models that can be found in
<a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources"
>
Buildings.Fluid.Sources</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sources.Examples.OutsideS.png" alt="Buildings.Fluid.Sources.Examples.Outside" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples.Outside"
>Outside</a>
</td>
<td>Test model for source and sink with outside weather data</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sources.Examples.OutsideS.png" alt="Buildings.Fluid.Sources.Examples.Outside_Cp" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples.Outside_Cp"
>Outside_Cp</a>
</td>
<td>Test model for source and sink with outside weather data and wind pressure</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sources.Examples.OutsideS.png" alt="Buildings.Fluid.Sources.Examples.Outside_CpLowRise" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples.Outside_CpLowRise"
>Outside_CpLowRise</a>
</td>
<td>Test model for source and sink with outside weather data and wind pressure</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sources.Examples.OutsideS.png" alt="Buildings.Fluid.Sources.Examples.TraceSubstancesFlowSource" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples.TraceSubstancesFlowSource"
>TraceSubstancesFlowSource</a>
</td>
<td>&nbsp;</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Outside<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sources.Examples.OutsideI.png" alt="Buildings.Fluid.Sources.Examples.Outside" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sources.Examples.Outside"></a><a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples"
>Buildings.Fluid.Sources.Examples</a>.Outside</h2>
<p>
<b>Test model for source and sink with outside weather data</b>
<br>
<br><img src="Buildings.Fluid.Sources.Examples.OutsideD.png" alt="Buildings.Fluid.Sources.Examples.Outside">
</p>
<h3>Information</h3>
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Outside <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for source and sink with outside weather data&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model for air&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside"
>Buildings.Fluid.Sources.Outside</a> bou(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, nPorts=
       1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</a> weaDat(filNam=
        &quot;modelica://Buildings/Resources/weatherdata/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.mos&quot;);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>MassFlowSource_T</a> sin(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, m_flow=-1,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Sensors.TemperatureTwoPort</a> senTem(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeHumidityTwoPort"
>Sensors.RelativeHumidityTwoPort</a> senRelHum(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      m_flow_nominal=1);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFractionTwoPort"
>Sensors.MassFractionTwoPort</a> senMasFra(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor for mass fraction of water&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, bou.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senTem.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senRelHum.port_a, bou.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senRelHum.port_b, senMasFra.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senMasFra.port_b, senTem.port_a);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Outside;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Outside_Cp<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sources.Examples.OutsideI.png" alt="Buildings.Fluid.Sources.Examples.Outside_Cp" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sources.Examples.Outside_Cp"></a><a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples"
>Buildings.Fluid.Sources.Examples</a>.Outside_Cp</h2>
<p>
<b>Test model for source and sink with outside weather data and wind pressure</b>
<br>
<br><img src="Buildings.Fluid.Sources.E959bd2734d68cee9de_CpD.png" alt="Buildings.Fluid.Sources.Examples.Outside_Cp">
</p>
<h3>Information</h3>

<p>
This model demonstrates the use of a source for ambient temperature, pressure and
species concentration.
The models <code>bou1</code> and <code>bou2</code> compute the ambient pressure
based on the weather file and the wind pressure.
The model <code>bou1</code> uses a parameter for the wind pressure coefficient,
whereas <code>bou2</code> uses the wind pressure coefficient from its input port.
The model <code>bouFix</code> does not compute any wind pressure.
Adding the wind pressure to the models on the left-hand side induces a mass flow
rate through the orifice models <code>ori1</code> and <code>ori2</code>.
Since both source models use the same constant wind pressure coefficient, the
mass flow rate through the orifice model is the same.
In more realistic applications, the constant source <code>Cp</code> would be
replaced by a model that computes a wind pressure coefficient that takes into
account the wind direction relative to the building.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Outside_Cp <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for source and sink with outside weather data and wind pressure&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model for air&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_Cp"
>Buildings.Fluid.Sources.Outside_Cp</a> bou1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    Cp=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</a> weaDat(
    filNam=&quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside"
>Buildings.Fluid.Sources.Outside</a> bouFix(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> Cp(k=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Constant value for Cp (used to demonstrate input connector)&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> ori1(A=0.1, <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Orifice&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_Cp"
>Buildings.Fluid.Sources.Outside_Cp</a> bou2(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    use_Cp_in=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_Airflow_Multizone.html#Buildings.Airflow.Multizone.Orifice"
>Buildings.Airflow.Multizone.Orifice</a> ori2(A=0.1, <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
        Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Orifice&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, bou1.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou1.ports[1], ori1.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ori1.port_b, bouFix.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, bouFix.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou2.Cp_in, Cp.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou2.ports[1], ori2.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ori2.port_b, bouFix.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, bou2.weaBus);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Outside_Cp;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Outside_CpLowRise<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sources.Examples.OutsideI.png" alt="Buildings.Fluid.Sources.Examples.Outside_CpLowRise" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sources.Examples.Outside_CpLowRise"></a><a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples"
>Buildings.Fluid.Sources.Examples</a>.Outside_CpLowRise</h2>
<p>
<b>Test model for source and sink with outside weather data and wind pressure</b>
<br>
<br><img src="Buildings.Fluid.Sources.Eaf429b76d61edd5cwRiseD.png" alt="Buildings.Fluid.Sources.Examples.Outside_CpLowRise">
</p>
<h3>Information</h3>

<p>
This model demonstrates the use of a source for ambient conditions that computes
the wind pressure on a facade of a low-rise building.
Weather data are used for San Francisco, for a period of a week
where the wind blows primarily from North-West.
The plot shows that the wind pressure on the north- and west-facing
facade is positive,
whereas it is negative for the south- and east-facing facades.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Outside_CpLowRise <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for source and sink with outside weather data and wind pressure&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model for air&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_CpLowRise"
>Buildings.Fluid.Sources.Outside_CpLowRise</a> west(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    s=5,
    azi=Buildings.Types.Azimuth.W,
    Cp0=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>Buildings.BoundaryConditions.WeatherData.ReaderTMY3</a> weaDat(
    filNam=&quot;modelica://Buildings/Resources/weatherdata/USA_CA_San.Francisco.Intl.AP.724940_TMY3.mos&quot;);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_CpLowRise"
>Buildings.Fluid.Sources.Outside_CpLowRise</a> north(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    s=1/5,
    azi=Buildings.Types.Azimuth.N,
    Cp0=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_CpLowRise"
>Buildings.Fluid.Sources.Outside_CpLowRise</a> south(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    s=1/5,
    azi=Buildings.Types.Azimuth.S,
    Cp0=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside_CpLowRise"
>Buildings.Fluid.Sources.Outside_CpLowRise</a> east(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    s=5,
    azi=Buildings.Types.Azimuth.E,
    Cp0=0.6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model with outside conditions&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, west.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, north.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, south.weaBus);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaDat.weaBus, east.weaBus);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Outside_CpLowRise;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TraceSubstancesFlowSource<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sources.Examples.OutsideI.png" alt="Buildings.Fluid.Sources.Examples.TraceSubstancesFlowSource" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sources.Examples.TraceSubstancesFlowSource"></a><a href="Buildings_Fluid_Sources_Examples.html#Buildings.Fluid.Sources.Examples"
>Buildings.Fluid.Sources.Examples</a>.TraceSubstancesFlowSource</h2>
<p>
<br><img src="Buildings.Fluid.Sources.Ed59c8389f955f90eourceD.png" alt="Buildings.Fluid.Sources.Examples.TraceSubstancesFlowSource">
</p>
<h3>Information</h3>

This model demonstrates the use of trace substances that are added
to a volume of air.
The source is a step function of <i>2</i> kg/s CO<sub>2</sub> from <i>t=0</i> second
to <i>t=0.5</i> second.
The sensors <code>C</code> and <code>C1</code> measure the same concentration that initially increases
and then remains constant as there is no flow through the volumes <code>vol</code> and <code>vol1</code>.
The sensors
<code>C2</code> and
<code>C3</code> first meaure an increase in concentration, which then decays to zero
as there is a mass flow rate with zero CO<sub>2</sub> from the source <code>bou</code> to the sink <code>sin</code>.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TraceSubstancesFlowSource
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>(extraPropertiesNames={&quot;CO2&quot;});

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=100,
    m_flow_nominal=1,
    nPorts=3,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Sources.TraceSubstancesFlowSource</a> sou(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      use_m_flow_in=true,
    nPorts=1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Step"
>Modelica.Blocks.Sources.Step</a> step(          startTime=0.5,
    height=-2,
    offset=2);
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=100,
    m_flow_nominal=1,
    nPorts=3,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Sources.TraceSubstancesFlowSource</a> sou1(
                                      <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      use_m_flow_in=true);
  <a href="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</a> assEqu(threShold=1E-4) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Assert that both volumes have the same concentration&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol2(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    p_start=Medium.p_default,
    V=100,
    m_flow_nominal=1,
    nPorts=3,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol3(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    p_start=Medium.p_default,
    V=100,
    m_flow_nominal=1,
    nPorts=3,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</a> assEqu1(
                                                     threShold=1E-4) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Assert that both volumes have the same concentration&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol4(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=4,
    p_start=Medium.p_default,
    V=100,
    m_flow_nominal=1,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Sources.TraceSubstancesFlowSource</a> sou2(
                                      <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
      use_m_flow_in=true);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> bou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    p=101325,
    nPorts=1,
    T=293.15);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=2,
    p=101320,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sink boundary conditions&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res2(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res3(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Sensors.TraceSubstances</a> C(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Trace substance sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Sensors.TraceSubstances</a> C1(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Trace substance sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Sensors.TraceSubstances</a> C2(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Trace substance sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Sensors.TraceSubstances</a> C3(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Trace substance sensor&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res4(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res6(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res5(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res7(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1,
    dp_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Resistance, used to check if species are transported between ports&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=2,
    p=101320,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sink boundary conditions&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res3.port_b, vol4.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res1.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res2.port_b, sin.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou.ports[1], res3.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou1.ports[1], res.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou2.ports[1], vol4.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(step.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(step.y, sou1.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(step.y, sou2.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(assEqu.u1, C.C);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(C1.C, assEqu.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(assEqu1.u1, C2.C);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(C3.C, assEqu1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], vol.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[2], C.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res.port_b, vol1.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol1.ports[2], C1.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol2.ports[1], res1.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol3.ports[1], res2.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(C2.port, vol2.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(C3.port, vol3.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol4.ports[3], res4.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol4.ports[4], res6.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res6.port_b, vol3.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res4.port_b, vol2.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[3], res5.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res5.port_b, sin1.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol1.ports[3], res7.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res7.port_b, sin1.ports[2]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TraceSubstancesFlowSource;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:26:08 2015.
</address>
</body>
</html>
