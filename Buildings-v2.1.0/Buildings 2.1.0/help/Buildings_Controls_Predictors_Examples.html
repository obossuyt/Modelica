<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Controls.Predictors.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Controls.Predictors.Examples"></a><a href="Buildings_Controls_Predictors.html#Buildings.Controls.Predictors"
>Buildings.Controls.Predictors</a>.Examples</h2>
<p>
<b>Collection of models that illustrate model use and test models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples models for load predictors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Controls.Predic5887f4b74c328d75STESTS.png" alt="Buildings.Controls.Predictors.Examples.BESTEST" width="20" height="20" align="top">&nbsp;<a href="Buildings_Controls_Predictors_Examples.html#Buildings.Controls.Predictors.Examples.BESTEST"
>BESTEST</a>
</td>
<td>This example applies the load prediction to a BESTEST model</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BESTEST<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Controls.Predic5887f4b74c328d75STESTI.png" alt="Buildings.Controls.Predictors.Examples.BESTEST" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Controls.Predictors.Examples.BESTEST"></a><a href="Buildings_Controls_Predictors_Examples.html#Buildings.Controls.Predictors.Examples"
>Buildings.Controls.Predictors.Examples</a>.BESTEST</h2>
<p>
<b>This example applies the load prediction to a BESTEST model</b>
<br>
<br><img src="Buildings.Controls.Predic5887f4b74c328d75STESTD.png" alt="Buildings.Controls.Predictors.Examples.BESTEST">
</p>
<h3>Information</h3>

<p>
This example applies the load prediction to the heating load of
BESTEST case 600.
On the right hand side of the model is the load prediction.
It is configured to compute a regression based on the outdoor temperature.
The output of the load prediction is compared with the actual
heating power. This comparison is done in the block
<code>preErr</code> which outputs the prediction error,
normalized by the roughly the maximum heating power.
</p>
<p>
The figure below shows the predicted and simulated heating power, and the
normalized prediction error.
</p>
<p align="center">
<img alt="Result comparison"
  src="../Resources/Images/Controls/Predictors/Examples/BESTEST.png" border="1" />
</p>

<p>Extends from <a href="Buildings_Rooms_Validation_BESTEST.html#Buildings.Rooms.Validation.BESTEST.Case600"
>Buildings.Rooms.Validation.BESTEST.Case600</a> (Case 600FF, but with dual-setpoint for heating and cooling).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>S_</td><td>Buildings.Types.Azimuth.S</td><td>Azimuth for south walls [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>E_</td><td>Buildings.Types.Azimuth.E</td><td>Azimuth for east walls [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>W_</td><td>Buildings.Types.Azimuth.W</td><td>Azimuth for west walls [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>N_</td><td>Buildings.Types.Azimuth.N</td><td>Azimuth for north walls [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>C_</td><td>Buildings.Types.Tilt.Ceiling</td><td>Tilt for ceiling [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>F_</td><td>Buildings.Types.Tilt.Floor</td><td>Tilt for floor [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>Z_</td><td>Buildings.Types.Tilt.Wall</td><td>Tilt for wall [rad]</td></tr>
<tr><td>Integer</td><td>nConExtWin</td><td>1</td><td>Number of constructions with a window</td></tr>
<tr><td>Integer</td><td>nConBou</td><td>1</td><td>Number of surface that are connected to constructions that are modeled inside the room</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</a></td><td>matExtWal</td><td>&nbsp;</td><td>Exterior wall</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</a></td><td>matFlo</td><td>&nbsp;</td><td>Floor</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_Solids.html#Buildings.HeatTransfer.Data.Solids.Generic"
>Generic</a></td><td>soil</td><td>&nbsp;</td><td>Soil properties</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</a></td><td>roof</td><td>&nbsp;</td><td>Roof</td></tr>
<tr><td><a href="Buildings_Rooms_Validation_BESTEST_Data.html#Buildings.Rooms.Validation.BESTEST.Data.StandardResults"
>StandardResults</a></td><td>staRes</td><td>redeclare Buildings.Rooms.Va...</td><td>Reference results from ASHRAE/ANSI Standard 140</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> BESTEST <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;This example applies the load prediction to a BESTEST model&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Rooms_Validation_BESTEST.html#Buildings.Rooms.Validation.BESTEST.Case600"
>Buildings.Rooms.Validation.BESTEST.Case600</a>;
  <a href="Buildings_Controls_Predictors.html#Buildings.Controls.Predictors.ElectricalLoad"
>ElectricalLoad</a> preReg(predictionModel=Buildings.Controls.Predictors.Types.PredictionModel.WeatherRegression) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Load prediction based on regression&quot;</span>;
  <a href="Buildings_Controls_Sources.html#Buildings.Controls.Sources.DayType"
>Sources.DayType</a> dayType(days={Buildings.Controls.Types.Day.WorkingDay}) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Day type, set to use always the same day as BESTEST case 600 has no weekly schedule&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>Modelica.Blocks.Sources.BooleanConstant</a> storeResults <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Boolean signal to store the results for the regression&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> preErr(k1=1/4000, k2=-1/4000) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Prediction error, normalized by peak power&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dayType.y, preReg.typeOfDay);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(storeResults.y, preReg.storeHistory);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(EHea.y, preReg.ECon);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.TDryBul, preReg.TOut);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preErr.u2, gaiHea.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(preErr.u1, preReg.PPre[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>BESTEST;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:22:33 2015.
</address>
</body>
</html>
