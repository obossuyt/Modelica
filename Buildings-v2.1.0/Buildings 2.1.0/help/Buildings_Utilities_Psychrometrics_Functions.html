<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Utilities.Psychrometrics.Functions</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with psychrometric functions&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Functions<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.Psychrometrics.Functions"></a><a href="Buildings_Utilities_Psychrometrics.html#Buildings.Utilities.Psychrometrics"
>Buildings.Utilities.Psychrometrics</a>.Functions</h2>
<p>
<b>Package with psychrometric functions</b><br>
</p>
<h3>Information</h3>

<p>
This package contains functions for psychrometric calculations.
</p>

The nomenclature used in this package is described at
<a href="Buildings_UsersGuide.html#Buildings.UsersGuide.Conventions"
>
Buildings.UsersGuide.Conventions</a>.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</a> (Icon for standard packages).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych6d8dc5d419cae232ernalS.png" alt="Buildings.Utilities.Psychrometrics.Functions.Internal" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions_Internal.html#Buildings.Utilities.Psychrometrics.Functions.Internal"
>Internal</a>
</td>
<td>Solve f(x, data) for x with given f</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW"
>TDewPoi_pW</a>
</td>
<td>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW_amb" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW_amb"
>TDewPoi_pW_amb</a>
</td>
<td>Function to compute the dew point temperature of moist air for a given water vapor partial pressure</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi"
>X_pSatpphi</a>
</td>
<td>Humidity ratio for given water vapor pressure</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.X_pW" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.X_pW"
>X_pW</a>
</td>
<td>Humidity ratio for given water vapor pressure</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.density_pTX" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.density_pTX"
>density_pTX</a>
</td>
<td>Density of air as a function of pressure, temperature and species concentration</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi"
>pW_TDewPoi</a>
</td>
<td>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi_amb" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi_amb"
>pW_TDewPoi_amb</a>
</td>
<td>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_X" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.pW_X"
>pW_X</a>
</td>
<td>Water vapor pressure for given humidity ratio</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.phi_pTX" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.phi_pTX"
>phi_pTX</a>
</td>
<td>Relative humidity for given pressure, dry bulb temperature and moisture mass fraction</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.saturationPressure" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.saturationPressure"
>saturationPressure</a>
</td>
<td>Saturation curve valid for 223.16 &lt;= T &lt;= 373.16 (and slightly outside with less accuracy)</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.saturationPressureLiquid" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.saturationPressureLiquid"
>saturationPressureLiquid</a>
</td>
<td>Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWS.png" alt="Buildings.Utilities.Psychrometrics.Functions.sublimationPressureIce" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.sublimationPressureIce"
>sublimationPressureIce</a>
</td>
<td>Return sublimation pressure of water as a function of temperature T between 190 and 273.16 K</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych8047d5ecb34beac8mplesS.png" alt="Buildings.Utilities.Psychrometrics.Functions.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions_Examples.html#Buildings.Utilities.Psychrometrics.Functions.Examples"
>Examples</a>
</td>
<td>Collection of models that illustrate model use and test models</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.Psych71f338c2383aab3aassesS.png" alt="Buildings.Utilities.Psychrometrics.Functions.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.Utilities.Psychrometrics.Functions</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TDewPoi_pW<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.TDewPoi_pW</h2>
<p>
<b>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</b>
</p>
<h3>Information</h3>

<p>
Dew point temperature calculation for moist air above freezing temperature.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between
<i>0</i>&deg;C and <i>200</i>&deg;C. It is the correlation from 2005
ASHRAE Handbook, p. 6.2. In an earlier version of this model, the equation from
Peppers has been used, but this equation yielded about <i>15</i> Kelvin lower dew point
temperatures.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>&nbsp;</td><td>Water vapor partial pressure [Pa]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>Dew point temperature [K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> TDewPoi_pW <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Function to compute the water vapor partial pressure for a given dew point temperature of moist air&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;, min=200) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor partial pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dew point temperature&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data"
>Modelica.Media.Common.OneNonLinearEquation.f_nonlinear_Data</a> dummy <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Dummy argument for nonlinear function solver&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  T :=<span style="color: red; font-weight: normal; font-style: normal;"> Internal.solve</span>(
    y_zero=p_w,
    x_min=200,
    x_max=400,
    f_nonlinear_data=  dummy);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TDewPoi_pW;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TDewPoi_pW_amb<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW_amb" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.TDewPoi_pW_amb"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.TDewPoi_pW_amb</h2>
<p>
<b>Function to compute the dew point temperature of moist air for a given water vapor partial pressure</b>
</p>
<h3>Information</h3>

<p>
Dew point temperature calculation for moist air between <i>0</i>&deg;C and <i>30</i>&deg;C
with partial pressure of water vapor as an input.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between
<i>0</i>&deg;C and <i>30</i>&deg;C. It is an approximation to the correlation from 2005
ASHRAE Handbook, p. 6.2, which is valid in a wider range of temperatures and implemented
in
<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi"
>
Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi</a>.
The approximation error of this simplified function is below 5% for a
temperature of <i>0</i>&deg;C to <i>30</i>&deg;C.
The benefit of this simpler function is that it can be inverted analytically,
whereas the other function requires a numerical solution.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>&nbsp;</td><td>Water vapor partial pressure [Pa]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>Dew point temperature [K]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> TDewPoi_pW_amb <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Function to compute the dew point temperature of moist air for a given water vapor partial pressure&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_TDewPoi_pW_amb"
>BaseClasses.der_TDewPoi_pW_amb</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;, min=100) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor partial pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dew point temperature&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T1=283.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;First support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T2=293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Second support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p1=1227.97 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;First support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p2=2338.76 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Second support point&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real a1=(<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(p2) -<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Math.log</span>(p1)*T2/T1)/(1 -
      T2/T1);
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real a2(unit=&quot;1/K&quot;)=(<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(p1) - a1)/T1;

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  T := (<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(p_w) - a1)/a2;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TDewPoi_pW_amb;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE X_pSatpphi<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.X_pSatpphi"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.X_pSatpphi</h2>
<p>
<b>Humidity ratio for given water vapor pressure</b>
</p>
<h3>Information</h3>

<p>
Function to compute the water vapor concentration based on
saturation pressure, absolute pressure and relative humidity.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pSat</td><td>&nbsp;</td><td>Saturation pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p</td><td>&nbsp;</td><td>Pressure of the fluid [Pa]</td></tr>
<tr><td>Real</td><td>phi</td><td>&nbsp;</td><td>Relative humidity</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</a></td><td>X_w</td><td>Water vapor concentration per total mass of air [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> X_pSatpphi <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Humidity ratio for given water vapor pressure&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pSat <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pressure of the fluid&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real phi(min=0, max=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Relative humidity&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> X_w(
    min=0,
    max=1,
    nominal=0.01) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Water vapor concentration per total mass of air&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real k = 0.621964713077499 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Ratio of molar masses&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  X_w := phi*k/(k*phi+p/pSat-phi);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>X_pSatpphi;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE X_pW<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.X_pW" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.X_pW"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.X_pW</h2>
<p>
<b>Humidity ratio for given water vapor pressure</b>
</p>
<h3>Information</h3>

<p>
Function to compute the humidity ratio for a given water vapor partial pressure.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>&nbsp;</td><td>Water vapor pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p</td><td>101325</td><td>Total pressure [Pa]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</a></td><td>X_w</td><td>Species concentration at dry bulb temperature [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> X_pW <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Humidity ratio for given water vapor pressure&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;,
                                      min=0.003,
                                      nominal=1000) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Water vapor pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p=101325 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Total pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> X_w(
    min=0,
    max=1,
    nominal=0.01) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Species concentration at dry bulb temperature&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> x_w(nominal=0.01) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water mass fraction per mass of dry air&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  x_w := 0.62198*p_w/(p - p_w);
  X_w := x_w/(1 + x_w);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>X_pW;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE density_pTX<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.density_pTX" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.density_pTX"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.density_pTX</h2>
<p>
<b>Density of air as a function of pressure, temperature and species concentration</b>
</p>
<h3>Information</h3>

<p>
Function to compute the density of moist air for given
pressure, temperature and water vapor mass fraction.
</p>
<p>
Note that the water vapor mass fraction is in <i>kg/kg</i>
total air.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p</td><td>&nbsp;</td><td>Absolute pressure of the medium [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>&nbsp;</td><td>Dry bulb temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</a></td><td>X_w</td><td>&nbsp;</td><td>Water vapor mass fraction per unit mass total air [1]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</a></td><td>d</td><td>Mass density [kg/m3]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> density_pTX <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Density of air as a function of pressure, temperature and species concentration&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Absolute pressure of the medium&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dry bulb temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> X_w <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor mass fraction per unit mass total air&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</a> d <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass density&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</a> R <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Gas constant (of mixture if applicable)&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  R := Modelica.Media.IdealGases.Common.SingleGasesData.Air.R*(1 - X_w)
     + Modelica.Media.IdealGases.Common.SingleGasesData.H2O.R*X_w;
  d := p/(R*T);

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>density_pTX;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE pW_TDewPoi<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.pW_TDewPoi</h2>
<p>
<b>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</b>
</p>
<h3>Information</h3>

<p>
Dew point temperature calculation for moist air above freezing temperature.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between
<i>0</i>&deg;C and <i>200</i>&deg;C. It is the correlation from 2005
ASHRAE Handbook, p. 6.2. In an earlier version of this model, the equation from
Peppers has been used, but this equation yielded about <i>15</i> Kelvin lower dew point
temperatures.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>&nbsp;</td><td>Dew point temperature [K]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>Water vapor partial pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> pW_TDewPoi <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Function to compute the water vapor partial pressure for a given dew point temperature of moist air&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_pW_TDewPoi"
>BaseClasses.der_pW_TDewPoi</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T(min=100) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dew point temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;, min=100) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor partial pressure&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C8=-5.800226E3;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C9=1.3914993E0;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C10=-4.8640239E-2;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C11=4.1764768E-5;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C12=-1.4452093E-8;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real C13=6.5459673E0;

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  p_w :=<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Math.exp</span>(C8/T + C9 + T*(C10 + T*(C11 + T*C12)) + C13*
    <span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(T));
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>pW_TDewPoi;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE pW_TDewPoi_amb<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi_amb" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi_amb"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.pW_TDewPoi_amb</h2>
<p>
<b>Function to compute the water vapor partial pressure for a given dew point temperature of moist air</b>
</p>
<h3>Information</h3>

<p>
Dew point temperature calculation for moist air between <i>0 degC</i> and <i>30 degC</i>.
</p>
<p>
The correlation used in this model is valid for dew point temperatures between
<i>0</i>&deg;C and <i>30</i>&deg;C. It is an approximation to the correlation from 2005
ASHRAE Handbook, p. 6.2, which is valid in a wider range of temperatures and implemented
in
<a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi"
>
Buildings.Utilities.Psychrometrics.Functions.pW_TDewPoi</a>.
The approximation error of this simplified function is below 5% for a
temperature of <i>0</i>&deg;C to <i>30</i>&deg;C.
The benefit of this simpler function is that it can be inverted analytically,
whereas the other function requires a numerical solution.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>&nbsp;</td><td>Dew point temperature [K]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>Water vapor partial pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> pW_TDewPoi_amb <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Function to compute the water vapor partial pressure for a given dew point temperature of moist air&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_pW_TDewPoi_amb"
>BaseClasses.der_pW_TDewPoi_amb</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dew point temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;, min=100) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor partial pressure&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T1=283.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;First support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T2=293.15 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Second support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p1=1227.97 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;First support point&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p2=2338.76 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Second support point&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real a1=(<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(p2) -<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Math.log</span>(p1)*T2/T1)/(1 -
      T2/T1);
  <span style="color: blue; font-weight: normal; font-style: normal;">constant </span>Real a2(unit=&quot;1/K&quot;)=(<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(p1) - a1)/T1;

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  p_w :=<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Math.exp</span>(a1 + a2*T);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>pW_TDewPoi_amb;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE pW_X<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.pW_X" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.pW_X"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.pW_X</h2>
<p>
<b>Water vapor pressure for given humidity ratio</b>
</p>
<h3>Information</h3>

<p>
Function to compute the water vapor partial pressure for a given humidity ratio.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</a></td><td>X_w</td><td>&nbsp;</td><td>Species concentration at dry bulb temperature [1]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p</td><td>101325</td><td>Total pressure [Pa]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p_w</td><td>Water vapor pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> pW_X <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Water vapor pressure for given humidity ratio&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_pW_X"
>BaseClasses.der_pW_X</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> X_w(
    min=0,
    max=0.99999,
    nominal=0.01) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Species concentration at dry bulb temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p=101325 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Total pressure&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p_w(displayUnit=&quot;Pa&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Water vapor pressure&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> x_w(nominal=0.01) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water mass fraction per mass of dry air&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  x_w := X_w/(1 - X_w);
  p_w := p*x_w/(0.62198 + x_w);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>pW_X;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE phi_pTX<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.phi_pTX" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.phi_pTX"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.phi_pTX</h2>
<p>
<b>Relative humidity for given pressure, dry bulb temperature and moisture mass fraction</b>
</p>
<h3>Information</h3>

<p>
Relative humidity of air for given
pressure, temperature and water vapor mass fraction.
</p>
<p>
Note that the water vapor mass fraction must be in <i>kg/kg</i>
total air, and not dry air.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>p</td><td>&nbsp;</td><td>Absolute pressure of the medium [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T</td><td>&nbsp;</td><td>Dry bulb temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</a></td><td>X_w</td><td>&nbsp;</td><td>Water vapor mass fraction per unit mass total air [1]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Real</td><td>phi</td><td>Relative humidity [1]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> phi_pTX <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Relative humidity for given pressure, dry bulb temperature and moisture mass fraction&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> p <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Absolute pressure of the medium&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dry bulb temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> X_w <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Water vapor mass fraction per unit mass total air&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real phi(unit=&quot;1&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Relative humidity&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  phi :=p/<span style="color: red; font-weight: normal; font-style: normal;">saturationPressure</span>(T)*X_w/(X_w +
    Buildings.Utilities.Psychrometrics.Constants.k_mair*(1-X_w));
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>phi_pTX;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE saturationPressure<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.saturationPressure" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.saturationPressure"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.saturationPressure</h2>
<p>
<b>Saturation curve valid for 223.16 &lt;= T &lt;= 373.16 (and slightly outside with less accuracy)</b>
</p>
<h3>Information</h3>

<p>
Saturation pressure of water, computed from temperature,
according to Wagner <i>et al.</i> (1993).
The range of validity is between
<i>190</i> and <i>373.16</i> Kelvin.
</p>
<h4>References</h4>
<p>
Wagner W., A. Saul, A. Pruss.
 <i>International equations for the pressure along the melting and along the sublimation curve of ordinary water substance</i>,
equation 3.5. 1993.
<a href="http://www.nist.gov/data/PDFfiles/jpcrd477.pdf">
http://www.nist.gov/data/PDFfiles/jpcrd477.pdf</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TSat</td><td>&nbsp;</td><td>Saturation temperature [K]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pSat</td><td>Saturation pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> saturationPressure <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Saturation curve valid for 223.16 &lt;= T &lt;= 373.16 (and slightly outside with less accuracy)&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TSat(displayUnit=&quot;degC&quot;,
                                          nominal=300) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pSat(
                                          displayUnit=&quot;Pa&quot;,
                                          nominal=1000) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation pressure&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  pSat :=<span style="color: red; font-weight: normal; font-style: normal;"> Buildings.Utilities.Math.Functions.spliceFunction</span>(
             <span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Psychrometrics.Functions.saturationPressureLiquid</span>(TSat),
             <span style="color: red; font-weight: normal; font-style: normal;">Buildings.Utilities.Psychrometrics.Functions.sublimationPressureIce</span>(TSat),
             TSat-273.16,
             1.0);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>saturationPressure;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE saturationPressureLiquid<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.saturationPressureLiquid" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.saturationPressureLiquid"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.saturationPressureLiquid</h2>
<p>
<b>Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K</b>
</p>
<h3>Information</h3>

<p>
Saturation pressure of water above the triple point temperature computed from temperature
according to Wagner <i>et al.</i> (1993). The range of validity is between
<i>273.16</i> and <i>373.16</i> Kelvin.
</p>
<h4>References</h4>
<p>
Wagner W., A. Saul, A. Pruss.
 <i>International equations for the pressure along the melting and along the sublimation curve of ordinary water substance</i>,
equation 3.5. 1993.
<a href="http://www.nist.gov/data/PDFfiles/jpcrd477.pdf">
http://www.nist.gov/data/PDFfiles/jpcrd477.pdf</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TSat</td><td>&nbsp;</td><td>Saturation temperature [K]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pSat</td><td>Saturation pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> saturationPressureLiquid <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_saturationPressureLiquid"
>Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_saturationPressureLiquid</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TSat(displayUnit=&quot;degC&quot;,
                                          nominal=300) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pSat(
                                      displayUnit=&quot;Pa&quot;,
                                      nominal=1000) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation pressure&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  pSat := 611.657*<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.exp</span>(17.2799 - 4102.99/(TSat - 35.719));

<span style="color: blue; font-weight: normal; font-style: normal;">end </span>saturationPressureLiquid;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE sublimationPressureIce<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.Psych52c997fdef8f80bcoi_pWI.png" alt="Buildings.Utilities.Psychrometrics.Functions.sublimationPressureIce" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.Psychrometrics.Functions.sublimationPressureIce"></a><a href="Buildings_Utilities_Psychrometrics_Functions.html#Buildings.Utilities.Psychrometrics.Functions"
>Buildings.Utilities.Psychrometrics.Functions</a>.sublimationPressureIce</h2>
<p>
<b>Return sublimation pressure of water as a function of temperature T between 190 and 273.16 K</b>
</p>
<h3>Information</h3>

<p>
Sublimation pressure of water below the triple point temperature, computed from temperature,
according to Wagner <i>et al.</i> (1993).
The range of validity is between
<i>190</i> and <i>273.16</i> Kelvin.
</p>
<h4>References</h4>
<p>
Wagner W., A. Saul, A. Pruss.
 <i>International equations for the pressure along the melting and along the sublimation curve of ordinary water substance</i>,
equation 3.5. 1993.
<a href="http://www.nist.gov/data/PDFfiles/jpcrd477.pdf">
http://www.nist.gov/data/PDFfiles/jpcrd477.pdf</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a> (Icon for functions).</p>
<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TSat</td><td>&nbsp;</td><td>Saturation temperature [K]</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</a></td><td>pSat</td><td>Saturation pressure [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> sublimationPressureIce <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Return sublimation pressure of water as a function of temperature T between 190 and 273.16 K&quot;</span>
  annotation(derivative=<a href="Buildings_Utilities_Psychrometrics_Functions_BaseClasses.html#Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_sublimationPressureIce"
>Buildings.Utilities.Psychrometrics.Functions.BaseClasses.der_sublimationPressureIce</a>);
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TSat(displayUnit=&quot;degC&quot;,
                                          nominal=300) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation temperature&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pSat(
                                      displayUnit=&quot;Pa&quot;,
                                      nominal=1000) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Saturation pressure&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TTriple=273.16 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Triple point temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>Modelica.SIunits.AbsolutePressure</a> pTriple=611.657 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Triple point pressure&quot;</span>;
  Real r1=TSat/TTriple <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Common subexpression&quot;</span>;
  Real a[2]={-13.9281690,34.7078238} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Coefficients a[:]&quot;</span>;
  Real n[2]={-1.5,-1.25} <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Coefficients n[:]&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">algorithm </span>
  pSat :=<span style="color: red; font-weight: normal; font-style: normal;"> exp</span>(a[1] - a[1]*r1^n[1] + a[2] - a[2]*r1^n[2])*pTriple;
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>sublimationPressureIce;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:30:48 2015.
</address>
</body>
</html>
