<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.HeatExchangers.RadiantSlabs</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with radiant slab models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RadiantSlabs<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.HeatExchangers.RadiantSlabs"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.RadiantSlabs</h2>
<p>
<b>Package with radiant slab models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains models for radiant slabs
with pipes or a capillary heat exchanger
embedded in the construction.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha7938af81aa5715cbGuideS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.UsersGuide" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_UsersGuide.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.UsersGuide"
>UsersGuide</a>
</td>
<td>User&#39;s Guide</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchad0a237c4717b4738sSlabS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab"
>ParallelCircuitsSlab</a>
</td>
<td>Model of multiple parallel circuits of a radiant slab</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaf53eae32261856d9tSlabS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>SingleCircuitSlab</a>
</td>
<td>Model of a single circuit of a radiant slab</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchab275a3180eebc1b7TypesS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.Types" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types"
>Types</a>
</td>
<td>Package with type definitions</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha3431f4f2825bbb7emplesS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Examples.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Examples"
>Examples</a>
</td>
<td>Collection of models that illustrate model use and test models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaead4cf641df9b3b2assesS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.Fluid.HeatExchangers.RadiantSlabs</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ParallelCircuitsSlab<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchad0a237c4717b4738sSlabI.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab"></a><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs"
>Buildings.Fluid.HeatExchangers.RadiantSlabs</a>.ParallelCircuitsSlab</h2>
<p>
<b>Model of multiple parallel circuits of a radiant slab</b>
<br>
<br><img src="Buildings.Fluid.HeatExchad0a237c4717b4738sSlabD.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab">
</p>
<h3>Information</h3>

<p>
This is a model of a radiant slab with pipes or a capillary heat exchanger
embedded in the construction.
The model is a composition of multiple models of
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab</a>
that are arranged in a parallel.
</p>
<p>
The parameter <code>nCir</code> declares the number of parallel flow circuits.
Each circuit will have the same mass flow rate, and it is exposed to the same
port variables for the heat port at the two surfaces, and for the flow inlet and outlet.
</p>
<p>
A typical model application is as follows: Suppose a large room has a radiant slab with two parallel circuits
with the same pipe spacing and pipe length. Then, rather than using two instances of
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab</a>,
this system can be modeled using one instance of this model in order to reduce computing effort.
See
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Examples.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Examples.SingleCircuitMultipleCircuitEpsilonNTU"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.Examples.SingleCircuitMultipleCircuitEpsilonNTU</a> for an example
that shows that the models give identical results.
</p>
<p>
Since this model is a parallel arrangment of <code>nCir</code> models of
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab</a>,
we refer to
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab</a>
for the model documentation.
</p>
<p>
See the
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_UsersGuide.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.UsersGuide"
>
user's guide</a> for more information.
</p>
<h4>Implementation</h4>
<p>
To allow a better comment for the nominal mass flow rate, i.e., to specify that
its value is for all circuits combined, this
model does not inherit
<a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.PartialTwoPortInterface"
>
Buildings.Fluid.Interfaces.PartialTwoPortInterface</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.PartialTwoPort"
>Modelica.Fluid.Interfaces.PartialTwoPort</a> (Partial component with two ports), <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab</a> (Base class for radiant slab), <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations"
>Buildings.Fluid.Interfaces.LumpedVolumeDeclarations</a> (Declarations for lumped volumes), <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.TwoPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.TwoPortFlowResistanceParameters</a> (Parameters for flow resistance for models with two ports).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium in the component</td></tr>
<tr><td><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType"
>SystemType</a></td><td>sysTyp</td><td>&nbsp;</td><td>Radiant system type</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</a></td><td>disPip</td><td>&nbsp;</td><td>Pipe distance [m]</td></tr>
<tr><td><a href="Buildings_Fluid_Data_Pipes.html#Buildings.Fluid.Data.Pipes.Generic"
>Generic</a></td><td>pipe</td><td>&nbsp;</td><td>Record for pipe geometry and material</td></tr>
<tr><td>Integer</td><td>nCir</td><td>1</td><td>Number of parallel circuits</td></tr>
<tr><td>Integer</td><td>nSeg</td><td>if heatTransfer == Types.Hea...</td><td>Number of volume segments in each circuit (along flow path)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>length</td><td>A/disPip/nCir</td><td>Length of the pipe of a single circuit [m]</td></tr>
<tr><td><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer"
>HeatTransfer</a></td><td>heatTransfer</td><td>Types.HeatTransfer.EpsilonNTU</td><td>Model for heat transfer between fluid and slab</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Construction</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</a></td><td>layers</td><td>&nbsp;</td><td>Definition of the construction, which must have at least two material layers</td></tr>
<tr><td>Integer</td><td>iLayPip</td><td>&nbsp;</td><td>Number of the interface layer in which the pipes are located</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Surface area of radiant slab (all circuits combined) [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>Modelica.Fluid.Pipes.BaseCla...</td><td>Pressure difference [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate of all circuits combined [kg/s]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Initialization</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Construction</td></tr>
<tr><td>Boolean</td><td>steadyStateInitial</td><td>false</td><td>=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start, T_c_start and T_b_start</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_a_start</td><td>293.15</td><td>Initial temperature at surf_a, used if steadyStateInitial = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_b_start</td><td>293.15</td><td>Initial temperature at surf_b, used if steadyStateInitial = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.AbsolutePressure"
>AbsolutePressure</a></td><td>p_start</td><td>Medium.p_default</td><td>Start value of pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.Temperature"
>Temperature</a></td><td>T_start</td><td>Medium.T_default</td><td>Start value of temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.MassFraction"
>MassFraction</a></td><td>X_start[Medium.nX]</td><td>Medium.X_default</td><td>Start value of mass fractions m_i/m [kg/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_start[Medium.nC]</td><td>fill(0, Medium.nC)</td><td>Start value of trace substances</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_nominal[Medium.nC]</td><td>fill(1E-2, Medium.nC)</td><td>Nominal value of trace substances. (Set to typical order of magnitude.)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Formulation of energy balance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>massDynamics</td><td>energyDynamics</td><td>Formulation of mass balance</td></tr>
<tr><td>Real</td><td>mSenFac</td><td>1</td><td>Factor for scaling the sensible thermal mass of the volume</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr><td>Boolean</td><td>computeFlowResistance</td><td>true</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*abs(m_flow_nominal)</td><td>Small mass flow rate of all circuits combined for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>surf_a</td><td>Heat port at construction surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>surf_b</td><td>Heat port at construction surface</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ParallelCircuitsSlab <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Model of multiple parallel circuits of a radiant slab&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.PartialTwoPort"
>Modelica.Fluid.Interfaces.PartialTwoPort</a>(
    port_a(p(start=p_start,
             nominal=Medium.p_default)),
    port_b(p(start=p_start,
           nominal=Medium.p_default)));
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations"
>Buildings.Fluid.Interfaces.LumpedVolumeDeclarations</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.TwoPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.TwoPortFlowResistanceParameters</a>(
   dp_nominal =<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.pressureLoss_m_flow</span>(
      m_flow=m_flow_nominal/nCir,
      rho_a=rho_default,
      rho_b=rho_default,
      mu_a=mu_default,
      mu_b=mu_default,
      length=length,
      diameter=pipe.dIn,
      roughness=pipe.roughness,
      m_flow_small=m_flow_small/nCir));

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer nCir(min=1) = 1 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of parallel circuits&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer nSeg(min=1) = <span style="color: blue; font-weight: normal; font-style: normal;">if </span>heatTransfer==Types.HeatTransfer.EpsilonNTU<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>1<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>5 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Number of volume segments in each circuit (along flow path)&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Surface area of radiant slab (all circuits combined)&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> length = A/disPip/nCir <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Length of the pipe of a single circuit&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal mass flow rate of all circuits combined&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_small(min=0) = 1E-4*<span style="color: red; font-weight: normal; font-style: normal;">abs</span>(m_flow_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Small mass flow rate of all circuits combined for regularization of zero flow&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> v_nominal=
    4*m_flow_nominal/pipe.dIn^2/Modelica.Constants.pi/rho_default/nCir <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Velocity at m_flow_nominal&quot;</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Parameters used for the fluid model implementation</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean homotopyInitialization = true <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;= true, use homotopy method&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer</a>
    heatTransfer=Types.HeatTransfer.EpsilonNTU <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for heat transfer between fluid and slab&quot;</span>;

  <span style="color: #006400; font-weight: normal; font-style: normal;">// Diagnostics</span>
   <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean show_T = false <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;= true, if actual temperature at port is computed&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow(start=0) = port_a.m_flow <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) for all circuits combined&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp(start=0, displayUnit=&quot;Pa&quot;) = port_a.p - port_b.p <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Pressure difference between port_a and port_b&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>Medium.ThermodynamicState</a> sta_a=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>
      <span style="color: red; font-weight: normal; font-style: normal;">Medium.setState_phX</span>(port_a.p,
                          <span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_a.h_outflow)),
                                   simplified=<span style="color: red; font-weight: normal; font-style: normal;">inStream</span>(port_a.h_outflow)),
                          <span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_a.Xi_outflow)),
                                   simplified=<span style="color: red; font-weight: normal; font-style: normal;">inStream</span>(port_a.Xi_outflow)))<span style="color: blue; font-weight: normal; font-style: normal;">
    else </span>
      <span style="color: red; font-weight: normal; font-style: normal;">Medium.setState_phX</span>(port_a.p,
                          <span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_a.h_outflow)),
                          <span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_a.Xi_outflow))) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
         show_T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium properties in port_a&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>Medium.ThermodynamicState</a> sta_b=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>homotopyInitialization<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>
      <span style="color: red; font-weight: normal; font-style: normal;">Medium.setState_phX</span>(port_b.p,
                          <span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_b.h_outflow)),
                                   simplified=port_b.h_outflow),
                          <span style="color: red; font-weight: normal; font-style: normal;">homotopy</span>(actual=<span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_b.Xi_outflow)),
                            simplified=port_b.Xi_outflow))<span style="color: blue; font-weight: normal; font-style: normal;">
    else </span>
      <span style="color: red; font-weight: normal; font-style: normal;">Medium.setState_phX</span>(port_b.p,
                          <span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_b.h_outflow)),
                          <span style="color: red; font-weight: normal; font-style: normal;">noEvent</span>(<span style="color: red; font-weight: normal; font-style: normal;">actualStream</span>(port_b.Xi_outflow))) <span style="color: blue; font-weight: normal; font-style: normal;">if </span>
          show_T <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium properties in port_b&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab</a> sla(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces_Medium.html#Modelica.Fluid.Interfaces.PartialTwoPort.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>heatTransfer=heatTransfer,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>sysTyp=sysTyp,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=A/nCir,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>disPip=disPip,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>pipe=pipe,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>layers=layers,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>steadyStateInitial=steadyStateInitial,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>iLayPip=iLayPip,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_a_start=T_a_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_b_start=T_b_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>energyDynamics=energyDynamics,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>massDynamics=massDynamics,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>p_start=p_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>T_start=T_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>X_start=X_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C_start=C_start,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C_nominal=C_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>allowFlowReversal=allowFlowReversal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>m_flow_nominal=m_flow_nominal/nCir,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>m_flow_small=m_flow_small/nCir,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>homotopyInitialization=homotopyInitialization,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>from_dp=from_dp,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dp_nominal=dp_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>linearizeFlowResistance=linearizeFlowResistance,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>deltaM=deltaM,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nSeg=nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>length=length,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>ReC=4000) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Single parallel circuit of the radiant slab&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>Medium.ThermodynamicState</a> state_default =<span style="color: red; font-weight: normal; font-style: normal;"> Medium.setState_pTX</span>(
      T=Medium.T_default,
      p=Medium.p_default,
      X=Medium.X_default[1:Medium.nXi]) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Start state&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Density"
>Modelica.SIunits.Density</a> rho_default =<span style="color: red; font-weight: normal; font-style: normal;"> Medium.density</span>(state_default);
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.DynamicViscosity"
>Modelica.SIunits.DynamicViscosity</a> mu_default =<span style="color: red; font-weight: normal; font-style: normal;"> Medium.dynamicViscosity</span>(state_default) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Dynamic viscosity at nominal condition&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.MassFlowRateMultiplier"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.MassFlowRateMultiplier</a>
                                                                                 masFloMul_a(
      <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces_Medium.html#Modelica.Fluid.Interfaces.PartialTwoPort.Medium"
>Medium</a>,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=nCir) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow multiplier, used to avoid having to instanciate multiple slab models&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.MassFlowRateMultiplier"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.MassFlowRateMultiplier</a>
                                                                                 masFloMul_b(
      <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces_Medium.html#Modelica.Fluid.Interfaces.PartialTwoPort.Medium"
>Medium</a>,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=nCir) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow multiplier, used to avoid having to instanciate multiple slab models&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.HeatFlowRateMultiplier"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.HeatFlowRateMultiplier</a>
                                                                                 heaFloMul_a(
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=nCir) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat flow rate multiplier, used to avoid having to instanciate multiple slab models&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.HeatFlowRateMultiplier"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.HeatFlowRateMultiplier</a>
                                                                                 heaFloMul_b(
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>k=nCir) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Heat flow rate multiplier, used to avoid having to instanciate multiple slab models&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sla.port_b, masFloMul_b.port_a);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloMul_b.port_b, port_b);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(port_a, masFloMul_a.port_b);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloMul_a.port_a, sla.port_a);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sla.surf_a,heaFloMul_a. port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaFloMul_a.port_b, surf_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sla.surf_b,heaFloMul_b. port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaFloMul_b.port_b, surf_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ParallelCircuitsSlab;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleCircuitSlab<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaf53eae32261856d9tSlabI.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab"></a><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs"
>Buildings.Fluid.HeatExchangers.RadiantSlabs</a>.SingleCircuitSlab</h2>
<p>
<b>Model of a single circuit of a radiant slab</b>
<br>
<br><img src="Buildings.Fluid.HeatExchaf53eae32261856d9tSlabD.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs.SingleCircuitSlab">
</p>
<h3>Information</h3>

<p>
This is a model of a single flow circuit of a radiant slab with pipes or a capillary heat exchanger
embedded in the construction.
For a model with multiple parallel flow circuits, see
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab"
>
Buildings.Fluid.HeatExchangers.RadiantSlabs.ParallelCircuitsSlab</a>.
</p>
<p>
See the
<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_UsersGuide.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.UsersGuide"
>
user's guide</a> for more information.
</p>

<p>Extends from <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab</a> (Base class for radiant slab), <a href="Buildings_Fluid_FixedResistances_BaseClasses.html#Buildings.Fluid.FixedResistances.BaseClasses.Pipe"
>Buildings.Fluid.FixedResistances.BaseClasses.Pipe</a> (Model of a pipe with finite volume discretization along the flow path).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.SystemType"
>SystemType</a></td><td>sysTyp</td><td>&nbsp;</td><td>Radiant system type</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Distance"
>Distance</a></td><td>disPip</td><td>&nbsp;</td><td>Pipe distance [m]</td></tr>
<tr><td><a href="Buildings_Fluid_Data_Pipes.html#Buildings.Fluid.Data.Pipes.Generic"
>Generic</a></td><td>pipe</td><td>&nbsp;</td><td>Record for pipe geometry and material</td></tr>
<tr><td colspan="2">replaceable package Medium</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium in the component</td></tr>
<tr><td>Integer</td><td>nSeg</td><td>if heatTransfer == Types.Hea...</td><td>Number of volume segments</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>thicknessIns</td><td>0</td><td>Thickness of insulation [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductivity"
>ThermalConductivity</a></td><td>lambdaIns</td><td>0.04</td><td>Heat conductivity of insulation [W/(m.K)]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>diameter</td><td>pipe.dIn</td><td>Pipe diameter (without insulation) [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>length</td><td>A/disPip</td><td>Length of the pipe [m]</td></tr>
<tr><td><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer"
>HeatTransfer</a></td><td>heatTransfer</td><td>Types.HeatTransfer.EpsilonNTU</td><td>Model for heat transfer between fluid and slab</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Construction</td></tr>
<tr><td><a href="Buildings_HeatTransfer_Data_OpaqueConstructions.html#Buildings.HeatTransfer.Data.OpaqueConstructions.Generic"
>Generic</a></td><td>layers</td><td>&nbsp;</td><td>Definition of the construction, which must have at least two material layers</td></tr>
<tr><td>Integer</td><td>iLayPip</td><td>&nbsp;</td><td>Number of the interface layer in which the pipes are located</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>A</td><td>&nbsp;</td><td>Surface area of radiant slab [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>Modelica.Fluid.Pipes.BaseCla...</td><td>Pressure difference [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow.start</td><td>0</td><td>Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp.start</td><td>0</td><td>Pressure difference between port_a and port_b [Pa]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Initialization</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Construction</td></tr>
<tr><td>Boolean</td><td>steadyStateInitial</td><td>false</td><td>=true initializes dT(0)/dt=0, false initializes T(0) at fixed temperature using T_a_start, T_c_start and T_b_start</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_a_start</td><td>293.15</td><td>Initial temperature at surf_a, used if steadyStateInitial = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_b_start</td><td>293.15</td><td>Initial temperature at surf_b, used if steadyStateInitial = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_c_start</td><td>(T_a_start*con_b[1].layers.R...</td><td>Initial construction temperature in the layer that contains the pipes, used if steadyStateInitial = false [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.AbsolutePressure"
>AbsolutePressure</a></td><td>p_start</td><td>Medium.p_default</td><td>Start value of pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.Temperature"
>Temperature</a></td><td>T_start</td><td>Medium.T_default</td><td>Start value of temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.MassFraction"
>MassFraction</a></td><td>X_start[Medium.nX]</td><td>Medium.X_default</td><td>Start value of mass fractions m_i/m [kg/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_start[Medium.nC]</td><td>fill(0, Medium.nC)</td><td>Start value of trace substances</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_nominal[Medium.nC]</td><td>fill(1E-2, Medium.nC)</td><td>Nominal value of trace substances. (Set to typical order of magnitude.)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Formulation of energy balance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>massDynamics</td><td>energyDynamics</td><td>Formulation of mass balance</td></tr>
<tr><td>Real</td><td>mSenFac</td><td>1</td><td>Factor for scaling the sensible thermal mass of the volume</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal</td><td>true</td><td>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*abs(m_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr><td>Boolean</td><td>from_dp</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr><td>Real</td><td>ReC</td><td>4000</td><td>Reynolds number where transition to turbulent starts</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>surf_a</td><td>Heat port at construction surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</a></td><td>surf_b</td><td>Heat port at construction surface</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a</td><td>Fluid connector a (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b</td><td>Fluid connector b (positive design flow direction is from port_a to port_b)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SingleCircuitSlab <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of a single circuit of a radiant slab&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Slab</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_FixedResistances_BaseClasses.html#Buildings.Fluid.FixedResistances.BaseClasses.Pipe"
>Buildings.Fluid.FixedResistances.BaseClasses.Pipe</a>(
     nSeg=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>heatTransfer==Types.HeatTransfer.EpsilonNTU<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>1<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>5,
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>diameter=pipe.dIn,
     length=A/disPip,
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>thicknessIns=0,
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>lambdaIns = 0.04,
     dp_nominal =<span style="color: red; font-weight: normal; font-style: normal;"> Modelica.Fluid.Pipes.BaseClasses.WallFriction.Detailed.pressureLoss_m_flow</span>(
      m_flow=m_flow_nominal,
      rho_a=rho_default,
      rho_b=rho_default,
      mu_a=mu_default,
      mu_b=mu_default,
      length=length,
      diameter=pipe.dIn,
      roughness=pipe.roughness,
      m_flow_small=m_flow_small),
      preDro(dp(nominal=200*length)));

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Modelica.SIunits.Area</a> A <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Surface area of radiant slab&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_Types.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer"
>Buildings.Fluid.HeatExchangers.RadiantSlabs.Types.HeatTransfer</a>
    heatTransfer=Types.HeatTransfer.EpsilonNTU <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Model for heat transfer between fluid and slab&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_c_start=
    (T_a_start*con_b[1].layers.R+T_b_start*con_a[1].layers.R)/layers.R <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Initial construction temperature in the layer that contains the pipes, used if steadyStateInitial = false&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Velocity"
>Modelica.SIunits.Velocity</a> v_nominal=
    4*m_flow_nominal/pipe.dIn^2/Modelica.Constants.pi/rho_default <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Velocity at m_flow_nominal&quot;</span>;

  <a href="Buildings_HeatTransfer_Conduction.html#Buildings.HeatTransfer.Conduction.MultiLayer"
>Buildings.HeatTransfer.Conduction.MultiLayer</a> con_a[nSeg](
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=A/nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>steadyStateInitial=steadyStateInitial,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>layers(
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nLay = iLayPip,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>material={layers.material[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:iLayPip},
      absIR_a=layers.absIR_a,
      absIR_b=layers.absIR_b,
      absSol_a=layers.absSol_a,
      absSol_b=layers.absSol_b,
      roughness_a=layers.roughness_a),
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>T_a_start=T_a_start,
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>T_b_start=T_c_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Construction near the surface port surf_a&quot;</span>;
  <a href="Buildings_HeatTransfer_Conduction.html#Buildings.HeatTransfer.Conduction.MultiLayer"
>Buildings.HeatTransfer.Conduction.MultiLayer</a> con_b[nSeg](
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>A=A/nSeg,
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>steadyStateInitial=steadyStateInitial,
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>layers(
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nLay = layers.nLay-iLayPip,
      <span style="color: blue; font-weight: normal; font-style: normal;">final </span>material={layers.material[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>iLayPip + 1:layers.nLay},
      absIR_a=layers.absIR_a,
      absIR_b=layers.absIR_b,
      absSol_a=layers.absSol_a,
      absSol_b=layers.absSol_b,
      roughness_a=layers.roughness_a),
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>T_a_start=T_c_start,
      <span style="color: blue; font-weight: normal; font-style: normal;">each </span>T_b_start=T_b_start) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Construction near the surface port surf_b&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</a> colAllToOne(
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>m=nSeg) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Connector to assign multiple heat ports to one heat port&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalCollector"
>Modelica.Thermal.HeatTransfer.Components.ThermalCollector</a> colAllToOne1(
     <span style="color: blue; font-weight: normal; font-style: normal;">final </span>m=nSeg) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Connector to assign multiple heat ports to one heat port&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalInsulance"
>Modelica.SIunits.ThermalInsulance</a> Rx=
      <span style="color: red; font-weight: normal; font-style: normal;">Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.Functions.AverageResistance</span>(
        disPip=disPip,
        dPipOut=pipe.dOut,
        k=layers.material[iLayPip].k,
        sysTyp=sysTyp,
        kIns=layers.material[iLayPip+1].k,
        dIns=layers.material[iLayPip+1].x) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Thermal insulance for average temperature in plane with pipes&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_RadiantSlabs_BaseClasses.html#Buildings.Fluid.HeatExchangers.RadiantSlabs.BaseClasses.PipeToSlabConductance"
>BaseClasses.PipeToSlabConductance</a> fluSlaCon[nSeg](
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>APip=Modelica.Constants.pi*pipe.dIn*length/nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>RWal=<span style="color: red; font-weight: normal; font-style: normal;">Modelica.Math.log</span>(pipe.dOut/pipe.dIn)/(2*Modelica.Constants.pi*pipe.k*(
        length/nSeg)),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>RFic=nSeg*Rx/A,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span> m_flow_nominal=m_flow_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>kc_IN_con=
        <span style="color: red; font-weight: normal; font-style: normal;">Modelica.Fluid.Dissipation.HeatTransfer.StraightPipe.kc_overall_IN_con</span>(
        d_hyd=pipe.dIn,
        L=length/nSeg,
        K=pipe.roughness),
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span>heatTransfer=heatTransfer) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Conductance between fluid and the slab&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> Xi_in_a[Medium.nXi] =<span style="color: red; font-weight: normal; font-style: normal;"> inStream</span>(port_a.Xi_outflow) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Inflowing mass fraction at port_a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>Modelica.SIunits.MassFraction</a> Xi_in_b[Medium.nXi] =<span style="color: red; font-weight: normal; font-style: normal;"> inStream</span>(port_b.Xi_outflow) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Inflowing mass fraction at port_a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> T_a(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y=<span style="color: red; font-weight: normal; font-style: normal;">Medium.temperature_phX</span>(p=port_a.p,
                                   h=<span style="color: red; font-weight: normal; font-style: normal;">inStream</span>(port_a.h_outflow),
                                   X=<span style="color: red; font-weight: normal; font-style: normal;">cat</span>(1,Xi_in_a,{1-<span style="color: red; font-weight: normal; font-style: normal;">sum</span>(Xi_in_a)}))) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fluid temperature at port a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> T_b(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y=<span style="color: red; font-weight: normal; font-style: normal;">Medium.temperature_phX</span>(p=port_b.p,
                                   h=<span style="color: red; font-weight: normal; font-style: normal;">inStream</span>(port_b.h_outflow),
                                   X=<span style="color: red; font-weight: normal; font-style: normal;">cat</span>(1,Xi_in_b,{1-<span style="color: red; font-weight: normal; font-style: normal;">sum</span>(Xi_in_b)}))) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fluid temperature at port b&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> mFlu_flow[nSeg](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>y=m_flow) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Input signal for mass flow rate&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</a> T_a_rep(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>nout=nSeg) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Signal replicator for T_a&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</a> T_b_rep(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>nout=nSeg) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Signal replicator for T_b&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colAllToOne1.port_b,surf_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colAllToOne.port_b,surf_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colAllToOne1.port_a, con_a.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(colAllToOne.port_a, con_b.port_b);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(fluSlaCon.fluid, vol.heatPort);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mFlu_flow.y, fluSlaCon.m_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(T_a.y, T_a_rep.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(T_b.y, T_b_rep.u);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(fluSlaCon.T_a, T_a_rep.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(T_b_rep.y, fluSlaCon.T_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(con_b.port_a, fluSlaCon.solid);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(fluSlaCon.solid, con_a.port_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SingleCircuitSlab;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:25:16 2015.
</address>
</body>
</html>
