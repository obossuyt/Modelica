<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Utilities.IO.BCVTB.BaseClasses</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with base classes for Buildings.Utilities.IO.BCVTB&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.IO.BCVTB.BaseClasses"></a><a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB"
>Buildings.Utilities.IO.BCVTB</a>.BaseClasses</h2>
<p>
<b>Package with base classes for Buildings.Utilities.IO.BCVTB</b><br>
</p>
<h3>Information</h3>

<p>
This package contains base classes that are used to construct the models in
<a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB"
>Buildings.Utilities.IO.BCVTB</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</a> (Icon for packages containing base classes).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Utilities.IO.BC1519a5ec2cbeff6brfaceS.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface"
>FluidInterface</a>
</td>
<td>Partial class for fluid interface that can be coupled to BCVTB</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.IO.BC52d8b2098e5990efocketS.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.closeClientSocket" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses.closeClientSocket"
>closeClientSocket</a>
</td>
<td>Closes the socket for the inter process communication</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.IO.BC52d8b2098e5990efocketS.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.establishClientSocket" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses.establishClientSocket"
>establishClientSocket</a>
</td>
<td>Establishes the client socket connection</td>
</tr>
<tr>
<td><img src="Buildings.Utilities.IO.BC52d8b2098e5990efocketS.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.exchangeReals" width="20" height="20" align="top">&nbsp;<a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses.exchangeReals"
>exchangeReals</a>
</td>
<td>Exchanges values of type Real with the socket</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE FluidInterface<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Utilities.IO.BC1519a5ec2cbeff6brfaceI.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface"></a><a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses"
>Buildings.Utilities.IO.BCVTB.BaseClasses</a>.FluidInterface</h2>
<p>
<b>Partial class for fluid interface that can be coupled to BCVTB</b>
<br>
<br><img src="Buildings.Utilities.IO.BC1519a5ec2cbeff6brfaceD.png" alt="Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface">
</p>
<h3>Information</h3>

<p>
This is a partial model that is used to construct models for
interfacing fluid flow systems with the BCVTB interface.
</p>

<p>Extends from <a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a> (Base icon).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>Modelica.Media.Interfaces.Pa...</td><td>Medium model within the source</td></tr>
<tr><td>Boolean</td><td>use_m_flow_in</td><td>false</td><td>Get the mass flow rate from the input connector</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow</td><td>0</td><td>Fixed mass flow rate going out of the fluid port [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate, used for regularization near zero flow [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Advanced</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*m_flow_nominal</td><td>For bi-directional flow, temperature is regularized in the region |m_flow| &lt; m_flow_small (m_flow_small &gt; 0 required) [kg/s]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>Medium model within the source</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>m_flow_in</td><td>Prescribed mass flow rate</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>T_in</td><td>Prescribed boundary temperature</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPorts_b"
>FluidPorts_b</a></td><td>ports[nPorts]</td><td>&nbsp;</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>HSen_flow</td><td>Sensible enthalpy flow rate, positive if flow into the component [W]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">model</span> FluidInterface <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Partial class for fluid interface that can be coupled to BCVTB&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium =
      <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model within the source&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Integer nPorts=0 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of ports&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> m_flow_in <span style="color: blue; font-weight: normal; font-style: normal;">if </span>    use_m_flow_in <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Prescribed mass flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> T_in <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Prescribed boundary temperature&quot;</span>;

   <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean use_m_flow_in = false <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Get the mass flow rate from the input connector&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow = 0 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fixed mass flow rate going out of the fluid port&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal(min=0) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Nominal mass flow rate, used for regularization near zero flow&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_small(min=0) = 1E-4*m_flow_nominal <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;For bi-directional flow, temperature is regularized in the region |m_flow| &lt; m_flow_small (m_flow_small &gt; 0 required)&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.EnthalpyFlowRate"
>Buildings.Fluid.Sensors.EnthalpyFlowRate</a> totEntFloRat[nPorts](
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Utilities_IO_BCVTB_BaseClasses_Medium.html#Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">final </span>m_flow_nominal=m_flow_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Total enthalpy flow rate (sensible plus latent)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPorts_b"
>Modelica.Fluid.Interfaces.FluidPorts_b</a> ports[
                                nPorts](
                     <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">each </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Utilities_IO_BCVTB_BaseClasses_Medium.html#Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface.Medium"
>Medium</a>,
                     m_flow(<span style="color: blue; font-weight: normal; font-style: normal;">each </span>max=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>flowDirection==Modelica.Fluid.Types.PortFlowDirection.Leaving<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>0<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>
                                     +Modelica.Constants.inf,
                            <span style="color: blue; font-weight: normal; font-style: normal;">each </span>min=<span style="color: blue; font-weight: normal; font-style: normal;">if </span>flowDirection==Modelica.Fluid.Types.PortFlowDirection.Entering<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>0<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>
                                     -Modelica.Constants.inf));

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Sum"
>Modelica.Blocks.Math.Sum</a> sumHTot_flow(nin=nPorts) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sum of total enthalpy flow rates&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> HSen_flow(unit=&quot;W&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sensible enthalpy flow rate, positive if flow into the component&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> bou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Utilities_IO_BCVTB_BaseClasses_Medium.html#Buildings.Utilities.IO.BCVTB.BaseClasses.FluidInterface.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>use_T_in=true,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nPorts=nPorts,
    use_X_in=false,
    use_C_in=false,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>use_m_flow_in=true);
<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.PortFlowDirection"
>Modelica.Fluid.Types.PortFlowDirection</a> flowDirection=
                   Modelica.Fluid.Types.PortFlowDirection.Bidirectional <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Allowed flow direction&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(m_flow_in, bou.m_flow_in);
  <span style="color: blue; font-weight: normal; font-style: normal;">if </span><span style="color: blue; font-weight: normal; font-style: normal;">not </span>use_m_flow_in<span style="color: blue; font-weight: normal; font-style: normal;"> then</span>
    bou.m_flow_in = m_flow;
  <span style="color: blue; font-weight: normal; font-style: normal;">end if</span>;

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(totEntFloRat.port_b, bou.ports);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sumHTot_flow.u, totEntFloRat.H_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(bou.T_in, T_in);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>FluidInterface;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE closeClientSocket<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.IO.BCVTB.BaseClasses.closeClientSocket"></a><a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses"
>Buildings.Utilities.IO.BCVTB.BaseClasses</a>.closeClientSocket</h2>
<p>
<b>Closes the socket for the inter process communication</b>
</p>
<h3>Information</h3>

Function that closes the inter-process communication.

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>socketFD</td><td>&nbsp;</td><td>Socket file descripter, or a negative value if an error occurred</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Integer</td><td>retVal</td><td>Return value of the function that closes the socket connection</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> closeClientSocket <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Closes the socket for the inter process communication&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Integer socketFD <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Socket file descripter, or a negative value if an error occurred&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Integer retVal <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Return value of the function that closes the socket connection&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">external</span> &quot;C&quot;
     retVal=<span style="color: red; font-weight: normal; font-style: normal;">closeModelicaClient</span>(socketFD);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>closeClientSocket;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE establishClientSocket<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.IO.BCVTB.BaseClasses.establishClientSocket"></a><a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses"
>Buildings.Utilities.IO.BCVTB.BaseClasses</a>.establishClientSocket</h2>
<p>
<b>Establishes the client socket connection</b>
</p>
<h3>Information</h3>

Function that establishes a socket connection to the BCVTB.
<p>
For the xml file name, on Windows use two backslashes to separate directories, i.e., use
<pre>
  xmlFileName="C:\\examples\\dymola-room\\socket.cfg"
</pre>

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>xmlFileName</td><td>&quot;socket.cfg&quot;</td><td>Name of xml file that contains the socket information</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Integer</td><td>socketFD</td><td>Socket file descripter, or a negative value if an error occurred</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> establishClientSocket <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Establishes the client socket connection&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>String xmlFileName = &quot;socket.cfg&quot; <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Name of xml file that contains the socket information&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Integer socketFD <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Socket file descripter, or a negative value if an error occurred&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">external</span> &quot;C&quot;
     socketFD=<span style="color: red; font-weight: normal; font-style: normal;">establishModelicaClient</span>(xmlFileName);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>establishClientSocket;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE exchangeReals<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Utilities.IO.BCVTB.BaseClasses.exchangeReals"></a><a href="Buildings_Utilities_IO_BCVTB_BaseClasses.html#Buildings.Utilities.IO.BCVTB.BaseClasses"
>Buildings.Utilities.IO.BCVTB.BaseClasses</a>.exchangeReals</h2>
<p>
<b>Exchanges values of type Real with the socket</b>
</p>
<h3>Information</h3>

Function to exchange data of type <code>Real</code> with the socket.
This function must only be called once in each
communication interval.

<h3>Inputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Inputs">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>socketFD</td><td>&nbsp;</td><td>Socket file descripter</td></tr>
<tr><td>Integer</td><td>flaWri</td><td>&nbsp;</td><td>Communication flag to write to the socket stream</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>simTimWri</td><td>&nbsp;</td><td>Current simulation time in seconds to write [s]</td></tr>
<tr><td>Real</td><td>dblValWri[nDblWri]</td><td>&nbsp;</td><td>Double values to write</td></tr>
<tr><td>Integer</td><td>nDblWri</td><td>&nbsp;</td><td>Number of double values to write</td></tr>
<tr><td>Integer</td><td>nDblRea</td><td>&nbsp;</td><td>Number of double values to read</td></tr>
</table>
<h3>Outputs</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Outputs">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>Integer</td><td>flaRea</td><td>Communication flag read from the socket stream</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>simTimRea</td><td>Current simulation time in seconds read from socket [s]</td></tr>
<tr><td>Real</td><td>dblValRea[nDblRea]</td><td>Double values read from socket</td></tr>
<tr><td>Integer</td><td>retVal</td><td>The exit value, which is negative if an error occurred</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">function</span> exchangeReals <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Exchanges values of type Real with the socket&quot;</span>

  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Integer socketFD(min=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Socket file descripter&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Integer flaWri <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Communication flag to write to the socket stream&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> simTimWri <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current simulation time in seconds to write&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Real[nDblWri] dblValWri <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Double values to write&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Integer nDblWri <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of double values to write&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">input </span>Integer nDblRea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Number of double values to read&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Integer flaRea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Communication flag read from the socket stream&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> simTimRea <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Current simulation time in seconds read from socket&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Real[nDblRea] dblValRea <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Double values read from socket&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">output </span>Integer retVal <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;The exit value, which is negative if an error occurred&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">external</span> &quot;C&quot;
     retVal=<span style="color: red; font-weight: normal; font-style: normal;">exchangeModelicaClient</span>(socketFD,
       flaWri, flaRea,
       simTimWri,
       dblValWri, nDblWri,
       simTimRea,
       dblValRea, nDblRea);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>exchangeReals;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:30:45 2015.
</address>
</body>
</html>
