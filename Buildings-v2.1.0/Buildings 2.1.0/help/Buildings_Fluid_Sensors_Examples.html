<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.Sensors.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Collection of models that illustrate model use and test models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.Sensors.Examples"></a><a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors"
>Buildings.Fluid.Sensors</a>.Examples</h2>
<p>
<b>Collection of models that illustrate model use and test models</b><br>
</p>
<h3>Information</h3>

<p>
This package contains examples for the use of models that can be found in
<a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors"
>
Buildings.Fluid.Sensors</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.Density" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.Density"
>Density</a>
</td>
<td>Test model for the density sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate"
>EnthalpyFlowRate</a>
</td>
<td>Test model for the enthalpy flow rate sensors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.MassFraction" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.MassFraction"
>MassFraction</a>
</td>
<td>Test model for the mass fraction sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate"
>MoistAirEnthalpyFlowRate</a>
</td>
<td>Test model for the sensible and latent enthalpy flow rate sensors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.Pressure" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.Pressure"
>Pressure</a>
</td>
<td>Test model for the pressure sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.RelativeHumidity" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.RelativeHumidity"
>RelativeHumidity</a>
</td>
<td>Test model for relative humidity sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.SpecificEnthalpy"
>SpecificEnthalpy</a>
</td>
<td>Test model for the enthalpy flow rate sensors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEntropy" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.SpecificEntropy"
>SpecificEntropy</a>
</td>
<td>Test model for the entropy flow rate sensors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TemperatureDryBulb"
>TemperatureDryBulb</a>
</td>
<td>Test model for the dry bulb temperature sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TemperatureWetBulb"
>TemperatureWetBulb</a>
</td>
<td>Test model for the wet bulb temperature sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.TraceSubstances" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.TraceSubstances"
>TraceSubstances</a>
</td>
<td>Test model for the extra property sensor</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.Sensors.C83fc9374ae695197ctionS.png" alt="Buildings.Fluid.Sensors.Examples.VolumeFlowRate" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples.VolumeFlowRate"
>VolumeFlowRate</a>
</td>
<td>Test model for the volume flow rate sensor</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Density<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.Density" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.Density"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.Density</h2>
<p>
<b>Test model for the density sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.Examples.DensityD.png" alt="Buildings.Fluid.Sensors.Examples.Density">
</p>
<h3>Information</h3>

<p>
This example tests the density sensors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Density <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the density sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=293.15,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> masFloRat(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    nPorts=1,
    use_m_flow_in=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Density"
>Buildings.Fluid.Sensors.Density</a> senDenVol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Density sensor for the volume&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> vol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=1,
    nPorts=3,
    m_flow_nominal=10,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</a> dp(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow resistance&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.DensityTwoPort"
>Buildings.Fluid.Sensors.DensityTwoPort</a> senDenFlo(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Density sensor for the flowing medium&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-20,
    offset=10,
    duration=60);
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.ports[1], vol.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[2], dp.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[3], senDenVol.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dp.port_b, senDenFlo.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senDenFlo.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, masFloRat.m_flow_in);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Density;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE EnthalpyFlowRate<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.EnthalpyFlowRate</h2>
<p>
<b>Test model for the enthalpy flow rate sensors</b>
<br>
<br><img src="Buildings.Fluid.Sensors.Ef0b7de606ba2a231wRateD.png" alt="Buildings.Fluid.Sensors.Examples.EnthalpyFlowRate">
</p>
<h3>Information</h3>

<p>
This example tests the enthalpy flow rate sensor and the
specific enthalpy sensor.
The model compares the output of the enthalpy flow rate sensor with
the product of the output of the enthalpy and the mass flow rate sensor.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> EnthalpyFlowRate <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for the enthalpy flow rate sensors&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.EnthalpyFlowRate"
>Buildings.Fluid.Sensors.EnthalpyFlowRate</a> senH_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Enthalpy flow rate sensor&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    T=313.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-2,
    offset=1,
    duration=60);

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</a> senH(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Specific enthalpy sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> senM_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass flow rate sensor&quot;</span>;
  <a href="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</a> assEqu <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Asserts the equality of the enthalpy flow rate computations&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> pro <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Computes the enthalphy flow rate&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senH_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH_flow.port_b, senH.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH.port_b, senM_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senM_flow.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH_flow.H_flow, assEqu.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH.h_out, pro.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senM_flow.m_flow, pro.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(pro.y, assEqu.u2);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>EnthalpyFlowRate;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE MassFraction<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.MassFraction" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.MassFraction"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.MassFraction</h2>
<p>
<b>Test model for the mass fraction sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.Eb501ca4b0508a8a6ctionD.png" alt="Buildings.Fluid.Sensors.Examples.MassFraction">
</p>
<h3>Information</h3>

<p>
This example tests the mass fraction sensors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> MassFraction <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the mass fraction sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> masFloRat(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=false,
    use_T_in=false,
    X={0.02,0.98},
    m_flow=10,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFraction"
>Buildings.Fluid.Sensors.MassFraction</a> senMasFra2(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass fraction sensor for the volume&quot;</span>;
  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> vol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=1,
    nPorts=3,
    m_flow_nominal=10,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Volume&quot;</span>;
  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</a> dp(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow resistance&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFractionTwoPort"
>Buildings.Fluid.Sensors.MassFractionTwoPort</a> senMasFra1(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, m_flow_nominal=10) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass fraction sensor for the flowing medium&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dp.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.ports[1], senMasFra1.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senMasFra1.port_b, vol.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[2], dp.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(vol.ports[3], senMasFra2.port);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>MassFraction;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE MoistAirEnthalpyFlowRate<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.MoistAirEnthalpyFlowRate</h2>
<p>
<b>Test model for the sensible and latent enthalpy flow rate sensors</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E8f2434a6a52546a9wRateD.png" alt="Buildings.Fluid.Sensors.Examples.MoistAirEnthalpyFlowRate">
</p>
<h3>Information</h3>

<p>
This example tests the sensible and latent enthalpy sensors.
It compares the output from the enthalpy sensor with the sum of the
sensible and latent enthalpy sensors.
If they differ, the model stops with an error.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> MoistAirEnthalpyFlowRate <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for the sensible and latent enthalpy flow rate sensors&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.EnthalpyFlowRate"
>Buildings.Fluid.Sensors.EnthalpyFlowRate</a> senH_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor for enthalpy flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
     <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=1,
    X={0.02,0.98},
    T=313.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-2,
    offset=1,
    duration=60);

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</a> senH(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Specific enthalpy sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> senM_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass flow rate sensor&quot;</span>;
  <a href="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</a> assEqu1 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Assert to check then enthalpy flow rate sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Product"
>Modelica.Blocks.Math.Product</a> product <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Product to compute enthalpy flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.LatentEnthalpyFlowRate"
>Buildings.Fluid.Sensors.LatentEnthalpyFlowRate</a> senHLat_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Latent enthalpy flow rate sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SensibleEnthalpyFlowRate"
>Buildings.Fluid.Sensors.SensibleEnthalpyFlowRate</a> senHSen_flow(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, m_flow_nominal=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sensible enthalpy flow rate sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Outputs the sensible plus latent enthalpy flow rate&quot;</span>;
  <a href="Buildings_Utilities_Diagnostics.html#Buildings.Utilities.Diagnostics.AssertEquality"
>Buildings.Utilities.Diagnostics.AssertEquality</a> assEqu2 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Assert to check the sensible and latent enthalpy flow rate sensors&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senH_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH_flow.port_b, senH.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH.port_b, senM_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH_flow.H_flow, assEqu1.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH.h_out, product.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senM_flow.m_flow, product.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(product.y, assEqu1.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senHLat_flow.H_flow, add.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senHSen_flow.H_flow, add.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senM_flow.port_b, senHLat_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senHLat_flow.port_b, senHSen_flow.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senH_flow.H_flow, assEqu2.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(add.y, assEqu2.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senHSen_flow.port_b, sin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>MoistAirEnthalpyFlowRate;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Pressure<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.Pressure" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.Pressure"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.Pressure</h2>
<p>
<b>Test model for the pressure sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E2ebca582dc089ed9ssureD.png" alt="Buildings.Fluid.Sensors.Examples.Pressure">
</p>
<h3>Information</h3>

<p>
This example tests the pressure sensors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> Pressure <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the pressure sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=293.15,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> masFloRat(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    use_m_flow_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;

  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>Buildings.Fluid.FixedResistances.FixedResistanceDpM</a> dp(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10,
    dp_nominal=200) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow resistance&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-20,
    offset=10,
    duration=1);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Pressure"
>Buildings.Fluid.Sensors.Pressure</a> senPre_a(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Pressure sensor at resistance port a&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.Pressure"
>Buildings.Fluid.Sensors.Pressure</a> senPre_b(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Pressure sensor at resistance port b&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativePressure"
>Buildings.Fluid.Sensors.RelativePressure</a> senRelPre(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pressure difference across resistance&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, masFloRat.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.ports[1], dp.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dp.port_b, sin.ports[1]);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senPre_a.port, dp.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senPre_b.port, dp.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senRelPre.port_a, dp.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senRelPre.port_b, dp.port_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>Pressure;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE RelativeHumidity<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.RelativeHumidity" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.RelativeHumidity"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.RelativeHumidity</h2>
<p>
<b>Test model for relative humidity sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E0834a268b4cde4abidityD.png" alt="Buildings.Fluid.Sensors.Examples.RelativeHumidity">
</p>
<h3>Information</h3>

<p>
This example tests the relative humidity sensors.
Note that the sensor with one port always measures the humidity
as if the flow would be leaving the source.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> RelativeHumidity <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for relative humidity sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
   <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_p_in=false,
    T=293.15,
    nPorts=1);
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow=1,
    use_T_in=true,
    use_X_in=true,
    use_m_flow_in=true,
    nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TDryBul(
    height=10,
    offset=273.15 + 30,
    duration=120) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dry bulb temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> XHum(
    duration=1,
    height=(0.0133 - 0.0175),
    offset=0.0175) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Humidity concentration&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Constant&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</a> dif <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Difference, used to compute the mass fraction of dry air&quot;</span>;

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeHumidity"
>Buildings.Fluid.Sensors.RelativeHumidity</a> senRelHum(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Relative humidity of the flow source if the medium were outflowing&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> m_flow(
    height=-2,
    offset=1,
    duration=500) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeHumidityTwoPort"
>Buildings.Fluid.Sensors.RelativeHumidityTwoPort</a> relHum(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, m_flow_nominal=1,
    initType=Modelica.Blocks.Types.Init.InitialState) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Relative humidity of the passing fluid&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TDryBul.y, sou.T_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(const.y, dif.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(XHum.y, dif.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(XHum.y, sou.X_in[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dif.y, sou.X_in[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(m_flow.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(relHum.port_b, sin.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senRelHum.port, sou.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[2], relHum.port_a);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>RelativeHumidity;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SpecificEnthalpy<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.SpecificEnthalpy</h2>
<p>
<b>Test model for the enthalpy flow rate sensors</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E5e638b9868609b17halpyD.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEnthalpy">
</p>
<h3>Information</h3>

<p>
This example tests the specific enthalpy sensors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SpecificEnthalpy <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for the enthalpy flow rate sensors&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_h"
>Buildings.Fluid.Sources.MassFlowSource_h</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    use_h_in=false,
    nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_ph"
>Buildings.Fluid.Sources.Boundary_ph</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_h_in=false,
    h=20,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-2,
    offset=1,
    duration=60);

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpy"
>Buildings.Fluid.Sensors.SpecificEnthalpy</a> senFloSou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at the flow source&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort"
>Buildings.Fluid.Sensors.SpecificEnthalpyTwoPort</a> senStr(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor in the fluid stream&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senFloSou.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[2], senStr.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senStr.port_b, sin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SpecificEnthalpy;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SpecificEntropy<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEntropy" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.SpecificEntropy"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.SpecificEntropy</h2>
<p>
<b>Test model for the entropy flow rate sensors</b>
<br>
<br><img src="Buildings.Fluid.Sensors.Ea82e84d6734f3f52tropyD.png" alt="Buildings.Fluid.Sensors.Examples.SpecificEntropy">
</p>
<h3>Information</h3>

<p>
This example tests the specific entropy sensors.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> SpecificEntropy <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the entropy flow rate sensors&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_h"
>Buildings.Fluid.Sources.MassFlowSource_h</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    use_h_in=false,
    nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_ph"
>Buildings.Fluid.Sources.Boundary_ph</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_h_in=false,
    h=20,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-2,
    offset=1,
    duration=60);

  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEntropy"
>Buildings.Fluid.Sensors.SpecificEntropy</a> senFloSou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at the flow source&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.SpecificEntropyTwoPort"
>Buildings.Fluid.Sensors.SpecificEntropyTwoPort</a> senStr(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor in the fluid stream&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senFloSou.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[2], senStr.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senStr.port_b, sin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>SpecificEntropy;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TemperatureDryBulb<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.TemperatureDryBulb</h2>
<p>
<b>Test model for the dry bulb temperature sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E30365b01e18a3818yBulbD.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureDryBulb">
</p>
<h3>Information</h3>

<p>
This example tests the dry bulb temperature sensors.
One sensor is configured to be a steady-state model,
a second sensor is configured to be a dynamic sensor and
the third sensors is a dynamic sensor with heat transfer.
There is also a sensor that measures the temperature difference.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TemperatureDryBulb <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for the dry bulb temperature sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

 <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> amb(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=298.15,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Ambient conditions, used to test the relative temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> masFloRat(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_T_in=true,
    use_m_flow_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TDryBul(
    height=10,
    duration=1,
    offset=273.15 + 30) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dry bulb temperature&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temSteSta(
   <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
   m_flow_nominal=2,
   tau=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Steady state temperature sensor&quot;</span>;

    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> m_flow1(
    period=30,
    offset=0,
    amplitude=-1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temDyn(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2,
    initType=Modelica.Blocks.Types.Init.InitialState,
    T_start=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dynamic temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.RelativeTemperature"
>RelativeTemperature</a> senRelTem(<span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Temperature difference sensor&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=293.15,
    nPorts=2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temDynLoss(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=2,
    initType=Modelica.Blocks.Types.Init.InitialState,
    transferHeat=true,
    T_start=293.15,
    TAmb=293.15,
    tauHeaTra=30) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dynamic temperature sensor with heat transfer&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add_m_flow <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Add two pulse functions for mass flow rate&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> m_flow2(
    amplitude=1,
    offset=0,
    period=45) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mass flow rate&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TDryBul.y, masFloRat.T_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.ports[1], temSteSta.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSteSta.port_b, temDyn.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(amb.ports[1], senRelTem.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temDyn.port_b, temDynLoss.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.m_flow_in, add_m_flow.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(add_m_flow.u1, m_flow1.y);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(m_flow2.y, add_m_flow.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sin.ports[1], temDynLoss.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sin.ports[2], senRelTem.port_b);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TemperatureDryBulb;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TemperatureWetBulb<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.TemperatureWetBulb</h2>
<p>
<b>Test model for the wet bulb temperature sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E7bfb87b00f5a381ctBulbD.png" alt="Buildings.Fluid.Sensors.Examples.TemperatureWetBulb">
</p>
<h3>Information</h3>

<p>
This example tests the wet bulb temperature sensor.
The problem setup is such that the moisture concentration and
the dry bulb temperature are varied simultaneously in such a way
that the wet bulb temperature remains close to a constant value.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TemperatureWetBulb <span style="color: #006400; font-weight: normal; font-style: normal;">
  &quot;Test model for the wet bulb temperature sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> p(
    duration=1,
    offset=101325,
    height=250) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Pressure boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium=Medium,
    use_p_in=true,
    nPorts=1,
    T=293.15) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureWetBulbTwoPort"
>Buildings.Fluid.Sensors.TemperatureWetBulbTwoPort</a> senWetBul(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium=Medium,
    m_flow_nominal=1,
    tau=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Wet bulb temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow=1,
    use_T_in=true,
    use_X_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TDryBul(
    height=10,
    offset=273.15 + 30,
    duration=50) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Dry bulb temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> XHum(
    height=(0.0133 - 0.0175),
    offset=0.0175,
    duration=50) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Humidity concentration&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Feedback"
>Modelica.Blocks.Math.Feedback</a> dif <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Difference, used to compute the mass fraction of dry air&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(TDryBul.y, sou.T_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(const.y, dif.u1);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(XHum.y, dif.u2);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(XHum.y, sou.X_in[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(dif.y, sou.X_in[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(p.y, sin.p_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senWetBul.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senWetBul.port_b, sin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TemperatureWetBulb;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE TraceSubstances<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.TraceSubstances" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.TraceSubstances"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.TraceSubstances</h2>
<p>
<b>Test model for the extra property sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E90fe01e38627b039ancesD.png" alt="Buildings.Fluid.Sensors.Examples.TraceSubstances">
</p>
<h3>Information</h3>

<p>
This example tests the sensors that measure trace substances.
A CO<sub>2</sub> mass flow rate of <i>8.18E-8</i> kg/kg is added to the
volume. The volume also has a fresh air mass flow rate and
an exhaust air mass flow rate. The initial CO<sub>2</sub> concentration
of the volume is <i>0</i> kg/kg.
Note that the fresh air supply has zero carbon dioxide concentration.
Therefore, if it were outside air, then all concentrations are relative
to the outside air concentration.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>15*1.2/3600</td><td>Mass flow rate into and out of the volume [kg/s]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> TraceSubstances <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the extra property sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a>(extraPropertiesNames={&quot;CO2&quot;}) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Medium model&quot;</span>;

 <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = 15*1.2/3600 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Mass flow rate into and out of the volume&quot;</span>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>MixingVolumes.MixingVolume</a> vol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    V=2*3*3,
    m_flow_nominal=1E-6,
    nPorts=4,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Mixing volume&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.TraceSubstancesFlowSource"
>Sources.TraceSubstancesFlowSource</a> sou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    nPorts=2,
    use_m_flow_in=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;CO2 mass flow source&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> step(k=8.18E-6) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;CO2 mass flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Buildings.Fluid.Sensors.TraceSubstances</a> senVol(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at volume&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstances"
>Buildings.Fluid.Sensors.TraceSubstances</a> senSou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    substanceName=&quot;CO2&quot;) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at source&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> m_flow(k=m_flow_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Fresh air mass flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> mSou(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_m_flow_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Fresh air supply&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.FixedBoundary"
>Sources.FixedBoundary</a> mSin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium, nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Exhaust air&quot;</span>;
  <a href="Buildings_Fluid_Sensors_Conversions.html#Buildings.Fluid.Sensors.Conversions.To_VolumeFraction"
>Buildings.Fluid.Sensors.Conversions.To_VolumeFraction</a> masFraSou(
    MMMea=Modelica.Media.IdealGases.Common.SingleGasesData.CO2.MM) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Conversion of mass ratio to volume ratio&quot;</span>;
  <a href="Buildings_Fluid_Sensors_Conversions.html#Buildings.Fluid.Sensors.Conversions.To_VolumeFraction"
>Buildings.Fluid.Sensors.Conversions.To_VolumeFraction</a> masFraVol(
    MMMea=Modelica.Media.IdealGases.Common.SingleGasesData.CO2.MM) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Conversion of mass ratio to volume ratio&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstancesTwoPort"
>Buildings.Fluid.Sensors.TraceSubstancesTwoPort</a> senTraSub(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=m_flow_nominal) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at exhaust air&quot;</span>;

  <a href="Buildings_Fluid_FixedResistances.html#Buildings.Fluid.FixedResistances.FixedResistanceDpM"
>FixedResistances.FixedResistanceDpM</a> res(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    dp_nominal=10,
    m_flow_nominal=0.005,
    linearized=true);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TraceSubstancesTwoPort"
>Buildings.Fluid.Sensors.TraceSubstancesTwoPort</a> senTraSubNoFlorRev(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=m_flow_nominal,
    allowFlowReversal=false,
    tau=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor at exhaust air, configured to not allow flow reversal&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(m_flow.y, mSou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senSou.C, masFraSou.m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senVol.C, masFraVol.m);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[1], senSou.port);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(step.y, sou.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(sou.ports[2], vol.ports[1]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(mSou.ports[1], vol.ports[2]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res.port_a, senTraSub.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(res.port_b, vol.ports[3]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senVol.port, vol.ports[4]);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senTraSubNoFlorRev.port_a, senTraSub.port_b);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senTraSubNoFlorRev.port_b, mSin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>TraceSubstances;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE VolumeFlowRate<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.Sensors.Examples.DensityI.png" alt="Buildings.Fluid.Sensors.Examples.VolumeFlowRate" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.Sensors.Examples.VolumeFlowRate"></a><a href="Buildings_Fluid_Sensors_Examples.html#Buildings.Fluid.Sensors.Examples"
>Buildings.Fluid.Sensors.Examples</a>.VolumeFlowRate</h2>
<p>
<b>Test model for the volume flow rate sensor</b>
<br>
<br><img src="Buildings.Fluid.Sensors.E546089fd3ac14cfcwRateD.png" alt="Buildings.Fluid.Sensors.Examples.VolumeFlowRate">
</p>
<h3>Information</h3>

<p>
This example tests the volume flow rate sensor.
One sensor is configured to be steady-state, and the other is
configured to be dynamic.
Note that steady-state sensors can lead to numerical problems
if used incorrectly.
See
<a href="Buildings_Fluid_Sensors_UsersGuide.html#Buildings.Fluid.Sensors.UsersGuide"
>
Buildings.Fluid.Sensors.UsersGuide</a> for an explanation.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> VolumeFlowRate <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Test model for the volume flow rate sensor&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;

  <span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Media_Air.html#Buildings.Media.Air"
>Buildings.Media.Air</a> <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Medium model&quot;</span>;

  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    T=293.15,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.MassFlowSource_T"
>Buildings.Fluid.Sources.MassFlowSource_T</a> masFloRat(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    use_T_in=false,
    X={0.02,0.98},
    use_m_flow_in=true,
    nPorts=1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Flow boundary condition&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> ramp(
    height=-20,
    offset=10,
    duration=60);
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.VolumeFlowRate"
>Buildings.Fluid.Sensors.VolumeFlowRate</a> senDyn(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Sensor configured to use a dynamic model for the density&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.VolumeFlowRate"
>Buildings.Fluid.Sensors.VolumeFlowRate</a> senSteSta(
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = Medium,
    m_flow_nominal=10,
    tau=0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Sensor configured to use a steady-state model for the density&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(ramp.y, masFloRat.m_flow_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(masFloRat.ports[1], senDyn.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senDyn.port_b, senSteSta.port_a);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(senSteSta.port_b, sin.ports[1]);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>VolumeFlowRate;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:26:00 2015.
</address>
</body>
</html>
