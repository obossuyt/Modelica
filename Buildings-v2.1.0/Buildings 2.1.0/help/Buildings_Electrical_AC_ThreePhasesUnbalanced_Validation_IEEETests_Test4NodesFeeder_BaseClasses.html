<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;This package contains the base classes used by the IEEE 4 nodes test feeder&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE BaseClasses<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Validation_IEEETests_Test4NodesFeeder.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder</a>.BaseClasses</h2>
<p>
<b>This package contains the base classes used by the IEEE 4 nodes test feeder</b><br>
</p>
<h3>Information</h3>

<p>
This package contains base classes used by the models that are part of the package
<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Validation_IEEETests_Test4NodesFeeder.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder"
>
Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_BasesPackage.html#Modelica.Icons.BasesPackage"
>Modelica.Icons.BasesPackage</a> (Icon for packages containing base classes).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Electrical.AC.T35e0623e7d6168bfwn.DDS.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses.IEEE4" width="20" height="20" align="top">&nbsp;<a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Validation_IEEETests_Test4NodesFeeder_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses.IEEE4"
>IEEE4</a>
</td>
<td>Base model of the IEEE 4 nodes test feeder</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE IEEE4<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Electrical.AC.Tb0885cfdf1885265IEEE4I.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses.IEEE4" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses.IEEE4"></a><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Validation_IEEETests_Test4NodesFeeder_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses</a>.IEEE4</h2>
<p>
<b>Base model of the IEEE 4 nodes test feeder</b>
<br>
<br><img src="Buildings.Electrical.AC.Tb0885cfdf1885265IEEE4D.png" alt="Buildings.Electrical.AC.ThreePhasesUnbalanced.Validation.IEEETests.Test4NodesFeeder.BaseClasses.IEEE4">
</p>
<h3>Information</h3>

<p>
This is a partial model that is extended by all the other validation test cases.
This model defined replaceable probes and transformer so they can be
easily changed when implementing the different tests.
</p>

<p align="center">
<img alt="image" src="../Resources/Images/Electrical/AC/ThreePhasesUnbalanced/Validation/IEEETests/Test4nodesFeeder/IEEE_4nodes_schema.png"/>
</p>

<p>
More information can be found in each model that extends this
one.
</p>

<h4>Reference results</h4>
<p>
The reference results for the tests are saved as parameter of the model and compared to
the simulated ones. The error between the results (herein called <i>X<sub>model</sub></i>)
 and the references (herein called  <i>X<sub>ref</sub></i>) are computed in both
absolute and relative way. Note that  <i>X<sub>model</sub></i> and  <i>X<sub>ref</sub></i>
can be either voltage amplitudes or phase angles.
</p>
<p align="center" style="font-style:italic;">
Err<sub>abs</sub> = X<sub>model</sub> - X<sub>ref</sub>
</p>
<p align="center" style="font-style:italic;">
Err<sub>%</sub> = Err<sub>abs</sub> / X<sub>ref</sub>
</p>

<p>The variables that store the results of the comparison are listed in the
table below</p>

<table summary="summary" border="1" cellspacing="0" cellpadding="2" style="border-collapse:collapse;">
<tr>
  <th>Variable</th>
  <th>Description</th>
  <th>Unit</th>
</tr>
<tr>
  <td><code>err_V2[3]</code></td>
  <td>Error between simulated voltage at node 2 and reference results</td>
  <td>[V]</td>
</tr>
<tr>
  <td><code>err_V3[3]</code></td>
  <td>Error between simulated voltage at node 3 and reference results</td>
  <td>[V]</td>
</tr>
<tr>
  <td><code>err_V4[3]</code></td>
  <td>Error between simulated voltage at node 4 and reference results</td>
  <td>[V]</td>
</tr>
<tr>
  <td><code>err_Theta2[3]</code></td>
  <td>Error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[rad], displayed as [deg]</td>
</tr>
<tr>
  <td><code>err_Theta3[3]</code></td>
  <td>Error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[rad], displayed as [deg]</td>
</tr>
<tr>
  <td><code>err_Theta4[3]</code></td>
  <td>Error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[rad], displayed as [deg]</td>
</tr>
<tr>
  <td><code>err_V2_percent[3]</code></td>
  <td>Relative error between simulated voltage at node 2 and reference results</td>
  <td>[%]</td>
</tr>
<tr>
  <td><code>err_V3_percent[3]</code></td>
  <td>Relative error between simulated voltage at node 3 and reference results</td>
  <td>[%]</td>
</tr>
<tr>
  <td><code>err_V4_percent[3]</code></td>
  <td>Relative error between simulated voltage at node 4 and reference results</td>
  <td>[%]</td>
</tr>
<tr>
  <td><code>err_Theta2_percent[3]</code></td>
  <td>Relative error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[%]</td>
</tr>
<tr>
  <td><code>err_Theta3_percent[3]</code></td>
  <td>Relative error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[%]</td>
</tr>
<tr>
  <td><code>err_Theta4_percent[3]</code></td>
  <td>Relative error between simulated phase angle at node 2 and reference phase angle</td>
  <td>[%]</td>
</tr>
</table>


<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>VLL_side1</td><td>12.47e3</td><td>Voltage line to line side 1 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>VLL_side2</td><td>4.16e3</td><td>Voltage line to line side 2 [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ApparentPower"
>ApparentPower</a></td><td>VARbase</td><td>6000e3</td><td>Base VA power of the transformer [VA]</td></tr>
<tr><td>Boolean</td><td>line1_use_Z_y</td><td>true</td><td>Choose between Zy or Zd impedance matrix for line 1</td></tr>
<tr><td>Boolean</td><td>line2_use_Z_y</td><td>true</td><td>Choose between Zy or Zd impedance matrix for line 2</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V2_ref[3]</td><td>{7107,7140,7121}</td><td>Reference RMS voltage node 2 - IEEE results [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V3_ref[3]</td><td>{2247,2269,2256}</td><td>Reference RMS voltage node 3 - IEEE results [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</a></td><td>V4_ref[3]</td><td>{1918,2061,1981}</td><td>Reference RMS voltage node 4 - IEEE results [V]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>Theta2_ref[3]</td><td>{-0.3,-120.3,119.6}</td><td>Reference voltage phase angle node 2 - IEEE results [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>Theta3_ref[3]</td><td>{-3.7,-123.5,116.4}</td><td>Reference voltage phase angle node 3 - IEEE results [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>Theta4_ref[3]</td><td>{-9.1,-128.3,110.9}</td><td>Reference voltage phase angle node 4 - IEEE results [rad]</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>GeneralizedProbe</a></td><td>node1</td><td>redeclare Buildings.Electric...</td><td>Probe at source</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>GeneralizedProbe</a></td><td>node2</td><td>redeclare Buildings.Electric...</td><td>Probe at the primary side of the transformer</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>GeneralizedProbe</a></td><td>node3</td><td>redeclare Buildings.Electric...</td><td>Probe at the secondary side of the transformer</td></tr>
<tr><td><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>GeneralizedProbe</a></td><td>node4</td><td>redeclare Buildings.Electric...</td><td>Probe at the load</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">partial </span><span style="color: blue; font-weight: normal; font-style: normal;">model</span> IEEE4 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Base model of the IEEE 4 nodes test feeder&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> VLL_side1 = 12.47e3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage line to line side 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> VLL_side2 = 4.16e3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Voltage line to line side 2&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ApparentPower"
>Modelica.SIunits.ApparentPower</a> VARbase = 6000e3 <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Base VA power of the transformer&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean line1_use_Z_y = true <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Choose between Zy or Zd impedance matrix for line 1&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Boolean line2_use_Z_y = true <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Choose between Zy or Zd impedance matrix for line 2&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V2_ref[3] = {7107, 7140, 7121} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference RMS voltage node 2 - IEEE results&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V3_ref[3] = {2247, 2269, 2256} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference RMS voltage node 3 - IEEE results&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> V4_ref[3] = {1918, 2061, 1981} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference RMS voltage node 4 - IEEE results&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> Theta2_ref[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = {-0.3, -120.3, 119.6} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference voltage phase angle node 2 - IEEE results&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> Theta3_ref[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = {-3.7, -123.5, 116.4} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference voltage phase angle node 3 - IEEE results&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> Theta4_ref[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = {-9.1, -128.3, 110.9} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Reference voltage phase angle node 4 - IEEE results&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> err_V2[3] = node2.V - V2_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 2&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> err_V3[3] = node3.V - V3_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 3&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</a> err_V4[3] = node4.V - V4_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 4&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> err_Theta2[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = node2.theta - Theta2_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 2&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> err_Theta3[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = node3.theta - Theta3_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 3&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Modelica.SIunits.Angle</a> err_Theta4[3](<span style="color: blue; font-weight: normal; font-style: normal;">each </span>displayUnit=&quot;deg&quot;) = node4.theta - Theta4_ref <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error on voltage at node 4&quot;</span>;
  Real err_V2_percent[3] = 100*{err_V2[i]/V2_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in RMS voltage at node 2 -- percent&quot;</span>;
  Real err_V3_percent[3] = 100*{err_V3[i]/V3_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in RMS voltage at node 3 -- percent&quot;</span>;
  Real err_V4_percent[3] = 100*{err_V4[i]/V4_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in RMS voltage at node 4 -- percent&quot;</span>;
  Real err_Theta2_percent[3] = 100*{err_Theta2[i]/Theta2_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in voltage phase angle at node 2 -- percent&quot;</span>;
  Real err_Theta3_percent[3] = 100*{err_Theta3[i]/Theta3_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in voltage phase angle at node 3 -- percent&quot;</span>;
  Real err_Theta4_percent[3] = 100*{err_Theta4[i]/Theta4_ref[i] <span style="color: blue; font-weight: normal; font-style: normal;">for </span>i<span style="color: blue; font-weight: normal; font-style: normal;"> in </span>1:3} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Error in voltage phase angle at node 4 -- percent&quot;</span>;
  <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sources.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sources.FixedVoltage"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Sources.FixedVoltage</a> source(
    f=60,
    V=VLL_side1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Voltage source&quot;</span>;
  <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL</a> line1(
    Z11=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z11_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z11_d),
    Z12=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z12_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z12_d),
    Z13=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z13_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z13_d),
    Z22=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z22_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z22_d),
    Z23=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z23_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z23_d),
    Z33=L1*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line1_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z33_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z33_d),
    V_nominal=VLL_side1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Line at primary side&quot;</span>;
  <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Lines.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Lines.TwoPortMatrixRL</a> line2(
    Z11=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z11_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z11_d),
    Z12=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z12_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z12_d),
    Z13=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z13_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z13_d),
    Z22=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z22_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z22_d),
    Z23=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z23_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z23_d),
    Z33=L2*(<span style="color: blue; font-weight: normal; font-style: normal;">if </span>line2_use_Z_y<span style="color: blue; font-weight: normal; font-style: normal;"> then </span>Z33_y<span style="color: blue; font-weight: normal; font-style: normal;"> else </span>Z33_d),
    V_nominal=VLL_side2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Line at secondary side&quot;</span>;
  <a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Loads.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Loads.Inductive"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Loads.Inductive</a> loadRL(
    pf=0.9,
    P_nominal=-1800e3,
    V_nominal=VLL_side2,
    mode=Buildings.Electrical.Types.Load.VariableZ_P_input,
    use_pf_in=true) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Load&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe</a>
    node1(perUnit=false, V_nominal=VLL_side1) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Probe at source&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe</a>
    node2(perUnit=false, V_nominal=VLL_side1) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Probe at the primary side of the transformer&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe</a>
    node3(perUnit=false, V_nominal=VLL_side2) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Probe at the secondary side of the transformer&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">replaceable </span><a href="Buildings_Electrical_AC_ThreePhasesUnbalanced_Sensors_BaseClasses.html#Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe"
>Buildings.Electrical.AC.ThreePhasesUnbalanced.Sensors.BaseClasses.GeneralizedProbe</a>
    node4(perUnit=false, V_nominal=VLL_side2) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Probe at the load&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">protected </span>
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real L1 = 2000*(1.0/5280.0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Length line 1 in miles&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span>Real L2 = 2500*(1.0/5280.0) <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Length line 2 in miles&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11_d[2] = {0.4013,1.4133} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12_d[2] = {0.0953,0.8515} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13_d[2] = {0.0953,0.7266} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22_d[2] = {0.4013,1.4133} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23_d[2] = {0.0953,0.7802} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33_d[2] = {0.4013,1.4133} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;

  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z11_y[2] = {0.4576,1.078} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,1] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z12_y[2] = {0.1559,0.5017} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z13_y[2] = {0.1535,0.3849} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [1,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z22_y[2] = {0.4666,1.0482} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,2] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z23_y[2] = {0.158,0.4236} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [2,3] of impedance matrix&quot;</span>;
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Impedance"
>Modelica.SIunits.Impedance</a> Z33_y[2] = {0.4615,1.0651} <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Element [3,3] of impedance matrix&quot;</span>;
<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(source.terminal, line1.terminal_n);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(line2.terminal_p, loadRL.terminal);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>IEEE4;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:23:34 2015.
</address>
</body>
</html>
