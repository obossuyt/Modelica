<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.SolarCollectors</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- begin header -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- end header -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SolarCollectors<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.SolarCollectors"></a><a href="Buildings_Fluid.html#Buildings.Fluid"
>Buildings.Fluid</a>.SolarCollectors</h2>
<p>
</p>
<h3>Information</h3>

  This package contains models which can be used to simulate solar thermal
  systems and examples describing their use.
  
<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarColldcf8d56eaf0d5ba3GuideS.png" alt="Buildings.Fluid.SolarCollectors.UsersGuide" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_UsersGuide.html#Buildings.Fluid.SolarCollectors.UsersGuide"
>UsersGuide</a>
</td>
<td>User&#39;s Guide for Buildings.Fluid.SolarCollectors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.ASHRAE93S.png" alt="Buildings.Fluid.SolarCollectors.ASHRAE93" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.ASHRAE93"
>ASHRAE93</a>
</td>
<td>Model of a flat plate solar thermal collector</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.ASHRAE93S.png" alt="Buildings.Fluid.SolarCollectors.EN12975" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors.EN12975"
>EN12975</a>
</td>
<td>Model of a concentrating solar collector</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.ControlsS.png" alt="Buildings.Fluid.SolarCollectors.Controls" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_Controls.html#Buildings.Fluid.SolarCollectors.Controls"
>Controls</a>
</td>
<td>Package for solar thermal collector controllers</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.DataS.png" alt="Buildings.Fluid.SolarCollectors.Data" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data"
>Data</a>
</td>
<td>Data for solar thermal collectors</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.TypesS.png" alt="Buildings.Fluid.SolarCollectors.Types" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_Types.html#Buildings.Fluid.SolarCollectors.Types"
>Types</a>
</td>
<td>Package with type definitions used in solar collector data records</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.ExamplesS.png" alt="Buildings.Fluid.SolarCollectors.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_Examples.html#Buildings.Fluid.SolarCollectors.Examples"
>Examples</a>
</td>
<td>Examples demonstrating the use of models in the SolarCollectors package</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollectors.ExamplesS.png" alt="Buildings.Fluid.SolarCollectors.Validation" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_Validation.html#Buildings.Fluid.SolarCollectors.Validation"
>Validation</a>
</td>
<td>Collection of validation models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.SolarCollf62837abb6387eb2assesS.png" alt="Buildings.Fluid.SolarCollectors.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.Fluid.SolarCollectors</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ASHRAE93<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.SolarCollectors.ASHRAE93I.png" alt="Buildings.Fluid.SolarCollectors.ASHRAE93" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.SolarCollectors.ASHRAE93"></a><a href="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors"
>Buildings.Fluid.SolarCollectors</a>.ASHRAE93</h2>
<p>
<b>Model of a flat plate solar thermal collector</b>
<br>
<br><img src="Buildings.Fluid.SolarCollectors.ASHRAE93D.png" alt="Buildings.Fluid.SolarCollectors.ASHRAE93">
</p>
<h3>Information</h3>

      <p>
        This component models a solar thermal collector according to the ASHRAE93
        test standard.
      </p>
    <h4>Notice</h4>
      <ul>
        <li>
          As mentioned in EnergyPlus 7.0.0 Engineering Reference, the SRCC
          incident angle modifier equation coefficients are only valid for
          incident angles of 60 degrees or less. Because these curves behave
          poorly for angles greater than 60 degrees the model does not
          calculate either direct or diffuse solar radiation gains when the
          incidence angle is greater than 60 degrees.
        </li>
        <li>
          By default, the estimated heat capacity of the collector without
          fluid is calculated based on the dry mass and the specific heat
          capacity of copper.
        </li>
      </ul>
 <h4>References</h4>
   <p>
     <a href="http://www.energyplus.gov">EnergyPlus 7.0.0 Engineering Reference</a>, October 13, 2011. <br/>
   </p>
 
<p>Extends from <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector"
>Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector</a> (Partial model for solar collectors).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium in the component</td></tr>
<tr><td>Integer</td><td>nSeg</td><td>3</td><td>Number of segments used to discretize the collector model</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>lat</td><td>&nbsp;</td><td>Latitude [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>azi</td><td>&nbsp;</td><td>Surface azimuth (0 for south-facing; -90 degree for east-facing; +90 degree for west facing [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt (0 for horizontally mounted collector) [rad]</td></tr>
<tr><td>Real</td><td>rho</td><td>&nbsp;</td><td>Ground reflectance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>HeatCapacity</a></td><td>C</td><td>385*perPar.mDry</td><td>Heat capacity of solar collector without fluid (default: cp_copper*mDry*nPanels) [J/K]</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>GenericSolarCollector</a></td><td>per</td><td>&nbsp;</td><td>Performance data</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow.start</td><td>0</td><td>Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp.start</td><td>0</td><td>Pressure difference between port_a and port_b [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shading</td></tr>
<tr><td>Boolean</td><td>use_shaCoe_in</td><td>false</td><td>Enables an input connector for shaCoe</td></tr>
<tr><td>Real</td><td>shaCoe</td><td>0</td><td>Shading coefficient. 0.0: no shading, 1.0: full shading</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Area declarations</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Types.html#Buildings.Fluid.SolarCollectors.Types.NumberSelection"
>NumberSelection</a></td><td>nColType</td><td>Buildings.Fluid.SolarCollect...</td><td>Selection of area specification format</td></tr>
<tr><td>Integer</td><td>nPanels</td><td>0</td><td>Desired number of panels in the simulation</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>totalArea</td><td>0</td><td>Total area of panels in the simulation [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Configuration declarations</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Types.html#Buildings.Fluid.SolarCollectors.Types.SystemConfiguration"
>SystemConfiguration</a></td><td>sysConfig</td><td>Buildings.Fluid.SolarCollect...</td><td>Selection of system configuration</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Formulation of energy balance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>massDynamics</td><td>energyDynamics</td><td>Formulation of mass balance</td></tr>
<tr><td>Real</td><td>mSenFac</td><td>1</td><td>Factor for scaling the sensible thermal mass of the volume</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Initialization</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.AbsolutePressure"
>AbsolutePressure</a></td><td>p_start</td><td>Medium.p_default</td><td>Start value of pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.Temperature"
>Temperature</a></td><td>T_start</td><td>Medium.T_default</td><td>Start value of temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.MassFraction"
>MassFraction</a></td><td>X_start[Medium.nX]</td><td>Medium.X_default</td><td>Start value of mass fractions m_i/m [kg/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_start[Medium.nC]</td><td>fill(0, Medium.nC)</td><td>Start value of trace substances</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_nominal[Medium.nC]</td><td>fill(1E-2, Medium.nC)</td><td>Nominal value of trace substances. (Set to typical order of magnitude.)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr><td>Boolean</td><td>computeFlowResistance</td><td>true</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal</td><td>true</td><td>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*abs(m_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a</td><td>Fluid connector a (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b</td><td>Fluid connector b (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>shaCoe_in</td><td>Shading coefficient</td></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> ASHRAE93 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of a flat plate solar thermal collector&quot;</span>
  <span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector"
>Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector</a>(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>perPar=per);
  <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector</a> per <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Performance data&quot;</span>;

  <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.ASHRAESolarGain"
>BaseClasses.ASHRAESolarGain</a> solGai(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>B0=per.B0,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>B1=per.B1,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>shaCoe=shaCoe,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>til=til,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nSeg=nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y_intercept=per.y_intercept,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>use_shaCoe_in=use_shaCoe_in,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A_c=TotalArea_internal,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations.Medium"
>Medium</a>) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Identifies heat gained from the sun using standard ASHRAE93 calculations&quot;</span>;

  <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.ASHRAEHeatLoss"
>BaseClasses.ASHRAEHeatLoss</a> heaLos(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nSeg=nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>slope=per.slope,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y_intercept=per.y_intercept,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>G_nominal=per.G_nominal,
    dT_nominal=per.dT_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A_c=TotalArea_internal,
    m_flow_nominal=per.mperA_flow_nominal*per.A,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>cp_default=cp_default) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Calculates the heat lost to the surroundings using the ASHRAE93 standard calculations&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.TDryBul, heaLos.TEnv);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDirTil.inc, solGai.incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDirTil.H, solGai.HDirTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDifTilIso.HGroDifTil, solGai.HGroDifTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDifTilIso.HSkyDifTil, solGai.HSkyDifTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCoe_in, solGai.shaCoe_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(solGai.QSol_flow, heaGai.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSen.T, heaLos.TFlu);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSen.T, solGai.TFlu);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaLos.QLos, QLos.Q_flow);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>ASHRAE93;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE EN12975<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.SolarCollectors.ASHRAE93I.png" alt="Buildings.Fluid.SolarCollectors.EN12975" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.SolarCollectors.EN12975"></a><a href="Buildings_Fluid_SolarCollectors.html#Buildings.Fluid.SolarCollectors"
>Buildings.Fluid.SolarCollectors</a>.EN12975</h2>
<p>
<b>Model of a concentrating solar collector</b>
<br>
<br><img src="Buildings.Fluid.SolarCollectors.EN12975D.png" alt="Buildings.Fluid.SolarCollectors.EN12975">
</p>
<h3>Information</h3>

      <h4>Overview</h4>
        <p>
          This component models a solar thermal collector according
          to the EN12975 test standard.
        </p>
      <h4>Notice</h4>
        <ul>
          <li>
            As mentioned in EnergyPlus 7.0.0 Engineering Reference, the SRCC
            incident angle modifier equation coefficients are only valid for
            incident angles of 60 degrees or less. Because these curves behave
            poorly for angles greater than 60 degrees the model does not calculate
            either direct or diffuse solar radiation gains when the incidence
            angle is greater than 60 degrees.
          </li>
          <li>
            By default, the estimated heat capacity of the collector without
            fluid is calculated based on the dry mass and the specific heat
            capacity of copper.
          </li>
        </ul>
      <h4>References</h4>
        <p>
          <a href="http://www.energyplus.gov">EnergyPlus 7.0.0 Engineering Reference</a>, October 13, 2011.<br/>
        </p>
    
<p>Extends from <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector"
>Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector</a> (Partial model for solar collectors).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium in the component</td></tr>
<tr><td>Integer</td><td>nSeg</td><td>3</td><td>Number of segments used to discretize the collector model</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>lat</td><td>&nbsp;</td><td>Latitude [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>azi</td><td>&nbsp;</td><td>Surface azimuth (0 for south-facing; -90 degree for east-facing; +90 degree for west facing [rad]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Angle"
>Angle</a></td><td>til</td><td>&nbsp;</td><td>Surface tilt (0 for horizontally mounted collector) [rad]</td></tr>
<tr><td>Real</td><td>rho</td><td>&nbsp;</td><td>Ground reflectance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatCapacity"
>HeatCapacity</a></td><td>C</td><td>385*perPar.mDry</td><td>Heat capacity of solar collector without fluid (default: cp_copper*mDry*nPanels) [J/K]</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>GenericSolarCollector</a></td><td>per</td><td>&nbsp;</td><td>Performance data</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow.start</td><td>0</td><td>Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp.start</td><td>0</td><td>Pressure difference between port_a and port_b [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Shading</td></tr>
<tr><td>Boolean</td><td>use_shaCoe_in</td><td>false</td><td>Enables an input connector for shaCoe</td></tr>
<tr><td>Real</td><td>shaCoe</td><td>0</td><td>Shading coefficient. 0.0: no shading, 1.0: full shading</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Area declarations</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Types.html#Buildings.Fluid.SolarCollectors.Types.NumberSelection"
>NumberSelection</a></td><td>nColType</td><td>Buildings.Fluid.SolarCollect...</td><td>Selection of area specification format</td></tr>
<tr><td>Integer</td><td>nPanels</td><td>0</td><td>Desired number of panels in the simulation</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Area"
>Area</a></td><td>totalArea</td><td>0</td><td>Total area of panels in the simulation [m2]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Configuration declarations</td></tr>
<tr><td><a href="Buildings_Fluid_SolarCollectors_Types.html#Buildings.Fluid.SolarCollectors.Types.SystemConfiguration"
>SystemConfiguration</a></td><td>sysConfig</td><td>Buildings.Fluid.SolarCollect...</td><td>Selection of system configuration</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Formulation of energy balance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>massDynamics</td><td>energyDynamics</td><td>Formulation of mass balance</td></tr>
<tr><td>Real</td><td>mSenFac</td><td>1</td><td>Factor for scaling the sensible thermal mass of the volume</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Initialization</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.AbsolutePressure"
>AbsolutePressure</a></td><td>p_start</td><td>Medium.p_default</td><td>Start value of pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.Temperature"
>Temperature</a></td><td>T_start</td><td>Medium.T_default</td><td>Start value of temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.MassFraction"
>MassFraction</a></td><td>X_start[Medium.nX]</td><td>Medium.X_default</td><td>Start value of mass fractions m_i/m [kg/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_start[Medium.nC]</td><td>fill(0, Medium.nC)</td><td>Start value of trace substances</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_nominal[Medium.nC]</td><td>fill(1E-2, Medium.nC)</td><td>Nominal value of trace substances. (Set to typical order of magnitude.)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr><td>Boolean</td><td>computeFlowResistance</td><td>true</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal</td><td>true</td><td>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*abs(m_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a</td><td>Fluid connector a (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b</td><td>Fluid connector b (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>shaCoe_in</td><td>Shading coefficient</td></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>Weather data bus</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue; font-weight: normal; font-style: normal;">model</span> EN12975 <span style="color: #006400; font-weight: normal; font-style: normal;">&quot;Model of a concentrating solar collector&quot;</span>
<span style="color: blue; font-weight: normal; font-style: normal;">extends </span><a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector"
>Buildings.Fluid.SolarCollectors.BaseClasses.PartialSolarCollector</a>(<span style="color: blue; font-weight: normal; font-style: normal;">final </span>perPar=per);
    <span style="color: blue; font-weight: normal; font-style: normal;">parameter </span><a href="Buildings_Fluid_SolarCollectors_Data.html#Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector"
>Buildings.Fluid.SolarCollectors.Data.GenericSolarCollector</a> per <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Performance data&quot;</span>;

  <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.EN12975SolarGain"
>BaseClasses.EN12975SolarGain</a> solGai(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A_c=TotalArea_internal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nSeg=nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y_intercept=per.y_intercept,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>B0=per.B0,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>B1=per.B1,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>shaCoe=shaCoe,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>iamDiff=per.IAMDiff,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>use_shaCoe_in=use_shaCoe_in,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations.Medium"
>Medium</a>) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Identifies heat gained from the sun using standard EN12975 calculations&quot;</span>;
  <a href="Buildings_Fluid_SolarCollectors_BaseClasses.html#Buildings.Fluid.SolarCollectors.BaseClasses.EN12975HeatLoss"
>BaseClasses.EN12975HeatLoss</a> heaLos(
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>A_c=TotalArea_internal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>nSeg=nSeg,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>y_intercept=per.y_intercept,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C1=per.C1,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>C2=per.C2,
    <span style="color: blue; font-weight: normal; font-style: normal;">redeclare </span><span style="color: blue; font-weight: normal; font-style: normal;">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium.html#Buildings.Fluid.Interfaces.LumpedVolumeDeclarations.Medium"
>Medium</a>,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>G_nominal=per.G_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>dT_nominal=per.dT_nominal,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>m_flow_nominal=per.mperA_flow_nominal*per.A,
    <span style="color: blue; font-weight: normal; font-style: normal;">final </span>cp_default=cp_default) <span style="color: #006400; font-weight: normal; font-style: normal;">
    &quot;Calculates the heat lost to the surroundings using the EN12975 standard calculations&quot;</span>;

<span style="color: blue; font-weight: normal; font-style: normal;">equation </span>
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCoe_internal, solGai.shaCoe_in);

  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(weaBus.TDryBul, heaLos.TEnv);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDirTil.inc, solGai.incAng);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDifTilIso.H, solGai.HSkyDifTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(HDirTil.H, solGai.HDirTil);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(shaCoe_in, solGai.shaCoe_in);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaLos.TFlu, temSen.T);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(heaLos.QLos, QLos.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(solGai.QSol_flow, heaGai.Q_flow);
  <span style="color: red; font-weight: normal; font-style: normal;">connect</span>(temSen.T, solGai.TFlu);
<span style="color: blue; font-weight: normal; font-style: normal;">end </span>EN12975;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Mon Jul 13 14:26:00 2015.
</address>
</body>
</html>
